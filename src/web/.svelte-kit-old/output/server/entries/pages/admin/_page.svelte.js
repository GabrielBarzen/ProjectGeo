import { c as create_ssr_component, a as createEventDispatcher, f as each, e as escape, v as validate_component, b as add_attribute, o as onDestroy } from "../../../chunks/hooks.js";
import "leaflet";
import "../../../chunks/AdminControls.svelte_svelte_type_style_lang.js";
/* empty css                  */
const ConfirmInput = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  createEventDispatcher();
  return `<div class="h-2/12 w-full flex justify-center"><button class="pointer-events-auto p-1 btn-confirm mb-4" id="expand-button" data-svelte-h="svelte-1aww0v">Confirm</button> <button class="pointer-events-auto p-1 btn-abort mb-4" id="expand-button" data-svelte-h="svelte-1fpbks6">Abort</button> </div>`;
});
var Action$1 = /* @__PURE__ */ ((Action2) => {
  Action2[Action2["Create"] = 0] = "Create";
  Action2[Action2["Edit"] = 1] = "Edit";
  return Action2;
})(Action$1 || {});
const ChangeStateContextMenu = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  createEventDispatcher();
  return `<div class="h-2/12 w-full flex justify-center content-center flex-col">${each(Object.keys(Action$1).filter((item) => !Number(item) && item != "0"), (action) => {
    return `<div class="w-11/12 h-1/3 mb-2 self-center"><button class="btn-secondary">${escape(action.toString())}</button> </div>`;
  })} </div>`;
});
var Action = /* @__PURE__ */ ((Action2) => {
  Action2["ChangeName"] = "Change name";
  Action2["EditAreas"] = "Edit area(s)";
  Action2["Delete"] = "Delete";
  return Action2;
})(Action || {});
const EditContextMenu = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  createEventDispatcher();
  return `<div class="h-2/12 w-full flex justify-center content-center flex-col">${each(Object.keys(Action).filter((item) => !Number(item) && item != "0"), (action) => {
    return `<div class="w-11/12 h-1/3 mb-2 self-center"><button class="btn-secondary">${escape(Action[action].toString())}</button> </div>`;
  })} </div>`;
});
const spinner90 = "data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cstyle%3e.spinner_P7sC{transform-origin:center;animation:spinner_svv2%20.75s%20infinite%20linear}@keyframes%20spinner_svv2{100%25{transform:rotate(360deg)}}%3c/style%3e%3cpath%20fill='white'%20d='M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z'%20class='spinner_P7sC'/%3e%3c/svg%3e";
const css = {
  code: ".resourceAreaListEnabled.svelte-1lmou3f{pointer-events:none;position:absolute;top:0px;left:33.333333%;z-index:10;display:flex;height:100%;width:66.666667%;flex-direction:row;align-items:flex-end;justify-content:center\n}.resourceAreaListDisabled.svelte-1lmou3f{pointer-events:none;position:absolute;top:0px;left:0px;z-index:10;display:flex;width:100%;height:100%;flex-direction:row;align-items:flex-end;justify-content:center\n}",
  map: null
};
const AdminControls = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  const ssr = false;
  var EditMode = /* @__PURE__ */ ((EditMode2) => {
    EditMode2[EditMode2["None"] = 0] = "None";
    EditMode2[EditMode2["Edit"] = 1] = "Edit";
    EditMode2[EditMode2["CreateResourceArea"] = 2] = "CreateResourceArea";
    EditMode2[EditMode2["CreateGraph"] = 3] = "CreateGraph";
    return EditMode2;
  })(EditMode || {});
  var EditModeState = /* @__PURE__ */ ((EditModeState2) => {
    EditModeState2[EditModeState2["None"] = 0] = "None";
    EditModeState2[EditModeState2["Action"] = 1] = "Action";
    EditModeState2[EditModeState2["Confirm"] = 2] = "Confirm";
    EditModeState2[EditModeState2["Wait"] = 3] = "Wait";
    return EditModeState2;
  })(EditModeState || {});
  var currentEditMode = 0;
  var currentEditModeState = 0;
  let { map } = $$props;
  if ($$props.ssr === void 0 && $$bindings.ssr && ssr !== void 0)
    $$bindings.ssr(ssr);
  if ($$props.map === void 0 && $$bindings.map && map !== void 0)
    $$bindings.map(map);
  $$result.css.add(css);
  return `${`<button class="btn-expand" data-svelte-h="svelte-1e06q8i">+</button>`} <div id="controls" class="${[
    "svelte-1lmou3f",
    " resourceAreaListDisabled"
  ].join(" ").trim()}"> <div class="w-4/12"><div class="w-full flex content justify-between">${``} ${currentEditModeState == EditModeState.Action ? `${currentEditMode == EditMode.None ? `${validate_component(ChangeStateContextMenu, "ChangeStateContextMenu").$$render($$result, {}, {}, {})}` : `${currentEditMode == EditMode.Edit ? `${validate_component(EditContextMenu, "EditContextMenu").$$render($$result, {}, {}, {})}` : ``}`}` : `${currentEditModeState == EditModeState.None ? `${currentEditMode == EditMode.Edit ? `<div class="w-full" data-svelte-h="svelte-aehs63">Select Zone To Edit</div>` : ``}` : ``}`}</div> <div class="h-2/12 w-full"> ${currentEditMode == EditMode.None ? `<button class="pointer-events-auto p-1 btn-primary mb-4">${currentEditModeState == EditModeState.None ? `+` : `-`}</button>` : `${currentEditModeState == EditModeState.Confirm ? `${currentEditMode == EditMode.Edit || currentEditMode == EditMode.CreateResourceArea || currentEditMode == EditMode.CreateGraph ? `${validate_component(ConfirmInput, "ConfirmInput").$$render($$result, {}, {}, {})}` : ``}` : `${currentEditModeState == EditModeState.Action || currentEditMode == EditMode.Edit && currentEditModeState == EditModeState.None ? `<button class="pointer-events-auto p-1 btn-primary mb-4" data-svelte-h="svelte-id3d3m">Cancel</button>` : `${currentEditModeState == EditModeState.Wait ? `<button class="pointer-events-none p-1 btn-primary mb-4" data-svelte-h="svelte-17ow5vy"><img${add_attribute("src", spinner90, 0)} alt="spinning button waiting" class="text-white m-auto"></button>` : ``}`}`}`}</div></div> </div>`;
});
const Map$1 = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let { view = [56.04673, 12.69437] } = $$props;
  let { zoom = 14 } = $$props;
  createEventDispatcher();
  let map;
  let mapElement;
  onDestroy(() => {
    map?.remove();
    map = void 0;
  });
  if ($$props.view === void 0 && $$bindings.view && view !== void 0)
    $$bindings.view(view);
  if ($$props.zoom === void 0 && $$bindings.zoom && zoom !== void 0)
    $$bindings.zoom(zoom);
  let $$settled;
  let $$rendered;
  let previous_head = $$result.head;
  do {
    $$settled = true;
    $$result.head = previous_head;
    {
      if (map) {
        map.setView(view, zoom);
      }
    }
    $$rendered = `<div id="map-container" class="relative size-full">${validate_component(AdminControls, "AdminControls").$$render(
      $$result,
      { map },
      {
        map: ($$value) => {
          map = $$value;
          $$settled = false;
        }
      },
      {}
    )} <div id="map" class="absolute left-0 top-0 size-full z-0"${add_attribute("this", mapElement, 0)}></div></div>`;
  } while (!$$settled);
  return $$rendered;
});
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  return `${validate_component(Map$1, "Map").$$render($$result, {}, {}, {})}`;
});
export {
  Page as default
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiX3BhZ2Uuc3ZlbHRlLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbGliL2NvbXBvbmVudHMvQ29uZmlybUlucHV0LnN2ZWx0ZSIsIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9DaGFuZ2VTdGF0ZUNvbnRleHRNZW51LnN2ZWx0ZSIsIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9FZGl0Q29udGV4dE1lbnUuc3ZlbHRlIiwiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2xpYi9hc3NldHMvOTAtcmluZy5zdmciLCIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbGliL2NvbXBvbmVudHMvQWRtaW5Db250cm9scy5zdmVsdGUiLCIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbGliL2NvbXBvbmVudHMvTWFwLnN2ZWx0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuXHRpbXBvcnQgeyBjcmVhdGVFdmVudERpc3BhdGNoZXIgfSBmcm9tICdzdmVsdGUnO1xuXG5cdGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyPHsgY29uZmlybTogYm9vbGVhbiB9PigpO1xuXHRmdW5jdGlvbiBkaXNwYXRjaENvbmZpcm0oY29uZmlybWVkOiBib29sZWFuKSB7XG5cdFx0ZGlzcGF0Y2goJ2NvbmZpcm0nLCBjb25maXJtZWQpO1xuXHR9XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cImgtMi8xMiB3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlclwiPlxuXHQ8YnV0dG9uXG5cdFx0Y2xhc3M9XCJwb2ludGVyLWV2ZW50cy1hdXRvIHAtMSBidG4tY29uZmlybSBtYi00XCJcblx0XHRpZD1cImV4cGFuZC1idXR0b25cIlxuXHRcdG9uOmNsaWNrPXsoKSA9PiBkaXNwYXRjaENvbmZpcm0odHJ1ZSl9XG5cdD5cblx0XHRDb25maXJtXG5cdDwvYnV0dG9uPlxuXHQ8YnV0dG9uXG5cdFx0Y2xhc3M9XCJwb2ludGVyLWV2ZW50cy1hdXRvIHAtMSBidG4tYWJvcnQgbWItNFwiXG5cdFx0aWQ9XCJleHBhbmQtYnV0dG9uXCJcblx0XHRvbjpjbGljaz17KCkgPT4gZGlzcGF0Y2hDb25maXJtKGZhbHNlKX1cblx0PlxuXHRcdEFib3J0XG5cdDwvYnV0dG9uPlxuPC9kaXY+XG5cbjxzdHlsZSBsYW5nPVwicG9zdGNzc1wiPlxuPC9zdHlsZT5cbiIsIjxzY3JpcHQgbGFuZz1cInRzXCIgY29udGV4dD1cIm1vZHVsZVwiPlxuICBleHBvcnQgZW51bSBBY3Rpb24ge1xuICAgIENyZWF0ZSxcbiAgICBFZGl0LFxuICB9XG48L3NjcmlwdD5cblxuPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgaW1wb3J0IHsgY3JlYXRlRXZlbnREaXNwYXRjaGVyIH0gZnJvbSBcInN2ZWx0ZVwiXG5cbiAgY29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKVxuICBmdW5jdGlvbiBkaXNwYXRjaEFjdGlvbihhY3Rpb246IHN0cmluZykge1xuICAgIGNvbnNvbGUubG9nKFwiZGlzcGF0Y2hpbmc6XCIgKyBhY3Rpb24pXG4gICAgZGlzcGF0Y2goXCJkaXNwYXRjaEFjdGlvblwiLCB7XG4gICAgICBhY3Rpb246IGFjdGlvbixcbiAgICB9KVxuICB9XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cImgtMi8xMiB3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBjb250ZW50LWNlbnRlciBmbGV4LWNvbFwiPlxuICB7I2VhY2ggT2JqZWN0LmtleXMoQWN0aW9uKS5maWx0ZXIoKGl0ZW0pID0+ICFOdW1iZXIoaXRlbSkgJiYgaXRlbSAhPSBcIjBcIikgYXMgYWN0aW9ufVxuICAgIDxkaXYgY2xhc3M9XCJ3LTExLzEyIGgtMS8zIG1iLTIgc2VsZi1jZW50ZXJcIj5cbiAgICAgIDxidXR0b24gY2xhc3M9XCJidG4tc2Vjb25kYXJ5XCIgb246Y2xpY2s9eygpID0+IGRpc3BhdGNoQWN0aW9uKGFjdGlvbi50b1N0cmluZygpKX1cbiAgICAgICAgPnthY3Rpb24udG9TdHJpbmcoKX08L2J1dHRvblxuICAgICAgPlxuICAgIDwvZGl2PlxuICB7L2VhY2h9XG48L2Rpdj5cblxuPHN0eWxlPjwvc3R5bGU+XG4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiIGNvbnRleHQ9XCJtb2R1bGVcIj5cblx0ZXhwb3J0IGVudW0gQWN0aW9uIHtcblx0XHRDaGFuZ2VOYW1lID0gJ0NoYW5nZSBuYW1lJyxcblx0XHRFZGl0QXJlYXMgPSAnRWRpdCBhcmVhKHMpJyxcblx0XHREZWxldGUgPSAnRGVsZXRlJ1xuXHR9XG48L3NjcmlwdD5cblxuPHNjcmlwdCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IHsgY3JlYXRlRXZlbnREaXNwYXRjaGVyIH0gZnJvbSAnc3ZlbHRlJztcblxuXHRjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcjx7IGFjdGlvbjogQWN0aW9uIH0+KCk7XG5cdGZ1bmN0aW9uIGRpc3BhdGNoQWN0aW9uKGFjdGlvbjogQWN0aW9uKSB7XG5cdFx0Y29uc29sZS5sb2coJ2Rpc3BhdGNoaW5nOicgKyBhY3Rpb24pO1xuXHRcdGRpc3BhdGNoKCdhY3Rpb24nLCBhY3Rpb24pO1xuXHR9XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cImgtMi8xMiB3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBjb250ZW50LWNlbnRlciBmbGV4LWNvbFwiPlxuXHR7I2VhY2ggT2JqZWN0LmtleXMoQWN0aW9uKS5maWx0ZXIoKGl0ZW0pID0+ICFOdW1iZXIoaXRlbSkgJiYgaXRlbSAhPSAnMCcpIGFzIGFjdGlvbn1cblx0XHQ8ZGl2IGNsYXNzPVwidy0xMS8xMiBoLTEvMyBtYi0yIHNlbGYtY2VudGVyXCI+XG5cdFx0XHQ8YnV0dG9uIGNsYXNzPVwiYnRuLXNlY29uZGFyeVwiIG9uOmNsaWNrPXsoKSA9PiBkaXNwYXRjaEFjdGlvbihBY3Rpb25bYWN0aW9uXSl9XG5cdFx0XHRcdD57QWN0aW9uW2FjdGlvbl0udG9TdHJpbmcoKX08L2J1dHRvblxuXHRcdFx0PlxuXHRcdDwvZGl2PlxuXHR7L2VhY2h9XG48L2Rpdj5cblxuPHN0eWxlPjwvc3R5bGU+XG4iLCJleHBvcnQgZGVmYXVsdCBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM2NzdmclMjB3aWR0aD0nMjQnJTIwaGVpZ2h0PScyNCclMjB2aWV3Qm94PScwJTIwMCUyMDI0JTIwMjQnJTIweG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUzZSUzY3N0eWxlJTNlLnNwaW5uZXJfUDdzQ3t0cmFuc2Zvcm0tb3JpZ2luOmNlbnRlcjthbmltYXRpb246c3Bpbm5lcl9zdnYyJTIwLjc1cyUyMGluZmluaXRlJTIwbGluZWFyfUBrZXlmcmFtZXMlMjBzcGlubmVyX3N2djJ7MTAwJTI1e3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19JTNjL3N0eWxlJTNlJTNjcGF0aCUyMGZpbGw9J3doaXRlJyUyMGQ9J00xMC4xNCwxLjE2YTExLDExLDAsMCwwLTksOC45MkExLjU5LDEuNTksMCwwLDAsMi40NiwxMiwxLjUyLDEuNTIsMCwwLDAsNC4xMSwxMC43YTgsOCwwLDAsMSw2LjY2LTYuNjFBMS40MiwxLjQyLDAsMCwwLDEyLDIuNjloMEExLjU3LDEuNTcsMCwwLDAsMTAuMTQsMS4xNlonJTIwY2xhc3M9J3NwaW5uZXJfUDdzQycvJTNlJTNjL3N2ZyUzZVwiIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IEwsIHsgQ2lyY2xlTWFya2VyLCBMYXRMbmcgfSBmcm9tICdsZWFmbGV0Jztcblx0aW1wb3J0ICdsZWFmbGV0L2Rpc3QvbGVhZmxldC5jc3MnO1xuXHRpbXBvcnQgeyB0eXBlIEFyZWEsIHR5cGUgR3JhcGgsIHR5cGUgVmVydGV4IH0gZnJvbSAnJGxpYi9tYXBwaW5nL0dyYXBocyc7XG5cdGltcG9ydCBDb25maXJtSW5wdXQgZnJvbSAnJGxpYi9jb21wb25lbnRzL0NvbmZpcm1JbnB1dC5zdmVsdGUnO1xuXHRpbXBvcnQgQ2hhbmdlU3RhdGVDb250ZXh0TWVudSwgeyBBY3Rpb24gfSBmcm9tICckbGliL2NvbXBvbmVudHMvQ2hhbmdlU3RhdGVDb250ZXh0TWVudS5zdmVsdGUnO1xuXHRpbXBvcnQgeyBvbk1vdW50IH0gZnJvbSAnc3ZlbHRlJztcblx0aW1wb3J0IHsgUmVzb3VyY2VBcmVhIH0gZnJvbSAnJGxpYi9nYW1lL1Jlc291cmNlQXJlYSc7XG5cdGltcG9ydCAqIGFzIEpTT05QYXJzZXIgZnJvbSAnJGxpYi9qc29uL1BhcnNlcic7XG5cdGltcG9ydCAqIGFzIEFkbWluSW50ZWZhY2UgZnJvbSAnJGxpYi9hcGkvQWRtaW5JbnRlcmZhY2UnO1xuXHRpbXBvcnQgRWRpdENvbnRleHRNZW51IGZyb20gJyRsaWIvY29tcG9uZW50cy9FZGl0Q29udGV4dE1lbnUuc3ZlbHRlJztcblx0aW1wb3J0IHsgQWN0aW9uIGFzIEVkaXRBY3Rpb24gfSBmcm9tICckbGliL2NvbXBvbmVudHMvRWRpdENvbnRleHRNZW51LnN2ZWx0ZSc7XG5cdGltcG9ydCBzcGlubmVyOTAgZnJvbSAnJGxpYi9hc3NldHMvOTAtcmluZy5zdmcnO1xuXG5cdGV4cG9ydCBjb25zdCBzc3IgPSBmYWxzZTtcblx0ZW51bSBFZGl0TW9kZSB7XG5cdFx0Tm9uZSxcblx0XHRFZGl0LFxuXHRcdENyZWF0ZVJlc291cmNlQXJlYSxcblx0XHRDcmVhdGVHcmFwaFxuXHR9XG5cblx0ZW51bSBFZGl0TW9kZVN0YXRlIHtcblx0XHROb25lLFxuXHRcdEFjdGlvbixcblx0XHRDb25maXJtLFxuXHRcdFdhaXRcblx0fVxuXG5cdHZhciBjdXJyZW50RWRpdE1vZGUgPSBFZGl0TW9kZS5Ob25lO1xuXHR2YXIgY3VycmVudEVkaXRNb2RlU3RhdGUgPSBFZGl0TW9kZVN0YXRlLk5vbmU7XG5cblx0dmFyIHJlc291cmNlQXJlYXM6IE1hcDxzdHJpbmcsIFJlc291cmNlQXJlYT4gPSBuZXcgTWFwKCk7XG5cblx0ZXhwb3J0IHZhciBtYXA6IEwuTWFwIHwgdW5kZWZpbmVkO1xuXG5cdG9uTW91bnQoKCkgPT4ge1xuXHRcdHJlbmRlckFsbEFyZWFzKCk7XG5cdH0pO1xuXG5cdGZ1bmN0aW9uIHRvZ2dsZUV4cGFuZCgpIHtcblx0XHRpZiAoY3VycmVudEVkaXRNb2RlID09IEVkaXRNb2RlLk5vbmUpIHtcblx0XHRcdGlmIChjdXJyZW50RWRpdE1vZGVTdGF0ZSA9PSBFZGl0TW9kZVN0YXRlLkFjdGlvbikge1xuXHRcdFx0XHRjdXJyZW50RWRpdE1vZGVTdGF0ZSA9IEVkaXRNb2RlU3RhdGUuTm9uZTtcblx0XHRcdH0gZWxzZSBpZiAoY3VycmVudEVkaXRNb2RlU3RhdGUgPT0gRWRpdE1vZGVTdGF0ZS5Ob25lKVxuXHRcdFx0XHRjdXJyZW50RWRpdE1vZGVTdGF0ZSA9IEVkaXRNb2RlU3RhdGUuQWN0aW9uO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIGZ1bmN0aW9uIHJlbmRlckFsbEFyZWFzKCkge1xuXHRcdHZhciBkYXRhID0gYXdhaXQgQWRtaW5JbnRlZmFjZS5mZXRjaEFsbEFyZWFzKCk7XG5cdFx0dmFyIGFyZWFEYXRhID0gYXdhaXQgZGF0YS5qc29uKCk7XG5cblx0XHRpZiAocmVzb3VyY2VBcmVhcykge1xuXHRcdFx0cmVzb3VyY2VBcmVhcy5mb3JFYWNoKChyZXNvdXJjZUFyZWEpID0+IHtcblx0XHRcdFx0cmVzb3VyY2VBcmVhLmNsZWFyKCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRKU09OUGFyc2VyLnBhcnNlQXJlYUpTT05MaXN0KGFyZWFEYXRhKS5mb3JFYWNoKChhcmVhKSA9PiB7XG5cdFx0XHRyZW5kZXJBcmVhKGFyZWEpO1xuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gcmVuZGVyQXJlYShhcmVhOiBBcmVhKSB7XG5cdFx0dmFyIGNvbG9yMSA9ICcjJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnN1YnN0cmluZyg0KTtcblx0XHRjb2xvcjEgPSBjb2xvcjEuc3Vic3RyaW5nKDAsIDcpO1xuXHRcdHZhciBjb2xvcjIgPSAnIycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoNCk7XG5cblx0XHRjb2xvcjIgPSBjb2xvcjIuc3Vic3RyaW5nKDAsIDcpO1xuXHRcdHZhciByZXNvdXJjZUFyZWE6IFJlc291cmNlQXJlYSA9IG5ldyBSZXNvdXJjZUFyZWEoYXJlYSwgY29sb3IxLCBjb2xvcjIpO1xuXHRcdGlmIChtYXApIHtcblx0XHRcdHJlc291cmNlQXJlYS5yZW5kZXJUbyhtYXApO1xuXHRcdH1cblxuXHRcdHJlc291cmNlQXJlYXMuc2V0KHJlc291cmNlQXJlYS5pZCwgcmVzb3VyY2VBcmVhKTtcblx0fVxuXG5cdGFzeW5jIGZ1bmN0aW9uIGNsZWFyKCkge1xuXHRcdGNyZWF0ZWRBcmVhID0gdW5kZWZpbmVkO1xuXHRcdHJlc291cmNlQXJlYXMuZm9yRWFjaCgoYXJlYSkgPT4ge1xuXHRcdFx0YXJlYS5jbGVhcigpO1xuXHRcdH0pO1xuXHRcdGNyZWF0ZU1vZGVMYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcblx0XHRcdG1hcD8ucmVtb3ZlTGF5ZXIobGF5ZXIpO1xuXHRcdH0pO1xuXHRcdGNyZWF0ZU1vZGVMYXllcnMgPSBbXTtcblx0XHRpZiAobWFwKSB7XG5cdFx0XHRtYXAub2ZmKCdjbGljaycpO1xuXHRcdH1cblx0XHRlZGl0TW9kZVJlc291cmNlQXJlYUlkID0gdW5kZWZpbmVkO1xuXHRcdGN1cnJlbnRFZGl0TW9kZSA9IEVkaXRNb2RlLk5vbmU7XG5cdFx0Y3VycmVudEVkaXRNb2RlU3RhdGUgPSBFZGl0TW9kZVN0YXRlLk5vbmU7XG5cdFx0c2VsZWN0ZWRFZGl0QWN0aW9uID0gdW5kZWZpbmVkO1xuXHRcdHNldE5hbWUgPSAnJztcblx0XHRkaXNwbGF5TmFtZUlucHV0ID0gZmFsc2U7XG5cblx0XHRhd2FpdCByZW5kZXJBbGxBcmVhcygpO1xuXHR9XG5cblx0dmFyIGNyZWF0ZU1vZGVMYXllcnM6IEwuTGF5ZXJbXSA9IFtdO1xuXHRmdW5jdGlvbiBzZXRDcmVhdGVNb2RlKCkge1xuXHRcdGN1cnJlbnRFZGl0TW9kZSA9IEVkaXRNb2RlLkNyZWF0ZUdyYXBoO1xuXHRcdGN1cnJlbnRFZGl0TW9kZVN0YXRlID0gRWRpdE1vZGVTdGF0ZS5BY3Rpb247XG5cdFx0bWFwPy5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcblx0XHRcdHZhciBjcmVhdGVNb2RlTWFya2VyID0gTC5jaXJjbGVNYXJrZXIoZXZlbnQubGF0bG5nKTtcblx0XHRcdGNyZWF0ZU1vZGVMYXllcnMucHVzaChjcmVhdGVNb2RlTWFya2VyKTtcblx0XHRcdG1hcD8uYWRkTGF5ZXIoY3JlYXRlTW9kZU1hcmtlcik7XG5cdFx0XHRpZiAoY3JlYXRlTW9kZUxheWVycy5sZW5ndGggPiAyKSB7XG5cdFx0XHRcdGN1cnJlbnRFZGl0TW9kZVN0YXRlID0gRWRpdE1vZGVTdGF0ZS5Db25maXJtO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0dmFyIGNyZWF0ZWRBcmVhOiBBcmVhIHwgdW5kZWZpbmVkO1xuXHRhc3luYyBmdW5jdGlvbiBjcmVhdGVHcmFwaCgpIHtcblx0XHR2YXIgcG9pbnRzOiBudW1iZXJbXVtdID0gY3JlYXRlTW9kZUxheWVycy5tYXAoKGxheWVyKSA9PiB7XG5cdFx0XHR2YXIgY3JlYXRlQ2lyY2xlTWFya2VyOiBMLkNpcmNsZU1hcmtlciA9IGxheWVyIGFzIENpcmNsZU1hcmtlcjtcblx0XHRcdHJldHVybiBbY3JlYXRlQ2lyY2xlTWFya2VyLmdldExhdExuZygpLmxhdCwgY3JlYXRlQ2lyY2xlTWFya2VyLmdldExhdExuZygpLmxuZ107XG5cdFx0fSk7XG5cdFx0Y3JlYXRlZEFyZWEgPSBKU09OUGFyc2VyLnBhcnNlQXJlYUpTT04oXG5cdFx0XHRhd2FpdCAoYXdhaXQgQWRtaW5JbnRlZmFjZS5jcmVhdGVBcmVhKHBvaW50cywgJ1RlbXBOYW1lJykpLmpzb24oKVxuXHRcdCk7XG5cdH1cblxuXHRmdW5jdGlvbiBzZXRDcmVhdGVSZXNvdXJjZUFyZWFNb2RlKCkge1xuXHRcdGN1cnJlbnRFZGl0TW9kZSA9IEVkaXRNb2RlLkNyZWF0ZVJlc291cmNlQXJlYTtcblx0XHRjdXJyZW50RWRpdE1vZGVTdGF0ZSA9IEVkaXRNb2RlU3RhdGUuQ29uZmlybTtcblx0fVxuXG5cdGZ1bmN0aW9uIHNldEVkaXRNb2RlKCkge1xuXHRcdGN1cnJlbnRFZGl0TW9kZSA9IEVkaXRNb2RlLkVkaXQ7XG5cdFx0Y3VycmVudEVkaXRNb2RlU3RhdGUgPSBFZGl0TW9kZVN0YXRlLk5vbmU7XG5cdFx0cmVzb3VyY2VBcmVhcy5mb3JFYWNoKChyZXNvdXJjZUFyZWEpID0+IHtcblx0XHRcdHJlc291cmNlQXJlYS5zZXRPbkxpbmVDbGlja0Z1bmN0aW9uKChncmFwaCkgPT4ge1xuXHRcdFx0XHRjdXJyZW50RWRpdE1vZGVTdGF0ZSA9IEVkaXRNb2RlU3RhdGUuQWN0aW9uO1xuXHRcdFx0XHRzZXRFZGl0QXJlYU1vZGUoZ3JhcGguaWQpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHQvL0VkaXQgbW9kZSBzdGF0ZSBmdW5jdGlvbnNcblx0YXN5bmMgZnVuY3Rpb24gdmVydGV4Q2xpY2tFZGl0KHZlcnRleDogVmVydGV4LCBncmFwaElkOiBzdHJpbmcpIHtcblx0XHRhd2FpdCBBZG1pbkludGVmYWNlLmRlbGV0ZVZlcnRleCh2ZXJ0ZXguaWQpO1xuXHRcdHNldEVkaXRBcmVhTW9kZShncmFwaElkKTtcblx0fVxuXG5cdGFzeW5jIGZ1bmN0aW9uIGxpbmVDbGlja0Z1bmN0aW9uRWRpdChncmFwaDogR3JhcGgsIGxpbms6IFtWZXJ0ZXgsIFZlcnRleF0sIHBvc2l0aW9uOiBMLkxhdExuZykge1xuXHRcdGF3YWl0IEFkbWluSW50ZWZhY2Uuc3BsaXRHcmFwaExpbmUoZ3JhcGgsIGxpbmtbMF0sIGxpbmtbMV0sIHBvc2l0aW9uLmxhdCwgcG9zaXRpb24ubG5nKTtcblx0XHRzZXRFZGl0QXJlYU1vZGUoZ3JhcGguaWQpO1xuXHR9XG5cblx0YXN5bmMgZnVuY3Rpb24gdmVydGV4RHJhZ0VkaXQodmVydGV4OiBWZXJ0ZXgsIGdyYXBoSWQ6IHN0cmluZykge1xuXHRcdGF3YWl0IEFkbWluSW50ZWZhY2UudXBkYXRlVmVydGV4UG9zaXRpb24odmVydGV4KTtcblx0XHRzZXRFZGl0QXJlYU1vZGUoZ3JhcGhJZCk7XG5cdH1cblxuXHR2YXIgZWRpdE1vZGVSZXNvdXJjZUFyZWFJZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXHRhc3luYyBmdW5jdGlvbiBzZXRFZGl0QXJlYU1vZGUoZ3JhcGhJZDogc3RyaW5nKSB7XG5cdFx0YXdhaXQgcmVuZGVyQWxsQXJlYXMoKTtcblx0XHR2YXIgaWRQcm9taXNlID0gYXdhaXQgQWRtaW5JbnRlZmFjZS5nZXRHcmFwaFBhcmVudEFyZWFJZChncmFwaElkKTtcblx0XHR2YXIgZGF0YTogc3RyaW5nID0gYXdhaXQgaWRQcm9taXNlLmpzb24oKTtcblx0XHR2YXIgcmVzb3VyY2VBcmVhID0gcmVzb3VyY2VBcmVhcy5nZXQoZGF0YSk7XG5cdFx0aWYgKHJlc291cmNlQXJlYSkge1xuXHRcdFx0c2V0TmFtZSA9IHJlc291cmNlQXJlYS5uYW1lO1xuXHRcdFx0ZWRpdE1vZGVSZXNvdXJjZUFyZWFJZCA9IHJlc291cmNlQXJlYS5pZDtcblx0XHRcdGlmIChtYXApIHtcblx0XHRcdFx0cmVzb3VyY2VBcmVhLmNsZWFyKCk7XG5cdFx0XHRcdHJlc291cmNlQXJlYS5zZXRSZW5kZXJEZWJ1Z0xpbmUodHJ1ZSk7XG5cdFx0XHRcdHJlc291cmNlQXJlYS5yZW5kZXJUbyhtYXApO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zb2xlLmxvZyhyZXNvdXJjZUFyZWEpO1xuXHRcdFx0cmVzb3VyY2VBcmVhIS5hZGRNYXJrZXJzKFxuXHRcdFx0XHQodmVydGV4OiBWZXJ0ZXgpID0+IHtcblx0XHRcdFx0XHR2ZXJ0ZXhDbGlja0VkaXQodmVydGV4LCBncmFwaElkKTtcblx0XHRcdFx0XHRyZXNvdXJjZUFyZWE/LmNsZWFyKCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdCh2ZXJ0ZXg6IFZlcnRleCkgPT4ge1xuXHRcdFx0XHRcdHZlcnRleERyYWdFZGl0KHZlcnRleCwgZ3JhcGhJZCk7XG5cdFx0XHRcdFx0cmVzb3VyY2VBcmVhPy5jbGVhcigpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR0cnVlXG5cdFx0XHQpO1xuXG5cdFx0XHRyZXNvdXJjZUFyZWE/LnNldE9uTGluZUNsaWNrRnVuY3Rpb24oKGdyYXBoLCBsaW5rLCBwb3NpdGlvbikgPT4ge1xuXHRcdFx0XHRsaW5lQ2xpY2tGdW5jdGlvbkVkaXQoZ3JhcGgsIGxpbmssIHBvc2l0aW9uKTtcblx0XHRcdFx0cmVzb3VyY2VBcmVhPy5jbGVhcigpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0dmFyIHNldE5hbWUgPSAnJztcblx0dmFyIGRpc3BsYXlOYW1lSW5wdXQgPSBmYWxzZTtcblx0Ly8qKiBCdXR0b24gaW5wdXQgbWFuYWdlbWVudCAqKi8vXG5cdHZhciBzZWxlY3RlZEVkaXRBY3Rpb246IEVkaXRBY3Rpb24gfCB1bmRlZmluZWQ7XG5cdGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUVkaXRDb250ZXh0QWN0aW9uTWVzc2FnZShldmVudDogQ3VzdG9tRXZlbnQ8RWRpdEFjdGlvbj4pIHtcblx0XHRzZWxlY3RlZEVkaXRBY3Rpb24gPSBldmVudC5kZXRhaWw7XG5cdFx0c3dpdGNoIChldmVudC5kZXRhaWwpIHtcblx0XHRcdGNhc2UgRWRpdEFjdGlvbi5EZWxldGU6XG5cdFx0XHRcdGlmIChlZGl0TW9kZVJlc291cmNlQXJlYUlkKSB7XG5cdFx0XHRcdFx0Y3VycmVudEVkaXRNb2RlU3RhdGUgPSBFZGl0TW9kZVN0YXRlLkNvbmZpcm07XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIEVkaXRBY3Rpb24uQ2hhbmdlTmFtZTpcblx0XHRcdFx0c2VsZWN0ZWRFZGl0QWN0aW9uID0gRWRpdEFjdGlvbi5DaGFuZ2VOYW1lO1xuXHRcdFx0XHRjdXJyZW50RWRpdE1vZGVTdGF0ZSA9IEVkaXRNb2RlU3RhdGUuQ29uZmlybTtcblx0XHRcdFx0ZGlzcGxheU5hbWVJbnB1dCA9IHRydWU7XG5cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIEVkaXRBY3Rpb24uRWRpdEFyZWFzOlxuXHRcdFx0XHRhbGVydChldmVudC5kZXRhaWwudG9TdHJpbmcoKSArICc6IE5vdCBpbXBsZW1lbnRlZCcpO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdFx0Ly9pZiBkZWxldGUgY2xlYXIgd2l0aCBlZGl0TW9kZVJlc291cmNlQXJlYUlkXG5cdFx0Ly9pZiBjaGFuZ2VuYW1lIG5hbWUsIHN0YXJ0IG5hbWUgaW5wdXRcblx0XHQvL2lmIGVkaXQgYXJlYXMsIG9wZW4gYWRkIHJlc291cmNlIHByb21wdFxuXHR9XG5cblx0YXN5bmMgZnVuY3Rpb24gaGFuZGxlQ29uZmlybU1lc3NhZ2UoZXZlbnQ6IEN1c3RvbUV2ZW50PGJvb2xlYW4+KSB7XG5cdFx0dmFyIGNvbmZpcm0gPSBldmVudC5kZXRhaWw7XG5cblx0XHRpZiAoY3VycmVudEVkaXRNb2RlU3RhdGUgPT0gRWRpdE1vZGVTdGF0ZS5Db25maXJtKSB7XG5cdFx0XHRzd2l0Y2ggKGN1cnJlbnRFZGl0TW9kZSkge1xuXHRcdFx0XHRjYXNlIEVkaXRNb2RlLkNyZWF0ZUdyYXBoOlxuXHRcdFx0XHRcdGlmIChjb25maXJtKSB7XG5cdFx0XHRcdFx0XHRjdXJyZW50RWRpdE1vZGVTdGF0ZSA9IEVkaXRNb2RlU3RhdGUuV2FpdDtcblx0XHRcdFx0XHRcdGF3YWl0IGNyZWF0ZUdyYXBoKCk7XG5cdFx0XHRcdFx0XHRzZXRDcmVhdGVSZXNvdXJjZUFyZWFNb2RlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIEVkaXRNb2RlLkNyZWF0ZVJlc291cmNlQXJlYTpcblx0XHRcdFx0XHRpZiAoIWNvbmZpcm0pIHtcblx0XHRcdFx0XHRcdGN1cnJlbnRFZGl0TW9kZVN0YXRlID0gRWRpdE1vZGVTdGF0ZS5XYWl0O1xuXHRcdFx0XHRcdFx0YXdhaXQgQWRtaW5JbnRlZmFjZS5kZWxldGVBcmVhKGNyZWF0ZWRBcmVhIS5pZCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNsZWFyKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgRWRpdE1vZGUuRWRpdDpcblx0XHRcdFx0XHRhd2FpdCBoYW5kbGVFZGl0TW9kZUNvbmZpcm0oY29uZmlybSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgRWRpdE1vZGUuTm9uZTpcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRhc3luYyBmdW5jdGlvbiBoYW5kbGVFZGl0TW9kZUNvbmZpcm0oY29uZmlybTogYm9vbGVhbikge1xuXHRcdHN3aXRjaCAoc2VsZWN0ZWRFZGl0QWN0aW9uKSB7XG5cdFx0XHRjYXNlIEVkaXRBY3Rpb24uRGVsZXRlOiB7XG5cdFx0XHRcdGlmIChjb25maXJtKSB7XG5cdFx0XHRcdFx0YXdhaXQgQWRtaW5JbnRlZmFjZS5kZWxldGVBcmVhKGVkaXRNb2RlUmVzb3VyY2VBcmVhSWQhKTtcblx0XHRcdFx0XHRhd2FpdCBjbGVhcigpO1xuXHRcdFx0XHRcdHNldEVkaXRNb2RlKCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0Y2FzZSBFZGl0QWN0aW9uLkNoYW5nZU5hbWU6XG5cdFx0XHRcdGlmIChjb25maXJtKSB7XG5cdFx0XHRcdFx0aWYgKHNldE5hbWUubGVuZ3RoIDwgMikge1xuXHRcdFx0XHRcdFx0YWxlcnQoJ0FyZWEgbmFtZSBtdXN0IGJlIDMgb3IgYWJvdmUnKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0aWYgKCFlZGl0TW9kZVJlc291cmNlQXJlYUlkKSB7XG5cdFx0XHRcdFx0XHRcdGFsZXJ0KCdTb21ldGhpbmcgd2VudCB3cm9uZyB3aGVuIHJlYWRpbmcgcmVzb3VyY2UgYXJlYSBpZCwgcGxlYXNlIHRyeSBhZ2FpbicpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRhd2FpdCBBZG1pbkludGVmYWNlLnVwZGF0ZUFyZWFOYW1lKHNldE5hbWUsIGVkaXRNb2RlUmVzb3VyY2VBcmVhSWQpO1xuXHRcdFx0XHRcdFx0YXdhaXQgY2xlYXIoKTtcblx0XHRcdFx0XHRcdHNldEVkaXRNb2RlKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGF3YWl0IGNsZWFyKCk7XG5cdFx0XHRcdFx0c2V0RWRpdE1vZGUoKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cdGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUFjdGlvbk1lc3NhZ2UoZXZlbnQ6IG9iamVjdCkge1xuXHRcdHZhciBhY3Rpb24gPSBldmVudC5kZXRhaWwuYWN0aW9uO1xuXHRcdHN3aXRjaCAoYWN0aW9uKSB7XG5cdFx0XHRjYXNlICdDcmVhdGUnOlxuXHRcdFx0XHRzZXRDcmVhdGVNb2RlKCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnRWRpdCc6XG5cdFx0XHRcdHNldEVkaXRNb2RlKCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXHR2YXIgc2hvd1Jlc291cmNlQXJlYUxpc3QgPSBmYWxzZTtcblx0ZnVuY3Rpb24gdG9nZ2xlUmVzb3VyY2VBcmVhTGlzdCgpIHtcblx0XHRzaG93UmVzb3VyY2VBcmVhTGlzdCA9ICFzaG93UmVzb3VyY2VBcmVhTGlzdDtcblx0fVxuPC9zY3JpcHQ+XG5cbnsjaWYgc2hvd1Jlc291cmNlQXJlYUxpc3R9XG5cdDxidXR0b24gY2xhc3M9XCJidG4tZXhwYW5kXCIgb246Y2xpY2s9e3RvZ2dsZVJlc291cmNlQXJlYUxpc3R9PiAtIDwvYnV0dG9uPlxuXHQ8ZGl2XG5cdFx0aWQ9XCJyZXNvdXJjZS1hcmVhLWxpc3RcIlxuXHRcdGNsYXNzPVwiYWJzb2x1dGUgdy0xLzMgaC1mdWxsIGxlZnQtMCB0b3AtMCB6LTEwIGZsZXgganVzdGlmeS1jZW50ZXIgZmxleC1yb3cgaXRlbXMtZW5kIHBvaW50ZXItZXZlbnRzLW5vbmUgYmctYmxhY2tcIlxuXHQ+PC9kaXY+XG57OmVsc2V9XG5cdDxidXR0b24gY2xhc3M9XCJidG4tZXhwYW5kXCIgb246Y2xpY2s9e3RvZ2dsZVJlc291cmNlQXJlYUxpc3R9PiArIDwvYnV0dG9uPlxuey9pZn1cblxuPGRpdlxuXHRpZD1cImNvbnRyb2xzXCJcblx0Y2xhc3M6cmVzb3VyY2VBcmVhTGlzdEVuYWJsZWQ9e3Nob3dSZXNvdXJjZUFyZWFMaXN0fVxuXHRjbGFzczpyZXNvdXJjZUFyZWFMaXN0RGlzYWJsZWQ9eyFzaG93UmVzb3VyY2VBcmVhTGlzdH1cbj5cblx0PCEtLSBNb2RlIE1lbnVzIC0tPlxuXHQ8ZGl2IGNsYXNzPVwidy00LzEyXCI+XG5cdFx0PGRpdiBjbGFzcz1cInctZnVsbCBmbGV4IGNvbnRlbnQganVzdGlmeS1iZXR3ZWVuXCI+XG5cdFx0XHR7I2lmIGRpc3BsYXlOYW1lSW5wdXR9XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ3LTEwLzEyIG0tYXV0byBiZy16aW5jLTcwMCBvcGFjaXR5LTYwIGgtWzYwcHhdIHJvdW5kZWQgZmxleFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJyZWxhdGl2ZSB3LTEwLzEyIGgtMTAvMTIgbS1hdXRvIG1pbi13LVsyMDBweF1cIj5cblx0XHRcdFx0XHRcdDxpbnB1dFxuXHRcdFx0XHRcdFx0XHRjbGFzcz1cInBlZXIgcG9pbnRlci1ldmVudHMtYXV0byB3LWZ1bGwgaC1mdWxsIGJnLXRyYW5zcGFyZW50IHRleHQtYmx1ZS1ncmF5LTcwMCBmb250LXNhbnMgZm9udC1ub3JtYWwgb3V0bGluZSBvdXRsaW5lLTAgZm9jdXM6b3V0bGluZS0wIGRpc2FibGVkOmJnLWJsdWUtZ3JheS01MCBkaXNhYmxlZDpib3JkZXItMCB0cmFuc2l0aW9uLWFsbCBwbGFjZWhvbGRlci1zaG93bjpib3JkZXIgcGxhY2Vob2xkZXItc2hvd246Ym9yZGVyLWJsdWUtZ3JheS0yMDAgcGxhY2Vob2xkZXItc2hvd246Ym9yZGVyLXQtYmx1ZS1ncmF5LTIwMCBib3JkZXIgZm9jdXM6Ym9yZGVyLTIgYm9yZGVyLXQtdHJhbnNwYXJlbnQgZm9jdXM6Ym9yZGVyLXQtdHJhbnNwYXJlbnQgdGV4dC1zbSBweC0zIHB5LTIuNSByb3VuZGVkIGJvcmRlci1ibHVlLWdyYXktMjAwIGZvY3VzOmJvcmRlci1ncmF5LTkwMFwiXG5cdFx0XHRcdFx0XHRcdHBsYWNlaG9sZGVyPVwiIFwiXG5cdFx0XHRcdFx0XHRcdGlkPVwiYXJlYS10ZXh0LWlucHV0XCJcblx0XHRcdFx0XHRcdFx0YmluZDp2YWx1ZT17c2V0TmFtZX1cblx0XHRcdFx0XHRcdC8+PGxhYmVsXG5cdFx0XHRcdFx0XHRcdGNsYXNzPVwiZmxleCB3LWZ1bGwgaC1mdWxsIHNlbGVjdC1ub25lIHBvaW50ZXItZXZlbnRzLW5vbmUgYWJzb2x1dGUgbGVmdC0wIGZvbnQtbm9ybWFsICFvdmVyZmxvdy12aXNpYmxlIHRydW5jYXRlIHBlZXItcGxhY2Vob2xkZXItc2hvd246dGV4dC1ibHVlLWdyYXktNTAwIGxlYWRpbmctdGlnaHQgcGVlci1mb2N1czpsZWFkaW5nLXRpZ2h0IHBlZXItZGlzYWJsZWQ6dGV4dC10cmFuc3BhcmVudCBwZWVyLWRpc2FibGVkOnBlZXItcGxhY2Vob2xkZXItc2hvd246dGV4dC1ibHVlLWdyYXktNTAwIHRyYW5zaXRpb24tYWxsIC10b3AtMS41IHBlZXItcGxhY2Vob2xkZXItc2hvd246dGV4dC1zbSB0ZXh0LVsxMXB4XSBwZWVyLWZvY3VzOnRleHQtWzExcHhdIGJlZm9yZTpjb250ZW50WycgJ10gYmVmb3JlOmJsb2NrIGJlZm9yZTpib3gtYm9yZGVyIGJlZm9yZTp3LTIuNSBiZWZvcmU6aC0xLjUgYmVmb3JlOm10LVs2LjVweF0gYmVmb3JlOm1yLTEgcGVlci1wbGFjZWhvbGRlci1zaG93bjpiZWZvcmU6Ym9yZGVyLXRyYW5zcGFyZW50IGJlZm9yZTpyb3VuZGVkLXRsLW1kIGJlZm9yZTpib3JkZXItdCBwZWVyLWZvY3VzOmJlZm9yZTpib3JkZXItdC0yIGJlZm9yZTpib3JkZXItbCBwZWVyLWZvY3VzOmJlZm9yZTpib3JkZXItbC0yIGJlZm9yZTpwb2ludGVyLWV2ZW50cy1ub25lIGJlZm9yZTp0cmFuc2l0aW9uLWFsbCBwZWVyLWRpc2FibGVkOmJlZm9yZTpib3JkZXItdHJhbnNwYXJlbnQgYWZ0ZXI6Y29udGVudFsnICddIGFmdGVyOmJsb2NrIGFmdGVyOmZsZXgtZ3JvdyBhZnRlcjpib3gtYm9yZGVyIGFmdGVyOnctMi41IGFmdGVyOmgtMS41IGFmdGVyOm10LVs2LjVweF0gYWZ0ZXI6bWwtMSBwZWVyLXBsYWNlaG9sZGVyLXNob3duOmFmdGVyOmJvcmRlci10cmFuc3BhcmVudCBhZnRlcjpyb3VuZGVkLXRyLW1kIGFmdGVyOmJvcmRlci10IHBlZXItZm9jdXM6YWZ0ZXI6Ym9yZGVyLXQtMiBhZnRlcjpib3JkZXItciBwZWVyLWZvY3VzOmFmdGVyOmJvcmRlci1yLTIgYWZ0ZXI6cG9pbnRlci1ldmVudHMtbm9uZSBhZnRlcjp0cmFuc2l0aW9uLWFsbCBwZWVyLWRpc2FibGVkOmFmdGVyOmJvcmRlci10cmFuc3BhcmVudCBwZWVyLXBsYWNlaG9sZGVyLXNob3duOmxlYWRpbmctWzMuNzVdIHRleHQtZ3JheS01MDAgcGVlci1mb2N1czp0ZXh0LWdyYXktOTAwIGJlZm9yZTpib3JkZXItYmx1ZS1ncmF5LTIwMCBwZWVyLWZvY3VzOmJlZm9yZTohYm9yZGVyLWdyYXktOTAwIGFmdGVyOmJvcmRlci1ibHVlLWdyYXktMjAwIHBlZXItZm9jdXM6YWZ0ZXI6IWJvcmRlci1ncmF5LTkwMFwiXG5cdFx0XHRcdFx0XHRcdGZvcj1cImFyZWEtdGV4dC1pbnB1dFwiXG5cdFx0XHRcdFx0XHRcdD5BcmVhIE5hbWVcblx0XHRcdFx0XHRcdDwvbGFiZWw+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0ey9pZn1cblx0XHRcdHsjaWYgY3VycmVudEVkaXRNb2RlU3RhdGUgPT0gRWRpdE1vZGVTdGF0ZS5BY3Rpb259XG5cdFx0XHRcdHsjaWYgY3VycmVudEVkaXRNb2RlID09IEVkaXRNb2RlLk5vbmV9XG5cdFx0XHRcdFx0PENoYW5nZVN0YXRlQ29udGV4dE1lbnUgb246ZGlzcGF0Y2hBY3Rpb249e2hhbmRsZUFjdGlvbk1lc3NhZ2V9PjwvQ2hhbmdlU3RhdGVDb250ZXh0TWVudT5cblx0XHRcdFx0ezplbHNlIGlmIGN1cnJlbnRFZGl0TW9kZSA9PSBFZGl0TW9kZS5FZGl0fVxuXHRcdFx0XHRcdDxFZGl0Q29udGV4dE1lbnUgb246YWN0aW9uPXtoYW5kbGVFZGl0Q29udGV4dEFjdGlvbk1lc3NhZ2V9PjwvRWRpdENvbnRleHRNZW51PlxuXHRcdFx0XHR7L2lmfVxuXHRcdFx0ezplbHNlIGlmIGN1cnJlbnRFZGl0TW9kZVN0YXRlID09IEVkaXRNb2RlU3RhdGUuTm9uZX1cblx0XHRcdFx0eyNpZiBjdXJyZW50RWRpdE1vZGUgPT0gRWRpdE1vZGUuRWRpdH1cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidy1mdWxsXCI+U2VsZWN0IFpvbmUgVG8gRWRpdDwvZGl2PlxuXHRcdFx0XHR7L2lmfVxuXHRcdFx0ey9pZn1cblx0XHQ8L2Rpdj5cblx0XHQ8ZGl2IGNsYXNzPVwiaC0yLzEyIHctZnVsbFwiPlxuXHRcdFx0PCEtLSBDYW5jZWwvQ29uZmlybS9FeHBhbmQgQnV0dG9uIC0tPlxuXHRcdFx0eyNpZiBjdXJyZW50RWRpdE1vZGUgPT0gRWRpdE1vZGUuTm9uZX1cblx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cInBvaW50ZXItZXZlbnRzLWF1dG8gcC0xIGJ0bi1wcmltYXJ5IG1iLTRcIiBvbjpjbGljaz17dG9nZ2xlRXhwYW5kfT5cblx0XHRcdFx0XHR7I2lmIGN1cnJlbnRFZGl0TW9kZVN0YXRlID09IEVkaXRNb2RlU3RhdGUuTm9uZX1cblx0XHRcdFx0XHRcdCtcblx0XHRcdFx0XHR7OmVsc2V9XG5cdFx0XHRcdFx0XHQtXG5cdFx0XHRcdFx0ey9pZn1cblx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHR7OmVsc2UgaWYgY3VycmVudEVkaXRNb2RlU3RhdGUgPT0gRWRpdE1vZGVTdGF0ZS5Db25maXJtfVxuXHRcdFx0XHR7I2lmIGN1cnJlbnRFZGl0TW9kZSA9PSBFZGl0TW9kZS5FZGl0IHx8IGN1cnJlbnRFZGl0TW9kZSA9PSBFZGl0TW9kZS5DcmVhdGVSZXNvdXJjZUFyZWEgfHwgY3VycmVudEVkaXRNb2RlID09IEVkaXRNb2RlLkNyZWF0ZUdyYXBofVxuXHRcdFx0XHRcdDxDb25maXJtSW5wdXRcblx0XHRcdFx0XHRcdG9uOmNvbmZpcm09eyhldmVudCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRoYW5kbGVDb25maXJtTWVzc2FnZShldmVudCk7XG5cdFx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdD48L0NvbmZpcm1JbnB1dD5cblx0XHRcdFx0ey9pZn1cblx0XHRcdHs6ZWxzZSBpZiBjdXJyZW50RWRpdE1vZGVTdGF0ZSA9PSBFZGl0TW9kZVN0YXRlLkFjdGlvbiB8fCAoY3VycmVudEVkaXRNb2RlID09IEVkaXRNb2RlLkVkaXQgJiYgY3VycmVudEVkaXRNb2RlU3RhdGUgPT0gRWRpdE1vZGVTdGF0ZS5Ob25lKX1cblx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cInBvaW50ZXItZXZlbnRzLWF1dG8gcC0xIGJ0bi1wcmltYXJ5IG1iLTRcIiBvbjpjbGljaz17Y2xlYXJ9PiBDYW5jZWwgPC9idXR0b24+XG5cdFx0XHR7OmVsc2UgaWYgY3VycmVudEVkaXRNb2RlU3RhdGUgPT0gRWRpdE1vZGVTdGF0ZS5XYWl0fVxuXHRcdFx0XHQ8YnV0dG9uIGNsYXNzPVwicG9pbnRlci1ldmVudHMtbm9uZSBwLTEgYnRuLXByaW1hcnkgbWItNFwiPlxuXHRcdFx0XHRcdDxpbWcgc3JjPXtzcGlubmVyOTB9IGFsdD1cInNwaW5uaW5nIGJ1dHRvbiB3YWl0aW5nXCIgY2xhc3M9XCJ0ZXh0LXdoaXRlIG0tYXV0b1wiIC8+XG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0ey9pZn1cblx0XHQ8L2Rpdj5cblx0PC9kaXY+XG48L2Rpdj5cblxuPHN0eWxlIGxhbmc9XCJwb3N0Y3NzXCI+XG5cdC5yZXNvdXJjZUFyZWFMaXN0RW5hYmxlZCB7XG5cdFx0QGFwcGx5IGFic29sdXRlIGgtZnVsbCB3LTIvMyB0b3AtMCBsZWZ0LTEvMyB6LTEwIGZsZXgganVzdGlmeS1jZW50ZXIgZmxleC1yb3cgaXRlbXMtZW5kIHBvaW50ZXItZXZlbnRzLW5vbmU7XG5cdH1cblx0LnJlc291cmNlQXJlYUxpc3REaXNhYmxlZCB7XG5cdFx0QGFwcGx5IGFic29sdXRlIHNpemUtZnVsbCB0b3AtMCBsZWZ0LTAgei0xMCBmbGV4IGp1c3RpZnktY2VudGVyIGZsZXgtcm93IGl0ZW1zLWVuZCBwb2ludGVyLWV2ZW50cy1ub25lO1xuXHR9XG48L3N0eWxlPlxuIiwiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IHsgb25Nb3VudCwgb25EZXN0cm95LCBjcmVhdGVFdmVudERpc3BhdGNoZXIsIHRpY2sgfSBmcm9tICdzdmVsdGUnO1xuXHRpbXBvcnQgTCBmcm9tICdsZWFmbGV0Jztcblx0aW1wb3J0ICdsZWFmbGV0L2Rpc3QvbGVhZmxldC5jc3MnO1xuXHRpbXBvcnQgQWRtaW5Db250cm9scyBmcm9tICckbGliL2NvbXBvbmVudHMvQWRtaW5Db250cm9scy5zdmVsdGUnO1xuXG5cdGV4cG9ydCBsZXQgdmlldzogTC5MYXRMbmdFeHByZXNzaW9uID0gWzU2LjA0NjczLCAxMi42OTQzN107XG5cdGV4cG9ydCBsZXQgem9vbTogbnVtYmVyID0gMTQ7XG5cblx0Y29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcblxuXHRsZXQgbWFwOiBMLk1hcCB8IHVuZGVmaW5lZDtcblxuXHRsZXQgbWFwRWxlbWVudDogSFRNTEVsZW1lbnQ7XG5cdG9uTW91bnQoKCkgPT4ge1xuXHRcdG1hcCA9IEwubWFwKG1hcEVsZW1lbnQsIHsgem9vbUNvbnRyb2w6IGZhbHNlIH0pXG5cdFx0XHQvLyBleGFtcGxlIHRvIGV4cG9zZSBtYXAgZXZlbnRzIHRvIHBhcmVudCBjb21wb25lbnRzOlxuXHRcdFx0Lm9uKCd6b29tJywgKGUpID0+IGRpc3BhdGNoKCd6b29tJywgZSkpXG5cdFx0XHQub24oJ3BvcHVwb3BlbicsIGFzeW5jIChlKSA9PiB7XG5cdFx0XHRcdGF3YWl0IHRpY2soKTtcblx0XHRcdFx0ZS5wb3B1cC51cGRhdGUoKTtcblx0XHRcdH0pO1xuXG5cdFx0TC50aWxlTGF5ZXIoJ2h0dHBzOi8ve3N9LmJhc2VtYXBzLmNhcnRvY2RuLmNvbS9yYXN0ZXJ0aWxlcy92b3lhZ2VyL3t6fS97eH0ve3l9e3J9LnBuZycsIHtcblx0XHRcdGF0dHJpYnV0aW9uOiBgJmNvcHk7PGEgaHJlZj1cImh0dHBzOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodFwiIHRhcmdldD1cIl9ibGFua1wiPk9wZW5TdHJlZXRNYXA8L2E+LCZjb3B5OzxhIGhyZWY9XCJodHRwczovL2NhcnRvLmNvbS9hdHRyaWJ1dGlvbnNcIiB0YXJnZXQ9XCJfYmxhbmtcIj5DQVJUTzwvYT5gXG5cdFx0fSkuYWRkVG8obWFwKTtcblx0XHRMLmNvbnRyb2xcblx0XHRcdC56b29tKHtcblx0XHRcdFx0cG9zaXRpb246ICd0b3ByaWdodCdcblx0XHRcdH0pXG5cdFx0XHQuYWRkVG8obWFwKTtcblx0fSk7XG5cblx0b25EZXN0cm95KCgpID0+IHtcblx0XHRtYXA/LnJlbW92ZSgpO1xuXHRcdG1hcCA9IHVuZGVmaW5lZDtcblx0fSk7XG5cdCQ6IGlmIChtYXApIHtcblx0XHRtYXAuc2V0Vmlldyh2aWV3LCB6b29tKTtcblx0fVxuPC9zY3JpcHQ+XG5cbjxkaXYgaWQ9XCJtYXAtY29udGFpbmVyXCIgY2xhc3M9XCJyZWxhdGl2ZSBzaXplLWZ1bGxcIj5cblx0PEFkbWluQ29udHJvbHMgYmluZDptYXA+PC9BZG1pbkNvbnRyb2xzPlxuXHQ8ZGl2IGlkPVwibWFwXCIgYmluZDp0aGlzPXttYXBFbGVtZW50fSBjbGFzcz1cImFic29sdXRlIGxlZnQtMCB0b3AtMCBzaXplLWZ1bGwgei0wXCI+PC9kaXY+XG48L2Rpdj5cbiJdLCJuYW1lcyI6WyJBY3Rpb24iLCJFZGl0TW9kZSIsIkVkaXRNb2RlU3RhdGUi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
