import{n as it,s as se,A as ie}from"./scheduler.C5XkXVb-.js";new URL("sveltekit-internal://");function ce(t,n){return t==="/"||n==="ignore"?t:n==="never"?t.endsWith("/")?t.slice(0,-1):t:n==="always"&&!t.endsWith("/")?t+"/":t}function le(t){return t.split("%25").map(decodeURI).join("%25")}function fe(t){for(const n in t)t[n]=decodeURIComponent(t[n]);return t}function ct({href:t}){return t.split("#")[0]}const ue=["href","pathname","search","toString","toJSON"];function de(t,n,e){const r=new URL(t);Object.defineProperty(r,"searchParams",{value:new Proxy(r.searchParams,{get(a,o){if(o==="get"||o==="getAll"||o==="has")return s=>(e(s),a[o](s));n();const i=Reflect.get(a,o);return typeof i=="function"?i.bind(a):i}}),enumerable:!0,configurable:!0});for(const a of ue)Object.defineProperty(r,a,{get(){return n(),t[a]},enumerable:!0,configurable:!0});return r}const he="/__data.json",pe=".html__data.json";function ge(t){return t.endsWith(".html")?t.replace(/\.html$/,pe):t.replace(/\/$/,"")+he}function me(...t){let n=5381;for(const e of t)if(typeof e=="string"){let r=e.length;for(;r;)n=n*33^e.charCodeAt(--r)}else if(ArrayBuffer.isView(e)){const r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);let a=r.length;for(;a;)n=n*33^r[--a]}else throw new TypeError("value must be a string or TypedArray");return(n>>>0).toString(36)}function _e(t){const n=atob(t),e=new Uint8Array(n.length);for(let r=0;r<n.length;r++)e[r]=n.charCodeAt(r);return e.buffer}const $t=window.fetch;window.fetch=(t,n)=>((t instanceof Request?t.method:(n==null?void 0:n.method)||"GET")!=="GET"&&F.delete(pt(t)),$t(t,n));const F=new Map;function ye(t,n){const e=pt(t,n),r=document.querySelector(e);if(r!=null&&r.textContent){let{body:a,...o}=JSON.parse(r.textContent);const i=r.getAttribute("data-ttl");return i&&F.set(e,{body:a,init:o,ttl:1e3*Number(i)}),r.getAttribute("data-b64")!==null&&(a=_e(a)),Promise.resolve(new Response(a,o))}return window.fetch(t,n)}function we(t,n,e){if(F.size>0){const r=pt(t,e),a=F.get(r);if(a){if(performance.now()<a.ttl&&["default","force-cache","only-if-cached",void 0].includes(e==null?void 0:e.cache))return new Response(a.body,a.init);F.delete(r)}}return window.fetch(n,e)}function pt(t,n){let r=`script[data-sveltekit-fetched][data-url=${JSON.stringify(t instanceof Request?t.url:t)}]`;if(n!=null&&n.headers||n!=null&&n.body){const a=[];n.headers&&a.push([...new Headers(n.headers)].join(",")),n.body&&(typeof n.body=="string"||ArrayBuffer.isView(n.body))&&a.push(n.body),r+=`[data-hash="${me(...a)}"]`}return r}const ve=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function be(t){const n=[];return{pattern:t==="/"?/^\/$/:new RegExp(`^${ke(t).map(r=>{const a=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(r);if(a)return n.push({name:a[1],matcher:a[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const o=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(r);if(o)return n.push({name:o[1],matcher:o[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!r)return;const i=r.split(/\[(.+?)\](?!\])/);return"/"+i.map((c,l)=>{if(l%2){if(c.startsWith("x+"))return lt(String.fromCharCode(parseInt(c.slice(2),16)));if(c.startsWith("u+"))return lt(String.fromCharCode(...c.slice(2).split("-").map(f=>parseInt(f,16))));const u=ve.exec(c),[,h,g,d,m]=u;return n.push({name:d,matcher:m,optional:!!h,rest:!!g,chained:g?l===1&&i[0]==="":!1}),g?"(.*?)":h?"([^/]*)?":"([^/]+?)"}return lt(c)}).join("")}).join("")}/?$`),params:n}}function Ee(t){return!/^\([^)]+\)$/.test(t)}function ke(t){return t.slice(1).split("/").filter(Ee)}function Se(t,n,e){const r={},a=t.slice(1),o=a.filter(s=>s!==void 0);let i=0;for(let s=0;s<n.length;s+=1){const c=n[s];let l=a[s-i];if(c.chained&&c.rest&&i&&(l=a.slice(s-i,s+1).filter(u=>u).join("/"),i=0),l===void 0){c.rest&&(r[c.name]="");continue}if(!c.matcher||e[c.matcher](l)){r[c.name]=l;const u=n[s+1],h=a[s+1];u&&!u.rest&&u.optional&&h&&c.chained&&(i=0),!u&&!h&&Object.keys(r).length===o.length&&(i=0);continue}if(c.optional&&c.chained){i++;continue}return}if(!i)return r}function lt(t){return t.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function Ae({nodes:t,server_loads:n,dictionary:e,matchers:r}){const a=new Set(n);return Object.entries(e).map(([s,[c,l,u]])=>{const{pattern:h,params:g}=be(s),d={id:s,exec:m=>{const f=h.exec(m);if(f)return Se(f,g,r)},errors:[1,...u||[]].map(m=>t[m]),layouts:[0,...l||[]].map(i),leaf:o(c)};return d.errors.length=d.layouts.length=Math.max(d.errors.length,d.layouts.length),d});function o(s){const c=s<0;return c&&(s=~s),[c,t[s]]}function i(s){return s===void 0?s:[a.has(s),t[s]]}}function Dt(t,n=JSON.parse){try{return n(sessionStorage[t])}catch{}}function It(t,n,e=JSON.stringify){const r=e(n);try{sessionStorage[t]=r}catch{}}const N=[];function gt(t,n=it){let e;const r=new Set;function a(s){if(se(t,s)&&(t=s,e)){const c=!N.length;for(const l of r)l[1](),N.push(l,t);if(c){for(let l=0;l<N.length;l+=2)N[l][0](N[l+1]);N.length=0}}}function o(s){a(s(t))}function i(s,c=it){const l=[s,c];return r.add(l),r.size===1&&(e=n(a,o)||it),s(t),()=>{r.delete(l),r.size===0&&e&&(e(),e=null)}}return{set:a,update:o,subscribe:i}}var Ot;const I=((Ot=globalThis.__sveltekit_1ouh9js)==null?void 0:Ot.base)??"";var jt;const Re=((jt=globalThis.__sveltekit_1ouh9js)==null?void 0:jt.assets)??I,Ie="1710494721160",Ct="sveltekit:snapshot",Vt="sveltekit:scroll",Ft="sveltekit:states",Le="sveltekit:pageurl",$="sveltekit:history",q="sveltekit:navigation",z={tap:1,hover:2,viewport:3,eager:4,off:-1,false:-1},B=location.origin;function qt(t){if(t instanceof URL)return t;let n=document.baseURI;if(!n){const e=document.getElementsByTagName("base");n=e.length?e[0].href:document.URL}return new URL(t,n)}function mt(){return{x:pageXOffset,y:pageYOffset}}function O(t,n){return t.getAttribute(`data-sveltekit-${n}`)}const Lt={...z,"":z.hover};function Gt(t){let n=t.assignedSlot??t.parentNode;return(n==null?void 0:n.nodeType)===11&&(n=n.host),n}function Mt(t,n){for(;t&&t!==n;){if(t.nodeName.toUpperCase()==="A"&&t.hasAttribute("href"))return t;t=Gt(t)}}function ut(t,n){let e;try{e=new URL(t instanceof SVGAElement?t.href.baseVal:t.href,document.baseURI)}catch{}const r=t instanceof SVGAElement?t.target.baseVal:t.target,a=!e||!!r||et(e,n)||(t.getAttribute("rel")||"").split(/\s+/).includes("external"),o=(e==null?void 0:e.origin)===B&&t.hasAttribute("download");return{url:e,external:a,target:r,download:o}}function Y(t){let n=null,e=null,r=null,a=null,o=null,i=null,s=t;for(;s&&s!==document.documentElement;)r===null&&(r=O(s,"preload-code")),a===null&&(a=O(s,"preload-data")),n===null&&(n=O(s,"keepfocus")),e===null&&(e=O(s,"noscroll")),o===null&&(o=O(s,"reload")),i===null&&(i=O(s,"replacestate")),s=Gt(s);function c(l){switch(l){case"":case"true":return!0;case"off":case"false":return!1;default:return}}return{preload_code:Lt[r??"off"],preload_data:Lt[a??"off"],keepfocus:c(n),noscroll:c(e),reload:c(o),replace_state:c(i)}}function Pt(t){const n=gt(t);let e=!0;function r(){e=!0,n.update(i=>i)}function a(i){e=!1,n.set(i)}function o(i){let s;return n.subscribe(c=>{(s===void 0||e&&c!==s)&&i(s=c)})}return{notify:r,set:a,subscribe:o}}function Pe(){const{set:t,subscribe:n}=gt(!1);let e;async function r(){clearTimeout(e);try{const a=await fetch(`${Re}/_app/version.json`,{headers:{pragma:"no-cache","cache-control":"no-cache"}});if(!a.ok)return!1;const i=(await a.json()).version!==Ie;return i&&(t(!0),clearTimeout(e)),i}catch{return!1}}return{subscribe:n,check:r}}function et(t,n){return t.origin!==B||!t.pathname.startsWith(n)}const Te=-1,Ue=-2,xe=-3,Ne=-4,Oe=-5,je=-6;function $e(t,n){if(typeof t=="number")return a(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const e=t,r=Array(e.length);function a(o,i=!1){if(o===Te)return;if(o===xe)return NaN;if(o===Ne)return 1/0;if(o===Oe)return-1/0;if(o===je)return-0;if(i)throw new Error("Invalid input");if(o in r)return r[o];const s=e[o];if(!s||typeof s!="object")r[o]=s;else if(Array.isArray(s))if(typeof s[0]=="string"){const c=s[0],l=n==null?void 0:n[c];if(l)return r[o]=l(a(s[1]));switch(c){case"Date":r[o]=new Date(s[1]);break;case"Set":const u=new Set;r[o]=u;for(let d=1;d<s.length;d+=1)u.add(a(s[d]));break;case"Map":const h=new Map;r[o]=h;for(let d=1;d<s.length;d+=2)h.set(a(s[d]),a(s[d+1]));break;case"RegExp":r[o]=new RegExp(s[1],s[2]);break;case"Object":r[o]=Object(s[1]);break;case"BigInt":r[o]=BigInt(s[1]);break;case"null":const g=Object.create(null);r[o]=g;for(let d=1;d<s.length;d+=2)g[s[d]]=a(s[d+1]);break;default:throw new Error(`Unknown type ${c}`)}}else{const c=new Array(s.length);r[o]=c;for(let l=0;l<s.length;l+=1){const u=s[l];u!==Ue&&(c[l]=a(u))}}else{const c={};r[o]=c;for(const l in s){const u=s[l];c[l]=a(u)}}return r[o]}return a(0)}const Ht=new Set(["load","prerender","csr","ssr","trailingSlash","config"]);[...Ht];const De=new Set([...Ht]);[...De];function Ce(t){return t.filter(n=>n!=null)}class nt{constructor(n,e){this.status=n,typeof e=="string"?this.body={message:e}:e?this.body=e:this.body={message:`Error: ${n}`}}toString(){return JSON.stringify(this.body)}}class Bt{constructor(n,e){this.status=n,this.location=e}}class _t extends Error{constructor(n,e,r){super(r),this.status=n,this.text=e}}const Ve="x-sveltekit-invalidated",Fe="x-sveltekit-trailing-slash";function J(t){return t instanceof nt||t instanceof _t?t.status:500}function qe(t){return t instanceof _t?t.text:"Internal Error"}const x=Dt(Vt)??{},G=Dt(Ct)??{},T={url:Pt({}),page:Pt({}),navigating:gt(null),updated:Pe()};function yt(t){x[t]=mt()}function Ge(t,n){let e=t+1;for(;x[e];)delete x[e],e+=1;for(e=n+1;G[e];)delete G[e],e+=1}function D(t){return location.href=t.href,new Promise(()=>{})}function Tt(){}let at,dt,W,L,ht,C;const Kt=[],X=[];let P=null;const zt=[],Me=[];let j=[],w={branch:[],error:null,url:null},wt=!1,Z=!1,Ut=!0,M=!1,V=!1,Yt=!1,vt=!1,bt,k,A,R,Q;async function tn(t,n,e){var a,o;document.URL!==location.href&&(location.href=location.href),C=t,at=Ae(t),L=document.documentElement,ht=n,dt=t.nodes[0],W=t.nodes[1],dt(),W(),k=(a=history.state)==null?void 0:a[$],A=(o=history.state)==null?void 0:o[q],k||(k=A=Date.now(),history.replaceState({...history.state,[$]:k,[q]:A},""));const r=x[k];r&&(history.scrollRestoration="manual",scrollTo(r.x,r.y)),e?await Xe(ht,e):Je(location.href,{replaceState:!0}),We()}function He(){Kt.length=0,vt=!1}function Jt(t){X.some(n=>n==null?void 0:n.snapshot)&&(G[t]=X.map(n=>{var e;return(e=n==null?void 0:n.snapshot)==null?void 0:e.capture()}))}function Wt(t){var n;(n=G[t])==null||n.forEach((e,r)=>{var a,o;(o=(a=X[r])==null?void 0:a.snapshot)==null||o.restore(e)})}function xt(){yt(k),It(Vt,x),Jt(A),It(Ct,G)}async function Xt(t,n,e,r){return K({type:"goto",url:qt(t),keepfocus:n.keepFocus,noscroll:n.noScroll,replace_state:n.replaceState,state:n.state,redirect_count:e,nav_token:r,accept:()=>{n.invalidateAll&&(vt=!0)}})}async function Be(t){return P={id:t.id,promise:Qt(t).then(n=>(n.type==="loaded"&&n.state.error&&(P=null),n))},P.promise}async function ft(t){const n=at.find(e=>e.exec(te(t)));n&&await Promise.all([...n.layouts,n.leaf].map(e=>e==null?void 0:e[1]()))}function Zt(t,n){var a;w=t.state;const e=document.querySelector("style[data-sveltekit]");e&&e.remove(),R=t.props.page,bt=new C.root({target:n,props:{...t.props,stores:T,components:X},hydrate:!0}),Wt(A);const r={from:null,to:{params:w.params,route:{id:((a=w.route)==null?void 0:a.id)??null},url:new URL(location.href)},willUnload:!1,type:"enter",complete:Promise.resolve()};j.forEach(o=>o(r)),Z=!0}async function tt({url:t,params:n,branch:e,status:r,error:a,route:o,form:i}){let s="never";if(I&&(t.pathname===I||t.pathname===I+"/"))s="always";else for(const d of e)(d==null?void 0:d.slash)!==void 0&&(s=d.slash);t.pathname=ce(t.pathname,s),t.search=t.search;const c={type:"loaded",state:{url:t,params:n,branch:e,error:a,route:o},props:{constructors:Ce(e).map(d=>d.node.component),page:R}};i!==void 0&&(c.props.form=i);let l={},u=!R,h=0;for(let d=0;d<Math.max(e.length,w.branch.length);d+=1){const m=e[d],f=w.branch[d];(m==null?void 0:m.data)!==(f==null?void 0:f.data)&&(u=!0),m&&(l={...l,...m.data},u&&(c.props[`data_${h}`]=l),h+=1)}return(!w.url||t.href!==w.url.href||w.error!==a||i!==void 0&&i!==R.form||u)&&(c.props.page={error:a,params:n,route:{id:(o==null?void 0:o.id)??null},state:{},status:r,url:new URL(t),form:i??null,data:u?l:R.data}),c}async function Et({loader:t,parent:n,url:e,params:r,route:a,server_data_node:o}){var u,h,g;let i=null,s=!0;const c={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1,search_params:new Set},l=await t();if((u=l.universal)!=null&&u.load){let d=function(...f){for(const _ of f){const{href:v}=new URL(_,e);c.dependencies.add(v)}};const m={route:new Proxy(a,{get:(f,_)=>(s&&(c.route=!0),f[_])}),params:new Proxy(r,{get:(f,_)=>(s&&c.params.add(_),f[_])}),data:(o==null?void 0:o.data)??null,url:de(e,()=>{s&&(c.url=!0)},f=>{s&&c.search_params.add(f)}),async fetch(f,_){let v;f instanceof Request?(v=f.url,_={body:f.method==="GET"||f.method==="HEAD"?void 0:await f.blob(),cache:f.cache,credentials:f.credentials,headers:f.headers,integrity:f.integrity,keepalive:f.keepalive,method:f.method,mode:f.mode,redirect:f.redirect,referrer:f.referrer,referrerPolicy:f.referrerPolicy,signal:f.signal,..._}):v=f;const S=new URL(v,e);return s&&d(S.href),S.origin===e.origin&&(v=S.href.slice(e.origin.length)),Z?we(v,S.href,_):ye(v,_)},setHeaders:()=>{},depends:d,parent(){return s&&(c.parent=!0),n()},untrack(f){s=!1;try{return f()}finally{s=!0}}};i=await l.universal.load.call(null,m)??null}return{node:l,loader:t,server:o,universal:(h=l.universal)!=null&&h.load?{type:"data",data:i,uses:c}:null,data:i??(o==null?void 0:o.data)??null,slash:((g=l.universal)==null?void 0:g.trailingSlash)??(o==null?void 0:o.slash)}}function Nt(t,n,e,r,a,o){if(vt)return!0;if(!a)return!1;if(a.parent&&t||a.route&&n||a.url&&e)return!0;for(const i of a.search_params)if(r.has(i))return!0;for(const i of a.params)if(o[i]!==w.params[i])return!0;for(const i of a.dependencies)if(Kt.some(s=>s(new URL(i))))return!0;return!1}function kt(t,n){return(t==null?void 0:t.type)==="data"?t:(t==null?void 0:t.type)==="skip"?n??null:null}function Ke(t,n){if(!t)return new Set(n.searchParams.keys());const e=new Set([...t.searchParams.keys(),...n.searchParams.keys()]);for(const r of e){const a=t.searchParams.getAll(r),o=n.searchParams.getAll(r);a.every(i=>o.includes(i))&&o.every(i=>a.includes(i))&&e.delete(r)}return e}async function Qt({id:t,invalidating:n,url:e,params:r,route:a}){if((P==null?void 0:P.id)===t)return P.promise;const{errors:o,layouts:i,leaf:s}=a,c=[...i,s];o.forEach(p=>p==null?void 0:p().catch(()=>{})),c.forEach(p=>p==null?void 0:p[1]().catch(()=>{}));let l=null;const u=w.url?t!==w.url.pathname+w.url.search:!1,h=w.route?a.id!==w.route.id:!1,g=Ke(w.url,e);let d=!1;const m=c.map((p,y)=>{var U;const b=w.branch[y],E=!!(p!=null&&p[0])&&((b==null?void 0:b.loader)!==p[1]||Nt(d,h,u,g,(U=b.server)==null?void 0:U.uses,r));return E&&(d=!0),E});if(m.some(Boolean)){try{l=await ae(e,m)}catch(p){return rt({status:J(p),error:await H(p,{url:e,params:r,route:{id:a.id}}),url:e,route:a})}if(l.type==="redirect")return l}const f=l==null?void 0:l.nodes;let _=!1;const v=c.map(async(p,y)=>{var ot;if(!p)return;const b=w.branch[y],E=f==null?void 0:f[y];if((!E||E.type==="skip")&&p[1]===(b==null?void 0:b.loader)&&!Nt(_,h,u,g,(ot=b.universal)==null?void 0:ot.uses,r))return b;if(_=!0,(E==null?void 0:E.type)==="error")throw E;return Et({loader:p[1],url:e,params:r,route:a,parent:async()=>{var Rt;const At={};for(let st=0;st<y;st+=1)Object.assign(At,(Rt=await v[st])==null?void 0:Rt.data);return At},server_data_node:kt(E===void 0&&p[0]?{type:"skip"}:E??null,p[0]?b==null?void 0:b.server:void 0)})});for(const p of v)p.catch(()=>{});const S=[];for(let p=0;p<c.length;p+=1)if(c[p])try{S.push(await v[p])}catch(y){if(y instanceof Bt)return{type:"redirect",location:y.location};let b=J(y),E;if(f!=null&&f.includes(y))b=y.status??b,E=y.error;else if(y instanceof nt)E=y.body;else{if(await T.updated.check())return await D(e);E=await H(y,{params:r,url:e,route:{id:a.id}})}const U=await ze(p,S,o);return U?await tt({url:e,params:r,branch:S.slice(0,U.idx).concat(U.node),status:b,error:E,route:a}):await ne(e,{id:a.id},E,b)}else S.push(void 0);return await tt({url:e,params:r,branch:S,status:200,error:null,route:a,form:n?void 0:null})}async function ze(t,n,e){for(;t--;)if(e[t]){let r=t;for(;!n[r];)r-=1;try{return{idx:r+1,node:{node:await e[t](),loader:e[t],data:{},server:null,universal:null}}}catch{continue}}}async function rt({status:t,error:n,url:e,route:r}){const a={};let o=null;if(C.server_loads[0]===0)try{const l=await ae(e,[!0]);if(l.type!=="data"||l.nodes[0]&&l.nodes[0].type!=="data")throw 0;o=l.nodes[0]??null}catch{(e.origin!==B||e.pathname!==location.pathname||wt)&&await D(e)}const s=await Et({loader:dt,url:e,params:a,route:r,parent:()=>Promise.resolve({}),server_data_node:kt(o)}),c={node:await W(),loader:W,universal:null,server:null,data:null};return await tt({url:e,params:a,branch:[s,c],status:t,error:n,route:null})}function St(t,n){if(!t||et(t,I))return;let e;try{e=C.hooks.reroute({url:new URL(t)})??t.pathname}catch{return}const r=te(e);for(const a of at){const o=a.exec(r);if(o)return{id:t.pathname+t.search,invalidating:n,route:a,params:fe(o),url:t}}}function te(t){return le(t.slice(I.length)||"/")}function ee({url:t,type:n,intent:e,delta:r}){let a=!1;const o=oe(w,e,t,n);r!==void 0&&(o.navigation.delta=r);const i={...o.navigation,cancel:()=>{a=!0,o.reject(new Error("navigation cancelled"))}};return M||zt.forEach(s=>s(i)),a?null:o}async function K({type:t,url:n,popped:e,keepfocus:r,noscroll:a,replace_state:o,state:i={},redirect_count:s=0,nav_token:c={},accept:l=Tt,block:u=Tt}){const h=St(n,!1),g=ee({url:n,type:t,delta:e==null?void 0:e.delta,intent:h});if(!g){u();return}const d=k,m=A;l(),M=!0,Z&&T.navigating.set(g.navigation),Q=c;let f=h&&await Qt(h);if(!f){if(et(n,I))return await D(n);f=await ne(n,{id:null},await H(new _t(404,"Not Found",`Not found: ${n.pathname}`),{url:n,params:{},route:{id:null}}),404)}if(n=(h==null?void 0:h.url)||n,Q!==c)return g.reject(new Error("navigation aborted")),!1;if(f.type==="redirect")if(s>=20)f=await rt({status:500,error:await H(new Error("Redirect loop"),{url:n,params:{},route:{id:null}}),url:n,route:{id:null}});else return Xt(new URL(f.location,n).href,{},s+1,c),!1;else f.props.page.status>=400&&await T.updated.check()&&await D(n);if(He(),yt(d),Jt(m),f.props.page.url.pathname!==n.pathname&&(n.pathname=f.props.page.url.pathname),i=e?e.state:i,!e){const p=o?0:1,y={[$]:k+=p,[q]:A+=p,[Ft]:i};(o?history.replaceState:history.pushState).call(history,y,"",n),o||Ge(k,A)}if(P=null,f.props.page.state=i,Z){w=f.state,f.props.page&&(f.props.page.url=n);const p=(await Promise.all(Me.map(y=>y(g.navigation)))).filter(y=>typeof y=="function");if(p.length>0){let y=function(){j=j.filter(b=>!p.includes(b))};p.push(y),j.push(...p)}bt.$set(f.props),Yt=!0}else Zt(f,ht);const{activeElement:_}=document;await ie();const v=e?e.scroll:a?mt():null;if(Ut){const p=n.hash&&document.getElementById(decodeURIComponent(n.hash.slice(1)));v?scrollTo(v.x,v.y):p?p.scrollIntoView():scrollTo(0,0)}const S=document.activeElement!==_&&document.activeElement!==document.body;!r&&!S&&Ze(),Ut=!0,f.props.page&&(R=f.props.page),M=!1,t==="popstate"&&Wt(A),g.fulfil(void 0),j.forEach(p=>p(g.navigation)),T.navigating.set(null)}async function ne(t,n,e,r){return t.origin===B&&t.pathname===location.pathname&&!wt?await rt({status:r,error:e,url:t,route:n}):await D(t)}function Ye(){let t;L.addEventListener("mousemove",o=>{const i=o.target;clearTimeout(t),t=setTimeout(()=>{r(i,2)},20)});function n(o){r(o.composedPath()[0],1)}L.addEventListener("mousedown",n),L.addEventListener("touchstart",n,{passive:!0});const e=new IntersectionObserver(o=>{for(const i of o)i.isIntersecting&&(ft(i.target.href),e.unobserve(i.target))},{threshold:0});function r(o,i){const s=Mt(o,L);if(!s)return;const{url:c,external:l,download:u}=ut(s,I);if(l||u)return;const h=Y(s);if(!h.reload)if(i<=h.preload_data){const g=St(c,!1);g&&Be(g)}else i<=h.preload_code&&ft(c.pathname)}function a(){e.disconnect();for(const o of L.querySelectorAll("a")){const{url:i,external:s,download:c}=ut(o,I);if(s||c)continue;const l=Y(o);l.reload||(l.preload_code===z.viewport&&e.observe(o),l.preload_code===z.eager&&ft(i.pathname))}}j.push(a),a()}function H(t,n){if(t instanceof nt)return t.body;const e=J(t),r=qe(t);return C.hooks.handleError({error:t,event:n,status:e,message:r})??{message:r}}function Je(t,n={}){return t=qt(t),t.origin!==B?Promise.reject(new Error("goto: invalid URL")):Xt(t,n,0)}function We(){var n;history.scrollRestoration="manual",addEventListener("beforeunload",e=>{let r=!1;if(xt(),!M){const a=oe(w,void 0,null,"leave"),o={...a.navigation,cancel:()=>{r=!0,a.reject(new Error("navigation cancelled"))}};zt.forEach(i=>i(o))}r?(e.preventDefault(),e.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&xt()}),(n=navigator.connection)!=null&&n.saveData||Ye(),L.addEventListener("click",e=>{var g;if(e.button||e.which!==1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.defaultPrevented)return;const r=Mt(e.composedPath()[0],L);if(!r)return;const{url:a,external:o,target:i,download:s}=ut(r,I);if(!a)return;if(i==="_parent"||i==="_top"){if(window.parent!==window)return}else if(i&&i!=="_self")return;const c=Y(r);if(!(r instanceof SVGAElement)&&a.protocol!==location.protocol&&!(a.protocol==="https:"||a.protocol==="http:")||s)return;if(o||c.reload){ee({url:a,type:"link"})?M=!0:e.preventDefault();return}const[u,h]=a.href.split("#");if(h!==void 0&&u===ct(location)){const[,d]=w.url.href.split("#");if(d===h){e.preventDefault(),h===""||h==="top"&&r.ownerDocument.getElementById("top")===null?window.scrollTo({top:0}):(g=r.ownerDocument.getElementById(h))==null||g.scrollIntoView();return}if(V=!0,yt(k),t(a),!c.replace_state)return;V=!1}e.preventDefault(),K({type:"link",url:a,keepfocus:c.keepfocus,noscroll:c.noscroll,replace_state:c.replace_state??a.href===location.href})}),L.addEventListener("submit",e=>{if(e.defaultPrevented)return;const r=HTMLFormElement.prototype.cloneNode.call(e.target),a=e.submitter;if(((a==null?void 0:a.formMethod)||r.method)!=="get")return;const i=new URL((a==null?void 0:a.hasAttribute("formaction"))&&(a==null?void 0:a.formAction)||r.action);if(et(i,I))return;const s=e.target,c=Y(s);if(c.reload)return;e.preventDefault(),e.stopPropagation();const l=new FormData(s),u=a==null?void 0:a.getAttribute("name");u&&l.append(u,(a==null?void 0:a.getAttribute("value"))??""),i.search=new URLSearchParams(l).toString(),K({type:"form",url:i,keepfocus:c.keepfocus,noscroll:c.noscroll,replace_state:c.replace_state??i.href===location.href})}),addEventListener("popstate",async e=>{var r;if((r=e.state)!=null&&r[$]){const a=e.state[$];if(Q={},a===k)return;const o=x[a],i=e.state[Ft]??{},s=new URL(e.state[Le]??location.href),c=e.state[q],l=ct(location)===ct(w.url);if(c===A&&(Yt||l)){t(s),x[k]=mt(),o&&scrollTo(o.x,o.y),i!==R.state&&(R={...R,state:i},bt.$set({page:R})),k=a;return}const h=a-k;await K({type:"popstate",url:s,popped:{state:i,scroll:o,delta:h},accept:()=>{k=a,A=c},block:()=>{history.go(-h)},nav_token:Q})}else if(!V){const a=new URL(location.href);t(a)}}),addEventListener("hashchange",()=>{V&&(V=!1,history.replaceState({...history.state,[$]:++k,[q]:A},"",location.href))});for(const e of document.querySelectorAll("link"))e.rel==="icon"&&(e.href=e.href);addEventListener("pageshow",e=>{e.persisted&&T.navigating.set(null)});function t(e){w.url=e,T.page.set({...R,url:e}),T.page.notify()}}async function Xe(t,{status:n=200,error:e,node_ids:r,params:a,route:o,data:i,form:s}){wt=!0;const c=new URL(location.href);({params:a={},route:o={id:null}}=St(c,!1)||{});let l;try{const u=r.map(async(d,m)=>{const f=i[m];return f!=null&&f.uses&&(f.uses=re(f.uses)),Et({loader:C.nodes[d],url:c,params:a,route:o,parent:async()=>{const _={};for(let v=0;v<m;v+=1)Object.assign(_,(await u[v]).data);return _},server_data_node:kt(f)})}),h=await Promise.all(u),g=at.find(({id:d})=>d===o.id);if(g){const d=g.layouts;for(let m=0;m<d.length;m++)d[m]||h.splice(m,0,void 0)}l=await tt({url:c,params:a,branch:h,status:n,error:e,form:s,route:g??null})}catch(u){if(u instanceof Bt){await D(new URL(u.location,location.href));return}l=await rt({status:J(u),error:await H(u,{url:c,params:a,route:o}),url:c,route:o})}l.props.page&&(l.props.page.state={}),Zt(l,t)}async function ae(t,n){var a;const e=new URL(t);e.pathname=ge(t.pathname),t.pathname.endsWith("/")&&e.searchParams.append(Fe,"1"),e.searchParams.append(Ve,n.map(o=>o?"1":"0").join(""));const r=await $t(e.href);if(!r.ok){let o;throw(a=r.headers.get("content-type"))!=null&&a.includes("application/json")?o=await r.json():r.status===404?o="Not Found":r.status===500&&(o="Internal Error"),new nt(r.status,o)}return new Promise(async o=>{var h;const i=new Map,s=r.body.getReader(),c=new TextDecoder;function l(g){return $e(g,{Promise:d=>new Promise((m,f)=>{i.set(d,{fulfil:m,reject:f})})})}let u="";for(;;){const{done:g,value:d}=await s.read();if(g&&!u)break;for(u+=!d&&u?`
`:c.decode(d,{stream:!0});;){const m=u.indexOf(`
`);if(m===-1)break;const f=JSON.parse(u.slice(0,m));if(u=u.slice(m+1),f.type==="redirect")return o(f);if(f.type==="data")(h=f.nodes)==null||h.forEach(_=>{(_==null?void 0:_.type)==="data"&&(_.uses=re(_.uses),_.data=l(_.data))}),o(f);else if(f.type==="chunk"){const{id:_,data:v,error:S}=f,p=i.get(_);i.delete(_),S?p.reject(l(S)):p.fulfil(l(v))}}}})}function re(t){return{dependencies:new Set((t==null?void 0:t.dependencies)??[]),params:new Set((t==null?void 0:t.params)??[]),parent:!!(t!=null&&t.parent),route:!!(t!=null&&t.route),url:!!(t!=null&&t.url),search_params:new Set((t==null?void 0:t.search_params)??[])}}function Ze(){const t=document.querySelector("[autofocus]");if(t)t.focus();else{const n=document.body,e=n.getAttribute("tabindex");n.tabIndex=-1,n.focus({preventScroll:!0,focusVisible:!1}),e!==null?n.setAttribute("tabindex",e):n.removeAttribute("tabindex");const r=getSelection();if(r&&r.type!=="None"){const a=[];for(let o=0;o<r.rangeCount;o+=1)a.push(r.getRangeAt(o));setTimeout(()=>{if(r.rangeCount===a.length){for(let o=0;o<r.rangeCount;o+=1){const i=a[o],s=r.getRangeAt(o);if(i.commonAncestorContainer!==s.commonAncestorContainer||i.startContainer!==s.startContainer||i.endContainer!==s.endContainer||i.startOffset!==s.startOffset||i.endOffset!==s.endOffset)return}r.removeAllRanges()}})}}}function oe(t,n,e,r){var c,l;let a,o;const i=new Promise((u,h)=>{a=u,o=h});return i.catch(()=>{}),{navigation:{from:{params:t.params,route:{id:((c=t.route)==null?void 0:c.id)??null},url:t.url},to:e&&{params:(n==null?void 0:n.params)??null,route:{id:((l=n==null?void 0:n.route)==null?void 0:l.id)??null},url:e},willUnload:!n,type:r,complete:i},fulfil:a,reject:o}}export{tn as a,T as s};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW50cnkuQk5sSXNqN2UuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3ZlbHRlanMva2l0L3NyYy91dGlscy91cmwuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHN2ZWx0ZWpzL2tpdC9zcmMvcnVudGltZS9oYXNoLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9raXQvc3JjL3J1bnRpbWUvdXRpbHMuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHN2ZWx0ZWpzL2tpdC9zcmMvcnVudGltZS9jbGllbnQvZmV0Y2hlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3ZlbHRlanMva2l0L3NyYy91dGlscy9yb3V0aW5nLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9raXQvc3JjL3J1bnRpbWUvY2xpZW50L3BhcnNlLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9raXQvc3JjL3J1bnRpbWUvY2xpZW50L3Nlc3Npb24tc3RvcmFnZS5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvc3RvcmUvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHN2ZWx0ZWpzL2tpdC9zcmMvcnVudGltZS9jbGllbnQvY29uc3RhbnRzLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9raXQvc3JjL3J1bnRpbWUvY2xpZW50L3V0aWxzLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RldmFsdWUvc3JjL2NvbnN0YW50cy5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9kZXZhbHVlL3NyYy9wYXJzZS5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3ZlbHRlanMva2l0L3NyYy91dGlscy9leHBvcnRzLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9raXQvc3JjL3V0aWxzL2FycmF5LmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9raXQvc3JjL3J1bnRpbWUvY29udHJvbC5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3ZlbHRlanMva2l0L3NyYy9ydW50aW1lL3NoYXJlZC5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3ZlbHRlanMva2l0L3NyYy91dGlscy9lcnJvci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3ZlbHRlanMva2l0L3NyYy9ydW50aW1lL2NsaWVudC9jbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQlJPV1NFUiwgREVWIH0gZnJvbSAnZXNtLWVudic7XG5cbi8qKlxuICogTWF0Y2hlcyBhIFVSSSBzY2hlbWUuIFNlZSBodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjMzk4NiNzZWN0aW9uLTMuMVxuICogQHR5cGUge1JlZ0V4cH1cbiAqL1xuZXhwb3J0IGNvbnN0IFNDSEVNRSA9IC9eW2Etel1bYS16XFxkK1xcLS5dKzovaTtcblxuY29uc3QgaW50ZXJuYWwgPSBuZXcgVVJMKCdzdmVsdGVraXQtaW50ZXJuYWw6Ly8nKTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmUoYmFzZSwgcGF0aCkge1xuXHQvLyBzcGVjaWFsIGNhc2Vcblx0aWYgKHBhdGhbMF0gPT09ICcvJyAmJiBwYXRoWzFdID09PSAnLycpIHJldHVybiBwYXRoO1xuXG5cdGxldCB1cmwgPSBuZXcgVVJMKGJhc2UsIGludGVybmFsKTtcblx0dXJsID0gbmV3IFVSTChwYXRoLCB1cmwpO1xuXG5cdHJldHVybiB1cmwucHJvdG9jb2wgPT09IGludGVybmFsLnByb3RvY29sID8gdXJsLnBhdGhuYW1lICsgdXJsLnNlYXJjaCArIHVybC5oYXNoIDogdXJsLmhyZWY7XG59XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3Jvb3RfcmVsYXRpdmUocGF0aCkge1xuXHRyZXR1cm4gcGF0aFswXSA9PT0gJy8nICYmIHBhdGhbMV0gIT09ICcvJztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aFxuICogQHBhcmFtIHtpbXBvcnQoJ3R5cGVzJykuVHJhaWxpbmdTbGFzaH0gdHJhaWxpbmdfc2xhc2hcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZV9wYXRoKHBhdGgsIHRyYWlsaW5nX3NsYXNoKSB7XG5cdGlmIChwYXRoID09PSAnLycgfHwgdHJhaWxpbmdfc2xhc2ggPT09ICdpZ25vcmUnKSByZXR1cm4gcGF0aDtcblxuXHRpZiAodHJhaWxpbmdfc2xhc2ggPT09ICduZXZlcicpIHtcblx0XHRyZXR1cm4gcGF0aC5lbmRzV2l0aCgnLycpID8gcGF0aC5zbGljZSgwLCAtMSkgOiBwYXRoO1xuXHR9IGVsc2UgaWYgKHRyYWlsaW5nX3NsYXNoID09PSAnYWx3YXlzJyAmJiAhcGF0aC5lbmRzV2l0aCgnLycpKSB7XG5cdFx0cmV0dXJuIHBhdGggKyAnLyc7XG5cdH1cblxuXHRyZXR1cm4gcGF0aDtcbn1cblxuLyoqXG4gKiBEZWNvZGUgcGF0aG5hbWUgZXhjbHVkaW5nICUyNSB0byBwcmV2ZW50IGZ1cnRoZXIgZG91YmxlIGRlY29kaW5nIG9mIHBhcmFtc1xuICogQHBhcmFtIHtzdHJpbmd9IHBhdGhuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVfcGF0aG5hbWUocGF0aG5hbWUpIHtcblx0cmV0dXJuIHBhdGhuYW1lLnNwbGl0KCclMjUnKS5tYXAoZGVjb2RlVVJJKS5qb2luKCclMjUnKTtcbn1cblxuLyoqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgc3RyaW5nPn0gcGFyYW1zICovXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlX3BhcmFtcyhwYXJhbXMpIHtcblx0Zm9yIChjb25zdCBrZXkgaW4gcGFyYW1zKSB7XG5cdFx0Ly8gaW5wdXQgaGFzIGFscmVhZHkgYmVlbiBkZWNvZGVkIGJ5IGRlY29kZVVSSVxuXHRcdC8vIG5vdyBoYW5kbGUgdGhlIHJlc3Rcblx0XHRwYXJhbXNba2V5XSA9IGRlY29kZVVSSUNvbXBvbmVudChwYXJhbXNba2V5XSk7XG5cdH1cblxuXHRyZXR1cm4gcGFyYW1zO1xufVxuXG4vKipcbiAqIFRoZSBlcnJvciB3aGVuIGEgVVJMIGlzIG1hbGZvcm1lZCBpcyBub3QgdmVyeSBoZWxwZnVsLCBzbyB3ZSBhdWdtZW50IGl0IHdpdGggdGhlIFVSSVxuICogQHBhcmFtIHtzdHJpbmd9IHVyaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlX3VyaSh1cmkpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gZGVjb2RlVVJJKHVyaSk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAoZSBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdFx0XHRlLm1lc3NhZ2UgPSBgRmFpbGVkIHRvIGRlY29kZSBVUkk6ICR7dXJpfVxcbmAgKyBlLm1lc3NhZ2U7XG5cdFx0fVxuXHRcdHRocm93IGU7XG5cdH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIGV2ZXJ5dGhpbmcgdXAgdG8gdGhlIGZpcnN0IGAjYCBpbiBhIFVSTFxuICogQHBhcmFtIHt7aHJlZjogc3RyaW5nfX0gdXJsX2xpa2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwX2hhc2goeyBocmVmIH0pIHtcblx0cmV0dXJuIGhyZWYuc3BsaXQoJyMnKVswXTtcbn1cblxuLyoqXG4gKiBVUkwgcHJvcGVydGllcyB0aGF0IGNvdWxkIGNoYW5nZSBkdXJpbmcgdGhlIGxpZmV0aW1lIG9mIHRoZSBwYWdlLFxuICogd2hpY2ggZXhjbHVkZXMgdGhpbmdzIGxpa2UgYG9yaWdpbmBcbiAqL1xuY29uc3QgdHJhY2tlZF91cmxfcHJvcGVydGllcyA9IC8qKiBAdHlwZSB7Y29uc3R9ICovIChbXG5cdCdocmVmJyxcblx0J3BhdGhuYW1lJyxcblx0J3NlYXJjaCcsXG5cdCd0b1N0cmluZycsXG5cdCd0b0pTT04nXG5dKTtcblxuLyoqXG4gKiBAcGFyYW0ge1VSTH0gdXJsXG4gKiBAcGFyYW0geygpID0+IHZvaWR9IGNhbGxiYWNrXG4gKiBAcGFyYW0geyhzZWFyY2hfcGFyYW06IHN0cmluZykgPT4gdm9pZH0gc2VhcmNoX3BhcmFtc19jYWxsYmFja1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZV90cmFja2FibGUodXJsLCBjYWxsYmFjaywgc2VhcmNoX3BhcmFtc19jYWxsYmFjaykge1xuXHRjb25zdCB0cmFja2VkID0gbmV3IFVSTCh1cmwpO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0cmFja2VkLCAnc2VhcmNoUGFyYW1zJywge1xuXHRcdHZhbHVlOiBuZXcgUHJveHkodHJhY2tlZC5zZWFyY2hQYXJhbXMsIHtcblx0XHRcdGdldChvYmosIGtleSkge1xuXHRcdFx0XHRpZiAoa2V5ID09PSAnZ2V0JyB8fCBrZXkgPT09ICdnZXRBbGwnIHx8IGtleSA9PT0gJ2hhcycpIHtcblx0XHRcdFx0XHRyZXR1cm4gKC8qKkB0eXBlIHtzdHJpbmd9Ki8gcGFyYW0pID0+IHtcblx0XHRcdFx0XHRcdHNlYXJjaF9wYXJhbXNfY2FsbGJhY2socGFyYW0pO1xuXHRcdFx0XHRcdFx0cmV0dXJuIG9ialtrZXldKHBhcmFtKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaWYgdGhleSB0cnkgdG8gYWNjZXNzIHNvbWV0aGluZyBkaWZmZXJlbnQgZnJvbSB3aGF0IGlzIGluIGB0cmFja2VkX3NlYXJjaF9wYXJhbXNfcHJvcGVydGllc2Bcblx0XHRcdFx0Ly8gd2UgdHJhY2sgdGhlIHdob2xlIHVybCAoZW50cmllcywgdmFsdWVzLCBrZXlzIGV0Yylcblx0XHRcdFx0Y2FsbGJhY2soKTtcblxuXHRcdFx0XHRjb25zdCB2YWx1ZSA9IFJlZmxlY3QuZ2V0KG9iaiwga2V5KTtcblx0XHRcdFx0cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLmJpbmQob2JqKSA6IHZhbHVlO1xuXHRcdFx0fVxuXHRcdH0pLFxuXHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdH0pO1xuXG5cdGZvciAoY29uc3QgcHJvcGVydHkgb2YgdHJhY2tlZF91cmxfcHJvcGVydGllcykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0cmFja2VkLCBwcm9wZXJ0eSwge1xuXHRcdFx0Z2V0KCkge1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRyZXR1cm4gdXJsW3Byb3BlcnR5XTtcblx0XHRcdH0sXG5cblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHR9KTtcblx0fVxuXG5cdGlmICghQlJPV1NFUikge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHR0cmFja2VkW1N5bWJvbC5mb3IoJ25vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tJyldID0gKGRlcHRoLCBvcHRzLCBpbnNwZWN0KSA9PiB7XG5cdFx0XHRyZXR1cm4gaW5zcGVjdCh1cmwsIG9wdHMpO1xuXHRcdH07XG5cdH1cblxuXHRpZiAoREVWIHx8ICFCUk9XU0VSKSB7XG5cdFx0ZGlzYWJsZV9oYXNoKHRyYWNrZWQpO1xuXHR9XG5cblx0cmV0dXJuIHRyYWNrZWQ7XG59XG5cbi8qKlxuICogRGlzYWxsb3cgYWNjZXNzIHRvIGB1cmwuaGFzaGAgb24gdGhlIHNlcnZlciBhbmQgaW4gYGxvYWRgXG4gKiBAcGFyYW0ge1VSTH0gdXJsXG4gKi9cbmZ1bmN0aW9uIGRpc2FibGVfaGFzaCh1cmwpIHtcblx0YWxsb3dfbm9kZWpzX2NvbnNvbGVfbG9nKHVybCk7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHVybCwgJ2hhc2gnLCB7XG5cdFx0Z2V0KCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHQnQ2Fubm90IGFjY2VzcyBldmVudC51cmwuaGFzaC4gQ29uc2lkZXIgdXNpbmcgYCRwYWdlLnVybC5oYXNoYCBpbnNpZGUgYSBjb21wb25lbnQgaW5zdGVhZCdcblx0XHRcdCk7XG5cdFx0fVxuXHR9KTtcbn1cblxuLyoqXG4gKiBEaXNhbGxvdyBhY2Nlc3MgdG8gYHVybC5zZWFyY2hgIGFuZCBgdXJsLnNlYXJjaFBhcmFtc2AgZHVyaW5nIHByZXJlbmRlcmluZ1xuICogQHBhcmFtIHtVUkx9IHVybFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZV9zZWFyY2godXJsKSB7XG5cdGFsbG93X25vZGVqc19jb25zb2xlX2xvZyh1cmwpO1xuXG5cdGZvciAoY29uc3QgcHJvcGVydHkgb2YgWydzZWFyY2gnLCAnc2VhcmNoUGFyYW1zJ10pIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodXJsLCBwcm9wZXJ0eSwge1xuXHRcdFx0Z2V0KCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBhY2Nlc3MgdXJsLiR7cHJvcGVydHl9IG9uIGEgcGFnZSB3aXRoIHByZXJlbmRlcmluZyBlbmFibGVkYCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cblxuLyoqXG4gKiBBbGxvdyBVUkwgdG8gYmUgY29uc29sZSBsb2dnZWQsIGJ5cGFzc2luZyBkaXNhYmxlZCBwcm9wZXJ0aWVzLlxuICogQHBhcmFtIHtVUkx9IHVybFxuICovXG5mdW5jdGlvbiBhbGxvd19ub2RlanNfY29uc29sZV9sb2codXJsKSB7XG5cdGlmICghQlJPV1NFUikge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHR1cmxbU3ltYm9sLmZvcignbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKV0gPSAoZGVwdGgsIG9wdHMsIGluc3BlY3QpID0+IHtcblx0XHRcdHJldHVybiBpbnNwZWN0KG5ldyBVUkwodXJsKSwgb3B0cyk7XG5cdFx0fTtcblx0fVxufVxuXG5jb25zdCBEQVRBX1NVRkZJWCA9ICcvX19kYXRhLmpzb24nO1xuY29uc3QgSFRNTF9EQVRBX1NVRkZJWCA9ICcuaHRtbF9fZGF0YS5qc29uJztcblxuLyoqIEBwYXJhbSB7c3RyaW5nfSBwYXRobmFtZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc19kYXRhX3N1ZmZpeChwYXRobmFtZSkge1xuXHRyZXR1cm4gcGF0aG5hbWUuZW5kc1dpdGgoREFUQV9TVUZGSVgpIHx8IHBhdGhuYW1lLmVuZHNXaXRoKEhUTUxfREFUQV9TVUZGSVgpO1xufVxuXG4vKiogQHBhcmFtIHtzdHJpbmd9IHBhdGhuYW1lICovXG5leHBvcnQgZnVuY3Rpb24gYWRkX2RhdGFfc3VmZml4KHBhdGhuYW1lKSB7XG5cdGlmIChwYXRobmFtZS5lbmRzV2l0aCgnLmh0bWwnKSkgcmV0dXJuIHBhdGhuYW1lLnJlcGxhY2UoL1xcLmh0bWwkLywgSFRNTF9EQVRBX1NVRkZJWCk7XG5cdHJldHVybiBwYXRobmFtZS5yZXBsYWNlKC9cXC8kLywgJycpICsgREFUQV9TVUZGSVg7XG59XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gcGF0aG5hbWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpcF9kYXRhX3N1ZmZpeChwYXRobmFtZSkge1xuXHRpZiAocGF0aG5hbWUuZW5kc1dpdGgoSFRNTF9EQVRBX1NVRkZJWCkpIHtcblx0XHRyZXR1cm4gcGF0aG5hbWUuc2xpY2UoMCwgLUhUTUxfREFUQV9TVUZGSVgubGVuZ3RoKSArICcuaHRtbCc7XG5cdH1cblxuXHRyZXR1cm4gcGF0aG5hbWUuc2xpY2UoMCwgLURBVEFfU1VGRklYLmxlbmd0aCk7XG59XG4iLCIvKipcbiAqIEhhc2ggdXNpbmcgZGpiMlxuICogQHBhcmFtIHtpbXBvcnQoJ3R5cGVzJykuU3RyaWN0Qm9keVtdfSB2YWx1ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc2goLi4udmFsdWVzKSB7XG5cdGxldCBoYXNoID0gNTM4MTtcblxuXHRmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRsZXQgaSA9IHZhbHVlLmxlbmd0aDtcblx0XHRcdHdoaWxlIChpKSBoYXNoID0gKGhhc2ggKiAzMykgXiB2YWx1ZS5jaGFyQ29kZUF0KC0taSk7XG5cdFx0fSBlbHNlIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcodmFsdWUpKSB7XG5cdFx0XHRjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh2YWx1ZS5idWZmZXIsIHZhbHVlLmJ5dGVPZmZzZXQsIHZhbHVlLmJ5dGVMZW5ndGgpO1xuXHRcdFx0bGV0IGkgPSBidWZmZXIubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKGkpIGhhc2ggPSAoaGFzaCAqIDMzKSBeIGJ1ZmZlclstLWldO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCd2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nIG9yIFR5cGVkQXJyYXknKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gKGhhc2ggPj4+IDApLnRvU3RyaW5nKDM2KTtcbn1cbiIsIi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlckxpa2V9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiNjRfZGVjb2RlKHRleHQpIHtcblx0Y29uc3QgZCA9IGF0b2IodGV4dCk7XG5cblx0Y29uc3QgdTggPSBuZXcgVWludDhBcnJheShkLmxlbmd0aCk7XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dThbaV0gPSBkLmNoYXJDb2RlQXQoaSk7XG5cdH1cblxuXHRyZXR1cm4gdTguYnVmZmVyO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGJ1ZmZlclxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGI2NF9lbmNvZGUoYnVmZmVyKSB7XG5cdGlmIChnbG9iYWxUaGlzLkJ1ZmZlcikge1xuXHRcdHJldHVybiBCdWZmZXIuZnJvbShidWZmZXIpLnRvU3RyaW5nKCdiYXNlNjQnKTtcblx0fVxuXG5cdGNvbnN0IGxpdHRsZV9lbmRpYW4gPSBuZXcgVWludDhBcnJheShuZXcgVWludDE2QXJyYXkoWzFdKS5idWZmZXIpWzBdID4gMDtcblxuXHQvLyBUaGUgVWludDE2QXJyYXkoVWludDhBcnJheSguLi4pKSBlbnN1cmVzIHRoZSBjb2RlIHBvaW50cyBhcmUgcGFkZGVkIHdpdGggMCdzXG5cdHJldHVybiBidG9hKFxuXHRcdG5ldyBUZXh0RGVjb2RlcihsaXR0bGVfZW5kaWFuID8gJ3V0Zi0xNmxlJyA6ICd1dGYtMTZiZScpLmRlY29kZShcblx0XHRcdG5ldyBVaW50MTZBcnJheShuZXcgVWludDhBcnJheShidWZmZXIpKVxuXHRcdClcblx0KTtcbn1cbiIsImltcG9ydCB7IEJST1dTRVIsIERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgaGFzaCB9IGZyb20gJy4uL2hhc2guanMnO1xuaW1wb3J0IHsgYjY0X2RlY29kZSB9IGZyb20gJy4uL3V0aWxzLmpzJztcblxubGV0IGxvYWRpbmcgPSAwO1xuXG4vKiogQHR5cGUge3R5cGVvZiBmZXRjaH0gKi9cbmV4cG9ydCBjb25zdCBuYXRpdmVfZmV0Y2ggPSBCUk9XU0VSID8gd2luZG93LmZldGNoIDogLyoqIEB0eXBlIHthbnl9ICovICgoKSA9PiB7fSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2NrX2ZldGNoKCkge1xuXHRsb2FkaW5nICs9IDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmxvY2tfZmV0Y2goKSB7XG5cdGxvYWRpbmcgLT0gMTtcbn1cblxuaWYgKERFViAmJiBCUk9XU0VSKSB7XG5cdGxldCBjYW5faW5zcGVjdF9zdGFja190cmFjZSA9IGZhbHNlO1xuXG5cdC8vIGRldGVjdCB3aGV0aGVyIGFzeW5jIHN0YWNrIHRyYWNlcyB3b3JrXG5cdGNvbnN0IGNoZWNrX3N0YWNrX3RyYWNlID0gYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN0YWNrID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChuZXcgRXJyb3IoKS5zdGFjayk7XG5cdFx0Y2FuX2luc3BlY3Rfc3RhY2tfdHJhY2UgPSBzdGFjay5pbmNsdWRlcygnY2hlY2tfc3RhY2tfdHJhY2UnKTtcblx0fTtcblxuXHRjaGVja19zdGFja190cmFjZSgpO1xuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1JlcXVlc3RJbmZvIHwgVVJMfSBpbnB1dFxuXHQgKiBAcGFyYW0ge1JlcXVlc3RJbml0ICYgUmVjb3JkPHN0cmluZywgYW55PiB8IHVuZGVmaW5lZH0gaW5pdFxuXHQgKi9cblx0d2luZG93LmZldGNoID0gKGlucHV0LCBpbml0KSA9PiB7XG5cdFx0Ly8gQ2hlY2sgaWYgZmV0Y2ggd2FzIGNhbGxlZCB2aWEgbG9hZF9ub2RlLiB0aGUgbG9jayBtZXRob2Qgb25seSBjaGVja3MgaWYgaXQgd2FzIGNhbGxlZCBhdCB0aGVcblx0XHQvLyBzYW1lIHRpbWUsIGJ1dCBub3QgbmVjZXNzYXJpbHkgaWYgaXQgd2FzIGNhbGxlZCBmcm9tIGBsb2FkYC5cblx0XHQvLyBXZSB1c2UganVzdCB0aGUgZmlsZW5hbWUgYXMgdGhlIG1ldGhvZCBuYW1lIHNvbWV0aW1lcyBkb2VzIG5vdCBhcHBlYXIgb24gdGhlIENJLlxuXHRcdGNvbnN0IHVybCA9IGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCA/IGlucHV0LnVybCA6IGlucHV0LnRvU3RyaW5nKCk7XG5cdFx0Y29uc3Qgc3RhY2tfYXJyYXkgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKG5ldyBFcnJvcigpLnN0YWNrKS5zcGxpdCgnXFxuJyk7XG5cdFx0Ly8gV2UgbmVlZCB0byBkbyBhIGN1dG9mZiBiZWNhdXNlIFNhZmFyaSBhbmQgRmlyZWZveCBtYWludGFpbiB0aGUgc3RhY2tcblx0XHQvLyBhY3Jvc3MgZXZlbnRzIGFuZCBmb3IgZXhhbXBsZSB0cmFjZXMgYSBgZmV0Y2hgIGNhbGwgdHJpZ2dlcmVkIGZyb20gYSBidXR0b25cblx0XHQvLyBiYWNrIHRvIHRoZSBjcmVhdGlvbiBvZiB0aGUgZXZlbnQgbGlzdGVuZXIgYW5kIHRoZSBlbGVtZW50IGNyZWF0aW9uIGl0c2VsZixcblx0XHQvLyB3aGVyZSBhdCBzb21lIHBvaW50IGNsaWVudC5qcyB3aWxsIHNob3cgdXAsIGxlYWRpbmcgdG8gZmFsc2UgcG9zaXRpdmVzLlxuXHRcdGNvbnN0IGN1dG9mZiA9IHN0YWNrX2FycmF5LmZpbmRJbmRleCgoYSkgPT4gYS5pbmNsdWRlcygnbG9hZEAnKSB8fCBhLmluY2x1ZGVzKCdhdCBsb2FkJykpO1xuXHRcdGNvbnN0IHN0YWNrID0gc3RhY2tfYXJyYXkuc2xpY2UoMCwgY3V0b2ZmICsgMikuam9pbignXFxuJyk7XG5cblx0XHRjb25zdCBpbl9sb2FkX2hldXJpc3RpYyA9IGNhbl9pbnNwZWN0X3N0YWNrX3RyYWNlXG5cdFx0XHQ/IHN0YWNrLmluY2x1ZGVzKCdzcmMvcnVudGltZS9jbGllbnQvY2xpZW50LmpzJylcblx0XHRcdDogbG9hZGluZztcblxuXHRcdC8vIFRoaXMgZmxhZyBpcyBzZXQgaW4gaW5pdGlhbF9mZXRjaCBhbmQgc3Vic2VxdWVudF9mZXRjaFxuXHRcdGNvbnN0IHVzZWRfa2l0X2ZldGNoID0gaW5pdD8uX19zdmVsdGVraXRfZmV0Y2hfXztcblxuXHRcdGlmIChpbl9sb2FkX2hldXJpc3RpYyAmJiAhdXNlZF9raXRfZmV0Y2gpIHtcblx0XHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFx0YExvYWRpbmcgJHt1cmx9IHVzaW5nIFxcYHdpbmRvdy5mZXRjaFxcYC4gRm9yIGJlc3QgcmVzdWx0cywgdXNlIHRoZSBcXGBmZXRjaFxcYCB0aGF0IGlzIHBhc3NlZCB0byB5b3VyIFxcYGxvYWRcXGAgZnVuY3Rpb246IGh0dHBzOi8va2l0LnN2ZWx0ZS5kZXYvZG9jcy9sb2FkI21ha2luZy1mZXRjaC1yZXF1ZXN0c2Bcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgbWV0aG9kID0gaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0ID8gaW5wdXQubWV0aG9kIDogaW5pdD8ubWV0aG9kIHx8ICdHRVQnO1xuXG5cdFx0aWYgKG1ldGhvZCAhPT0gJ0dFVCcpIHtcblx0XHRcdGNhY2hlLmRlbGV0ZShidWlsZF9zZWxlY3RvcihpbnB1dCkpO1xuXHRcdH1cblxuXHRcdHJldHVybiBuYXRpdmVfZmV0Y2goaW5wdXQsIGluaXQpO1xuXHR9O1xufSBlbHNlIGlmIChCUk9XU0VSKSB7XG5cdHdpbmRvdy5mZXRjaCA9IChpbnB1dCwgaW5pdCkgPT4ge1xuXHRcdGNvbnN0IG1ldGhvZCA9IGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCA/IGlucHV0Lm1ldGhvZCA6IGluaXQ/Lm1ldGhvZCB8fCAnR0VUJztcblxuXHRcdGlmIChtZXRob2QgIT09ICdHRVQnKSB7XG5cdFx0XHRjYWNoZS5kZWxldGUoYnVpbGRfc2VsZWN0b3IoaW5wdXQpKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbmF0aXZlX2ZldGNoKGlucHV0LCBpbml0KTtcblx0fTtcbn1cblxuY29uc3QgY2FjaGUgPSBuZXcgTWFwKCk7XG5cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCBvbiB0aGUgaW5pdGlhbCBydW4gb2YgbG9hZCBmdW5jdGlvbnMgdGhhdCBoeWRyYXRlIHRoZSBwYWdlLlxuICogU2F2ZXMgYW55IHJlcXVlc3RzIHdpdGggY2FjaGUtY29udHJvbCBtYXgtYWdlIHRvIHRoZSBjYWNoZS5cbiAqIEBwYXJhbSB7VVJMIHwgc3RyaW5nfSByZXNvdXJjZVxuICogQHBhcmFtIHtSZXF1ZXN0SW5pdH0gW29wdHNdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsX2ZldGNoKHJlc291cmNlLCBvcHRzKSB7XG5cdGNvbnN0IHNlbGVjdG9yID0gYnVpbGRfc2VsZWN0b3IocmVzb3VyY2UsIG9wdHMpO1xuXG5cdGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuXHRpZiAoc2NyaXB0Py50ZXh0Q29udGVudCkge1xuXHRcdGxldCB7IGJvZHksIC4uLmluaXQgfSA9IEpTT04ucGFyc2Uoc2NyaXB0LnRleHRDb250ZW50KTtcblxuXHRcdGNvbnN0IHR0bCA9IHNjcmlwdC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdHRsJyk7XG5cdFx0aWYgKHR0bCkgY2FjaGUuc2V0KHNlbGVjdG9yLCB7IGJvZHksIGluaXQsIHR0bDogMTAwMCAqIE51bWJlcih0dGwpIH0pO1xuXHRcdGNvbnN0IGI2NCA9IHNjcmlwdC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYjY0Jyk7XG5cdFx0aWYgKGI2NCAhPT0gbnVsbCkge1xuXHRcdFx0Ly8gQ2FuJ3QgdXNlIG5hdGl2ZV9mZXRjaCgnZGF0YTouLi47YmFzZTY0LCR7Ym9keX0nKVxuXHRcdFx0Ly8gY3NwIGNhbiBibG9jayB0aGUgcmVxdWVzdFxuXHRcdFx0Ym9keSA9IGI2NF9kZWNvZGUoYm9keSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgUmVzcG9uc2UoYm9keSwgaW5pdCkpO1xuXHR9XG5cblx0cmV0dXJuIERFViA/IGRldl9mZXRjaChyZXNvdXJjZSwgb3B0cykgOiB3aW5kb3cuZmV0Y2gocmVzb3VyY2UsIG9wdHMpO1xufVxuXG4vKipcbiAqIFRyaWVzIHRvIGdldCB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgY2FjaGUsIGlmIG1heC1hZ2UgYWxsb3dzIGl0LCBlbHNlIGRvZXMgYSBmZXRjaC5cbiAqIEBwYXJhbSB7VVJMIHwgc3RyaW5nfSByZXNvdXJjZVxuICogQHBhcmFtIHtzdHJpbmd9IHJlc29sdmVkXG4gKiBAcGFyYW0ge1JlcXVlc3RJbml0fSBbb3B0c11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnNlcXVlbnRfZmV0Y2gocmVzb3VyY2UsIHJlc29sdmVkLCBvcHRzKSB7XG5cdGlmIChjYWNoZS5zaXplID4gMCkge1xuXHRcdGNvbnN0IHNlbGVjdG9yID0gYnVpbGRfc2VsZWN0b3IocmVzb3VyY2UsIG9wdHMpO1xuXHRcdGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChzZWxlY3Rvcik7XG5cdFx0aWYgKGNhY2hlZCkge1xuXHRcdFx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1JlcXVlc3QvY2FjaGUjdmFsdWVcblx0XHRcdGlmIChcblx0XHRcdFx0cGVyZm9ybWFuY2Uubm93KCkgPCBjYWNoZWQudHRsICYmXG5cdFx0XHRcdFsnZGVmYXVsdCcsICdmb3JjZS1jYWNoZScsICdvbmx5LWlmLWNhY2hlZCcsIHVuZGVmaW5lZF0uaW5jbHVkZXMob3B0cz8uY2FjaGUpXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuIG5ldyBSZXNwb25zZShjYWNoZWQuYm9keSwgY2FjaGVkLmluaXQpO1xuXHRcdFx0fVxuXG5cdFx0XHRjYWNoZS5kZWxldGUoc2VsZWN0b3IpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBERVYgPyBkZXZfZmV0Y2gocmVzb2x2ZWQsIG9wdHMpIDogd2luZG93LmZldGNoKHJlc29sdmVkLCBvcHRzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1JlcXVlc3RJbmZvIHwgVVJMfSByZXNvdXJjZVxuICogQHBhcmFtIHtSZXF1ZXN0SW5pdCAmIFJlY29yZDxzdHJpbmcsIGFueT4gfCB1bmRlZmluZWR9IG9wdHNcbiAqL1xuZnVuY3Rpb24gZGV2X2ZldGNoKHJlc291cmNlLCBvcHRzKSB7XG5cdGNvbnN0IHBhdGNoZWRfb3B0cyA9IHsgLi4ub3B0cyB9O1xuXHQvLyBUaGlzIGFzc2lnbnMgdGhlIF9fc3ZlbHRla2l0X2ZldGNoX18gZmxhZyBhbmQgbWFrZXMgaXQgbm9uLWVudW1lcmFibGVcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHBhdGNoZWRfb3B0cywgJ19fc3ZlbHRla2l0X2ZldGNoX18nLCB7XG5cdFx0dmFsdWU6IHRydWUsXG5cdFx0d3JpdGFibGU6IHRydWUsXG5cdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdH0pO1xuXHRyZXR1cm4gd2luZG93LmZldGNoKHJlc291cmNlLCBwYXRjaGVkX29wdHMpO1xufVxuXG4vKipcbiAqIEJ1aWxkIHRoZSBjYWNoZSBrZXkgZm9yIGEgZ2l2ZW4gcmVxdWVzdFxuICogQHBhcmFtIHtVUkwgfCBSZXF1ZXN0SW5mb30gcmVzb3VyY2VcbiAqIEBwYXJhbSB7UmVxdWVzdEluaXR9IFtvcHRzXVxuICovXG5mdW5jdGlvbiBidWlsZF9zZWxlY3RvcihyZXNvdXJjZSwgb3B0cykge1xuXHRjb25zdCB1cmwgPSBKU09OLnN0cmluZ2lmeShyZXNvdXJjZSBpbnN0YW5jZW9mIFJlcXVlc3QgPyByZXNvdXJjZS51cmwgOiByZXNvdXJjZSk7XG5cblx0bGV0IHNlbGVjdG9yID0gYHNjcmlwdFtkYXRhLXN2ZWx0ZWtpdC1mZXRjaGVkXVtkYXRhLXVybD0ke3VybH1dYDtcblxuXHRpZiAob3B0cz8uaGVhZGVycyB8fCBvcHRzPy5ib2R5KSB7XG5cdFx0LyoqIEB0eXBlIHtpbXBvcnQoJ3R5cGVzJykuU3RyaWN0Qm9keVtdfSAqL1xuXHRcdGNvbnN0IHZhbHVlcyA9IFtdO1xuXG5cdFx0aWYgKG9wdHMuaGVhZGVycykge1xuXHRcdFx0dmFsdWVzLnB1c2goWy4uLm5ldyBIZWFkZXJzKG9wdHMuaGVhZGVycyldLmpvaW4oJywnKSk7XG5cdFx0fVxuXG5cdFx0aWYgKG9wdHMuYm9keSAmJiAodHlwZW9mIG9wdHMuYm9keSA9PT0gJ3N0cmluZycgfHwgQXJyYXlCdWZmZXIuaXNWaWV3KG9wdHMuYm9keSkpKSB7XG5cdFx0XHR2YWx1ZXMucHVzaChvcHRzLmJvZHkpO1xuXHRcdH1cblxuXHRcdHNlbGVjdG9yICs9IGBbZGF0YS1oYXNoPVwiJHtoYXNoKC4uLnZhbHVlcyl9XCJdYDtcblx0fVxuXG5cdHJldHVybiBzZWxlY3Rvcjtcbn1cbiIsImltcG9ydCB7IEJST1dTRVIgfSBmcm9tICdlc20tZW52JztcblxuY29uc3QgcGFyYW1fcGF0dGVybiA9IC9eKFxcWyk/KFxcLlxcLlxcLik/KFxcdyspKD86PShcXHcrKSk/KFxcXSk/JC87XG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgcmVnZXggcGF0dGVybiwgZXh0cmFjdHMgcGFyYW1ldGVyIG5hbWVzLCBhbmQgZ2VuZXJhdGVzIHR5cGVzIGZvciBhIHJvdXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlX3JvdXRlX2lkKGlkKSB7XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCd0eXBlcycpLlJvdXRlUGFyYW1bXX0gKi9cblx0Y29uc3QgcGFyYW1zID0gW107XG5cblx0Y29uc3QgcGF0dGVybiA9XG5cdFx0aWQgPT09ICcvJ1xuXHRcdFx0PyAvXlxcLyQvXG5cdFx0XHQ6IG5ldyBSZWdFeHAoXG5cdFx0XHRcdFx0YF4ke2dldF9yb3V0ZV9zZWdtZW50cyhpZClcblx0XHRcdFx0XHRcdC5tYXAoKHNlZ21lbnQpID0+IHtcblx0XHRcdFx0XHRcdFx0Ly8gc3BlY2lhbCBjYXNlIOKAlCAvWy4uLnJlc3RdLyBjb3VsZCBjb250YWluIHplcm8gc2VnbWVudHNcblx0XHRcdFx0XHRcdFx0Y29uc3QgcmVzdF9tYXRjaCA9IC9eXFxbXFwuXFwuXFwuKFxcdyspKD86PShcXHcrKSk/XFxdJC8uZXhlYyhzZWdtZW50KTtcblx0XHRcdFx0XHRcdFx0aWYgKHJlc3RfbWF0Y2gpIHtcblx0XHRcdFx0XHRcdFx0XHRwYXJhbXMucHVzaCh7XG5cdFx0XHRcdFx0XHRcdFx0XHRuYW1lOiByZXN0X21hdGNoWzFdLFxuXHRcdFx0XHRcdFx0XHRcdFx0bWF0Y2hlcjogcmVzdF9tYXRjaFsyXSxcblx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbmFsOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRcdHJlc3Q6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRjaGFpbmVkOiB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuICcoPzovKC4qKSk/Jztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHQvLyBzcGVjaWFsIGNhc2Ug4oCUIC9bW29wdGlvbmFsXV0vIGNvdWxkIGNvbnRhaW4gemVybyBzZWdtZW50c1xuXHRcdFx0XHRcdFx0XHRjb25zdCBvcHRpb25hbF9tYXRjaCA9IC9eXFxbXFxbKFxcdyspKD86PShcXHcrKSk/XFxdXFxdJC8uZXhlYyhzZWdtZW50KTtcblx0XHRcdFx0XHRcdFx0aWYgKG9wdGlvbmFsX21hdGNoKSB7XG5cdFx0XHRcdFx0XHRcdFx0cGFyYW1zLnB1c2goe1xuXHRcdFx0XHRcdFx0XHRcdFx0bmFtZTogb3B0aW9uYWxfbWF0Y2hbMV0sXG5cdFx0XHRcdFx0XHRcdFx0XHRtYXRjaGVyOiBvcHRpb25hbF9tYXRjaFsyXSxcblx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbmFsOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0cmVzdDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0XHRjaGFpbmVkOiB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuICcoPzovKFteL10rKSk/Jztcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGlmICghc2VnbWVudCkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHBhcnRzID0gc2VnbWVudC5zcGxpdCgvXFxbKC4rPylcXF0oPyFcXF0pLyk7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHJlc3VsdCA9IHBhcnRzXG5cdFx0XHRcdFx0XHRcdFx0Lm1hcCgoY29udGVudCwgaSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGkgJSAyKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChjb250ZW50LnN0YXJ0c1dpdGgoJ3grJykpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZXNjYXBlKFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoY29udGVudC5zbGljZSgyKSwgMTYpKSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoY29udGVudC5zdGFydHNXaXRoKCd1KycpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGVzY2FwZShcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC4uLmNvbnRlbnRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQuc2xpY2UoMilcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQuc3BsaXQoJy0nKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC5tYXAoKGNvZGUpID0+IHBhcnNlSW50KGNvZGUsIDE2KSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gV2Uga25vdyB0aGUgbWF0Y2ggY2Fubm90IGJlIG51bGwgaW4gdGhlIGJyb3dzZXIgYmVjYXVzZSBtYW5pZmVzdCBnZW5lcmF0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHdvdWxkIGhhdmUgaW52b2tlZCB0aGlzIGR1cmluZyBidWlsZCBhbmQgZmFpbGVkIGlmIHdlIGhpdCBhbiBpbnZhbGlkXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHBhcmFtL21hdGNoZXIgbmFtZSB3aXRoIG5vbi1hbHBoYW51bWVyaWMgY2hhcmFjdGVyLlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBtYXRjaCA9IC8qKiBAdHlwZSB7UmVnRXhwRXhlY0FycmF5fSAqLyAocGFyYW1fcGF0dGVybi5leGVjKGNvbnRlbnQpKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFCUk9XU0VSICYmICFtYXRjaCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGBJbnZhbGlkIHBhcmFtOiAke2NvbnRlbnR9LiBQYXJhbXMgYW5kIG1hdGNoZXIgbmFtZXMgY2FuIG9ubHkgaGF2ZSB1bmRlcnNjb3JlcyBhbmQgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMuYFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBbLCBpc19vcHRpb25hbCwgaXNfcmVzdCwgbmFtZSwgbWF0Y2hlcl0gPSBtYXRjaDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gSXQncyBhc3N1bWVkIHRoYXQgdGhlIGZvbGxvd2luZyBpbnZhbGlkIHJvdXRlIGlkIGNhc2VzIGFyZSBhbHJlYWR5IGNoZWNrZWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gLSB1bmJhbGFuY2VkIGJyYWNrZXRzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIC0gb3B0aW9uYWwgcGFyYW0gZm9sbG93aW5nIHJlc3QgcGFyYW1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRwYXJhbXMucHVzaCh7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bmFtZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRjaGVyLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbmFsOiAhIWlzX29wdGlvbmFsLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc3Q6ICEhaXNfcmVzdCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbmVkOiBpc19yZXN0ID8gaSA9PT0gMSAmJiBwYXJ0c1swXSA9PT0gJycgOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGlzX3Jlc3QgPyAnKC4qPyknIDogaXNfb3B0aW9uYWwgPyAnKFteL10qKT8nIDogJyhbXi9dKz8pJztcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGVzY2FwZShjb250ZW50KTtcblx0XHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHRcdC5qb2luKCcnKTtcblxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gJy8nICsgcmVzdWx0O1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdC5qb2luKCcnKX0vPyRgXG5cdFx0XHRcdCk7XG5cblx0cmV0dXJuIHsgcGF0dGVybiwgcGFyYW1zIH07XG59XG5cbmNvbnN0IG9wdGlvbmFsX3BhcmFtX3JlZ2V4ID0gL1xcL1xcW1xcW1xcdys/KD86PVxcdyspP1xcXVxcXS87XG5cbi8qKlxuICogUmVtb3ZlcyBvcHRpb25hbCBwYXJhbXMgZnJvbSBhIHJvdXRlIElELlxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcmV0dXJucyBUaGUgcm91dGUgaWQgd2l0aCBvcHRpb25hbCBwYXJhbXMgcmVtb3ZlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlX29wdGlvbmFsX3BhcmFtcyhpZCkge1xuXHRyZXR1cm4gaWQucmVwbGFjZShvcHRpb25hbF9wYXJhbV9yZWdleCwgJycpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYGZhbHNlYCBmb3IgYChncm91cClgIHNlZ21lbnRzXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VnbWVudFxuICovXG5mdW5jdGlvbiBhZmZlY3RzX3BhdGgoc2VnbWVudCkge1xuXHRyZXR1cm4gIS9eXFwoW14pXStcXCkkLy50ZXN0KHNlZ21lbnQpO1xufVxuXG4vKipcbiAqIFNwbGl0cyBhIHJvdXRlIGlkIGludG8gaXRzIHNlZ21lbnRzLCByZW1vdmluZyBzZWdtZW50cyB0aGF0XG4gKiBkb24ndCBhZmZlY3QgdGhlIHBhdGggKGkuZS4gZ3JvdXBzKS4gVGhlIHJvb3Qgcm91dGUgaXMgcmVwcmVzZW50ZWQgYnkgYC9gXG4gKiBhbmQgd2lsbCBiZSByZXR1cm5lZCBhcyBgWycnXWAuXG4gKiBAcGFyYW0ge3N0cmluZ30gcm91dGVcbiAqIEByZXR1cm5zIHN0cmluZ1tdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfcm91dGVfc2VnbWVudHMocm91dGUpIHtcblx0cmV0dXJuIHJvdXRlLnNsaWNlKDEpLnNwbGl0KCcvJykuZmlsdGVyKGFmZmVjdHNfcGF0aCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtSZWdFeHBNYXRjaEFycmF5fSBtYXRjaFxuICogQHBhcmFtIHtpbXBvcnQoJ3R5cGVzJykuUm91dGVQYXJhbVtdfSBwYXJhbXNcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgaW1wb3J0KCdAc3ZlbHRlanMva2l0JykuUGFyYW1NYXRjaGVyPn0gbWF0Y2hlcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4ZWMobWF0Y2gsIHBhcmFtcywgbWF0Y2hlcnMpIHtcblx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+fSAqL1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblxuXHRjb25zdCB2YWx1ZXMgPSBtYXRjaC5zbGljZSgxKTtcblx0Y29uc3QgdmFsdWVzX25lZWRpbmdfbWF0Y2ggPSB2YWx1ZXMuZmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUgIT09IHVuZGVmaW5lZCk7XG5cblx0bGV0IGJ1ZmZlcmVkID0gMDtcblxuXHRmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGNvbnN0IHBhcmFtID0gcGFyYW1zW2ldO1xuXHRcdGxldCB2YWx1ZSA9IHZhbHVlc1tpIC0gYnVmZmVyZWRdO1xuXG5cdFx0Ly8gaW4gdGhlIGBbW2E9Yl1dLy4uLi9bLi4ucmVzdF1gIGNhc2UsIGlmIG9uZSBvciBtb3JlIG9wdGlvbmFsIHBhcmFtZXRlcnNcblx0XHQvLyB3ZXJlbid0IG1hdGNoZWQsIHJvbGwgdGhlIHNraXBwZWQgdmFsdWVzIGludG8gdGhlIHJlc3Rcblx0XHRpZiAocGFyYW0uY2hhaW5lZCAmJiBwYXJhbS5yZXN0ICYmIGJ1ZmZlcmVkKSB7XG5cdFx0XHR2YWx1ZSA9IHZhbHVlc1xuXHRcdFx0XHQuc2xpY2UoaSAtIGJ1ZmZlcmVkLCBpICsgMSlcblx0XHRcdFx0LmZpbHRlcigocykgPT4gcylcblx0XHRcdFx0LmpvaW4oJy8nKTtcblxuXHRcdFx0YnVmZmVyZWQgPSAwO1xuXHRcdH1cblxuXHRcdC8vIGlmIGB2YWx1ZWAgaXMgdW5kZWZpbmVkLCBpdCBtZWFucyB0aGlzIGlzIGFuIG9wdGlvbmFsIG9yIHJlc3QgcGFyYW1ldGVyXG5cdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmIChwYXJhbS5yZXN0KSByZXN1bHRbcGFyYW0ubmFtZV0gPSAnJztcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGlmICghcGFyYW0ubWF0Y2hlciB8fCBtYXRjaGVyc1twYXJhbS5tYXRjaGVyXSh2YWx1ZSkpIHtcblx0XHRcdHJlc3VsdFtwYXJhbS5uYW1lXSA9IHZhbHVlO1xuXG5cdFx0XHQvLyBOb3cgdGhhdCB0aGUgcGFyYW1zIG1hdGNoLCByZXNldCB0aGUgYnVmZmVyIGlmIHRoZSBuZXh0IHBhcmFtIGlzbid0IHRoZSBbLi4ucmVzdF1cblx0XHRcdC8vIGFuZCB0aGUgbmV4dCB2YWx1ZSBpcyBkZWZpbmVkLCBvdGhlcndpc2UgdGhlIGJ1ZmZlciB3aWxsIGNhdXNlIHVzIHRvIHNraXAgdmFsdWVzXG5cdFx0XHRjb25zdCBuZXh0X3BhcmFtID0gcGFyYW1zW2kgKyAxXTtcblx0XHRcdGNvbnN0IG5leHRfdmFsdWUgPSB2YWx1ZXNbaSArIDFdO1xuXHRcdFx0aWYgKG5leHRfcGFyYW0gJiYgIW5leHRfcGFyYW0ucmVzdCAmJiBuZXh0X3BhcmFtLm9wdGlvbmFsICYmIG5leHRfdmFsdWUgJiYgcGFyYW0uY2hhaW5lZCkge1xuXHRcdFx0XHRidWZmZXJlZCA9IDA7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRoZXJlIGFyZSBubyBtb3JlIHBhcmFtcyBhbmQgbm8gbW9yZSB2YWx1ZXMsIGJ1dCBhbGwgbm9uLWVtcHR5IHZhbHVlcyBoYXZlIGJlZW4gbWF0Y2hlZFxuXHRcdFx0aWYgKFxuXHRcdFx0XHQhbmV4dF9wYXJhbSAmJlxuXHRcdFx0XHQhbmV4dF92YWx1ZSAmJlxuXHRcdFx0XHRPYmplY3Qua2V5cyhyZXN1bHQpLmxlbmd0aCA9PT0gdmFsdWVzX25lZWRpbmdfbWF0Y2gubGVuZ3RoXG5cdFx0XHQpIHtcblx0XHRcdFx0YnVmZmVyZWQgPSAwO1xuXHRcdFx0fVxuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0Ly8gaW4gdGhlIGAvW1thPWJdXS8uLi5gIGNhc2UsIGlmIHRoZSB2YWx1ZSBkaWRuJ3Qgc2F0aXNmeSB0aGUgbWF0Y2hlcixcblx0XHQvLyBrZWVwIHRyYWNrIG9mIHRoZSBudW1iZXIgb2Ygc2tpcHBlZCBvcHRpb25hbCBwYXJhbWV0ZXJzIGFuZCBjb250aW51ZVxuXHRcdGlmIChwYXJhbS5vcHRpb25hbCAmJiBwYXJhbS5jaGFpbmVkKSB7XG5cdFx0XHRidWZmZXJlZCsrO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0Ly8gb3RoZXJ3aXNlLCBpZiB0aGUgbWF0Y2hlciByZXR1cm5zIGBmYWxzZWAsIHRoZSByb3V0ZSBkaWQgbm90IG1hdGNoXG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0aWYgKGJ1ZmZlcmVkKSByZXR1cm47XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gc3RyICovXG5mdW5jdGlvbiBlc2NhcGUoc3RyKSB7XG5cdHJldHVybiAoXG5cdFx0c3RyXG5cdFx0XHQubm9ybWFsaXplKClcblx0XHRcdC8vIGVzY2FwZSBbIGFuZCBdIGJlZm9yZSBlc2NhcGluZyBvdGhlciBjaGFyYWN0ZXJzLCBzaW5jZSB0aGV5IGFyZSB1c2VkIGluIHRoZSByZXBsYWNlbWVudHNcblx0XHRcdC5yZXBsYWNlKC9bW1xcXV0vZywgJ1xcXFwkJicpXG5cdFx0XHQvLyByZXBsYWNlICUsIC8sID8gYW5kICMgd2l0aCB0aGVpciBlbmNvZGVkIHZlcnNpb25zIGJlY2F1c2UgZGVjb2RlX3BhdGhuYW1lIGxlYXZlcyB0aGVtIHVudG91Y2hlZFxuXHRcdFx0LnJlcGxhY2UoLyUvZywgJyUyNScpXG5cdFx0XHQucmVwbGFjZSgvXFwvL2csICclMltGZl0nKVxuXHRcdFx0LnJlcGxhY2UoL1xcPy9nLCAnJTNbRmZdJylcblx0XHRcdC5yZXBsYWNlKC8jL2csICclMjMnKVxuXHRcdFx0Ly8gZXNjYXBlIGNoYXJhY3RlcnMgdGhhdCBoYXZlIHNwZWNpYWwgbWVhbmluZyBpbiByZWdleFxuXHRcdFx0LnJlcGxhY2UoL1suKis/XiR7fSgpfFxcXFxdL2csICdcXFxcJCYnKVxuXHQpO1xufVxuXG5jb25zdCBiYXNpY19wYXJhbV9wYXR0ZXJuID0gL1xcWyhcXFspPyhcXC5cXC5cXC4pPyhcXHcrPykoPzo9KFxcdyspKT9cXF1cXF0/L2c7XG5cbi8qKlxuICogUG9wdWxhdGUgYSByb3V0ZSBJRCB3aXRoIHBhcmFtcyB0byByZXNvbHZlIGEgcGF0aG5hbWUuXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIHJlc29sdmVSb3V0ZShcbiAqICAgYC9ibG9nL1tzbHVnXS9bLi4uc29tZXRoaW5nRWxzZV1gLFxuICogICB7XG4gKiAgICAgc2x1ZzogJ2hlbGxvLXdvcmxkJyxcbiAqICAgICBzb21ldGhpbmdFbHNlOiAnc29tZXRoaW5nL2Vsc2UnXG4gKiAgIH1cbiAqICk7IC8vIGAvYmxvZy9oZWxsby13b3JsZC9zb21ldGhpbmcvZWxzZWBcbiAqIGBgYFxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD59IHBhcmFtc1xuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVfcm91dGUoaWQsIHBhcmFtcykge1xuXHRjb25zdCBzZWdtZW50cyA9IGdldF9yb3V0ZV9zZWdtZW50cyhpZCk7XG5cdHJldHVybiAoXG5cdFx0Jy8nICtcblx0XHRzZWdtZW50c1xuXHRcdFx0Lm1hcCgoc2VnbWVudCkgPT5cblx0XHRcdFx0c2VnbWVudC5yZXBsYWNlKGJhc2ljX3BhcmFtX3BhdHRlcm4sIChfLCBvcHRpb25hbCwgcmVzdCwgbmFtZSkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IHBhcmFtX3ZhbHVlID0gcGFyYW1zW25hbWVdO1xuXG5cdFx0XHRcdFx0Ly8gVGhpcyBpcyBuZXN0ZWQgc28gVFMgY29ycmVjdGx5IG5hcnJvd3MgdGhlIHR5cGVcblx0XHRcdFx0XHRpZiAoIXBhcmFtX3ZhbHVlKSB7XG5cdFx0XHRcdFx0XHRpZiAob3B0aW9uYWwpIHJldHVybiAnJztcblx0XHRcdFx0XHRcdGlmIChyZXN0ICYmIHBhcmFtX3ZhbHVlICE9PSB1bmRlZmluZWQpIHJldHVybiAnJztcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBwYXJhbWV0ZXIgJyR7bmFtZX0nIGluIHJvdXRlICR7aWR9YCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHBhcmFtX3ZhbHVlLnN0YXJ0c1dpdGgoJy8nKSB8fCBwYXJhbV92YWx1ZS5lbmRzV2l0aCgnLycpKVxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0XHRgUGFyYW1ldGVyICcke25hbWV9JyBpbiByb3V0ZSAke2lkfSBjYW5ub3Qgc3RhcnQgb3IgZW5kIHdpdGggYSBzbGFzaCAtLSB0aGlzIHdvdWxkIGNhdXNlIGFuIGludmFsaWQgcm91dGUgbGlrZSBmb28vL2JhcmBcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcmFtX3ZhbHVlO1xuXHRcdFx0XHR9KVxuXHRcdFx0KVxuXHRcdFx0LmZpbHRlcihCb29sZWFuKVxuXHRcdFx0LmpvaW4oJy8nKVxuXHQpO1xufVxuIiwiaW1wb3J0IHsgZXhlYywgcGFyc2Vfcm91dGVfaWQgfSBmcm9tICcuLi8uLi91dGlscy9yb3V0aW5nLmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi90eXBlcy5qcycpLlN2ZWx0ZUtpdEFwcH0gYXBwXG4gKiBAcmV0dXJucyB7aW1wb3J0KCd0eXBlcycpLkNTUlJvdXRlW119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZSh7IG5vZGVzLCBzZXJ2ZXJfbG9hZHMsIGRpY3Rpb25hcnksIG1hdGNoZXJzIH0pIHtcblx0Y29uc3QgbGF5b3V0c193aXRoX3NlcnZlcl9sb2FkID0gbmV3IFNldChzZXJ2ZXJfbG9hZHMpO1xuXG5cdHJldHVybiBPYmplY3QuZW50cmllcyhkaWN0aW9uYXJ5KS5tYXAoKFtpZCwgW2xlYWYsIGxheW91dHMsIGVycm9yc11dKSA9PiB7XG5cdFx0Y29uc3QgeyBwYXR0ZXJuLCBwYXJhbXMgfSA9IHBhcnNlX3JvdXRlX2lkKGlkKTtcblxuXHRcdGNvbnN0IHJvdXRlID0ge1xuXHRcdFx0aWQsXG5cdFx0XHQvKiogQHBhcmFtIHtzdHJpbmd9IHBhdGggKi9cblx0XHRcdGV4ZWM6IChwYXRoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IG1hdGNoID0gcGF0dGVybi5leGVjKHBhdGgpO1xuXHRcdFx0XHRpZiAobWF0Y2gpIHJldHVybiBleGVjKG1hdGNoLCBwYXJhbXMsIG1hdGNoZXJzKTtcblx0XHRcdH0sXG5cdFx0XHRlcnJvcnM6IFsxLCAuLi4oZXJyb3JzIHx8IFtdKV0ubWFwKChuKSA9PiBub2Rlc1tuXSksXG5cdFx0XHRsYXlvdXRzOiBbMCwgLi4uKGxheW91dHMgfHwgW10pXS5tYXAoY3JlYXRlX2xheW91dF9sb2FkZXIpLFxuXHRcdFx0bGVhZjogY3JlYXRlX2xlYWZfbG9hZGVyKGxlYWYpXG5cdFx0fTtcblxuXHRcdC8vIGJpdCBvZiBhIGhhY2ssIGJ1dCBlbnN1cmVzIHRoYXQgbGF5b3V0L2Vycm9yIG5vZGUgbGlzdHMgYXJlIHRoZSBzYW1lXG5cdFx0Ly8gbGVuZ3RoLCB3aXRob3V0IHdoaWNoIHRoZSB3cm9uZyBkYXRhIHdpbGwgYmUgYXBwbGllZCBpZiB0aGUgcm91dGVcblx0XHQvLyBtYW5pZmVzdCBsb29rcyBsaWtlIGBbW2EsIGJdLCBbYyxdLCBkXWBcblx0XHRyb3V0ZS5lcnJvcnMubGVuZ3RoID0gcm91dGUubGF5b3V0cy5sZW5ndGggPSBNYXRoLm1heChcblx0XHRcdHJvdXRlLmVycm9ycy5sZW5ndGgsXG5cdFx0XHRyb3V0ZS5sYXlvdXRzLmxlbmd0aFxuXHRcdCk7XG5cblx0XHRyZXR1cm4gcm91dGU7XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge251bWJlcn0gaWRcblx0ICogQHJldHVybnMge1tib29sZWFuLCBpbXBvcnQoJ3R5cGVzJykuQ1NSUGFnZU5vZGVMb2FkZXJdfVxuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlX2xlYWZfbG9hZGVyKGlkKSB7XG5cdFx0Ly8gd2hldGhlciBvciBub3QgdGhlIHJvdXRlIHVzZXMgdGhlIHNlcnZlciBkYXRhIGlzXG5cdFx0Ly8gZW5jb2RlZCB1c2luZyB0aGUgb25lcycgY29tcGxlbWVudCwgdG8gc2F2ZSBzcGFjZVxuXHRcdGNvbnN0IHVzZXNfc2VydmVyX2RhdGEgPSBpZCA8IDA7XG5cdFx0aWYgKHVzZXNfc2VydmVyX2RhdGEpIGlkID0gfmlkO1xuXHRcdHJldHVybiBbdXNlc19zZXJ2ZXJfZGF0YSwgbm9kZXNbaWRdXTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge251bWJlciB8IHVuZGVmaW5lZH0gaWRcblx0ICogQHJldHVybnMge1tib29sZWFuLCBpbXBvcnQoJ3R5cGVzJykuQ1NSUGFnZU5vZGVMb2FkZXJdIHwgdW5kZWZpbmVkfVxuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlX2xheW91dF9sb2FkZXIoaWQpIHtcblx0XHQvLyB3aGV0aGVyIG9yIG5vdCB0aGUgbGF5b3V0IHVzZXMgdGhlIHNlcnZlciBkYXRhIGlzXG5cdFx0Ly8gZW5jb2RlZCBpbiB0aGUgbGF5b3V0cyBhcnJheSwgdG8gc2F2ZSBzcGFjZVxuXHRcdHJldHVybiBpZCA9PT0gdW5kZWZpbmVkID8gaWQgOiBbbGF5b3V0c193aXRoX3NlcnZlcl9sb2FkLmhhcyhpZCksIG5vZGVzW2lkXV07XG5cdH1cbn1cbiIsIi8qKlxuICogUmVhZCBhIHZhbHVlIGZyb20gYHNlc3Npb25TdG9yYWdlYFxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHBhcmFtIHsodmFsdWU6IHN0cmluZykgPT4gYW55fSBwYXJzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KGtleSwgcGFyc2UgPSBKU09OLnBhcnNlKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHBhcnNlKHNlc3Npb25TdG9yYWdlW2tleV0pO1xuXHR9IGNhdGNoIHtcblx0XHQvLyBkbyBub3RoaW5nXG5cdH1cbn1cblxuLyoqXG4gKiBXcml0ZSBhIHZhbHVlIHRvIGBzZXNzaW9uU3RvcmFnZWBcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHBhcmFtIHsodmFsdWU6IGFueSkgPT4gc3RyaW5nfSBzdHJpbmdpZnlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlLCBzdHJpbmdpZnkgPSBKU09OLnN0cmluZ2lmeSkge1xuXHRjb25zdCBkYXRhID0gc3RyaW5naWZ5KHZhbHVlKTtcblx0dHJ5IHtcblx0XHRzZXNzaW9uU3RvcmFnZVtrZXldID0gZGF0YTtcblx0fSBjYXRjaCB7XG5cdFx0Ly8gZG8gbm90aGluZ1xuXHR9XG59XG4iLCJpbXBvcnQge1xuXHRydW5fYWxsLFxuXHRzdWJzY3JpYmUsXG5cdG5vb3AsXG5cdHNhZmVfbm90X2VxdWFsLFxuXHRpc19mdW5jdGlvbixcblx0Z2V0X3N0b3JlX3ZhbHVlXG59IGZyb20gJy4uL2ludGVybmFsL2luZGV4LmpzJztcblxuY29uc3Qgc3Vic2NyaWJlcl9xdWV1ZSA9IFtdO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBgUmVhZGFibGVgIHN0b3JlIHRoYXQgYWxsb3dzIHJlYWRpbmcgYnkgc3Vic2NyaXB0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1zdG9yZSNyZWFkYWJsZVxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7VH0gW3ZhbHVlXSBpbml0aWFsIHZhbHVlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5TdGFydFN0b3BOb3RpZmllcjxUPn0gW3N0YXJ0XVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRhYmxlKHZhbHVlLCBzdGFydCkge1xuXHRyZXR1cm4ge1xuXHRcdHN1YnNjcmliZTogd3JpdGFibGUodmFsdWUsIHN0YXJ0KS5zdWJzY3JpYmVcblx0fTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBgV3JpdGFibGVgIHN0b3JlIHRoYXQgYWxsb3dzIGJvdGggdXBkYXRpbmcgYW5kIHJlYWRpbmcgYnkgc3Vic2NyaXB0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1zdG9yZSN3cml0YWJsZVxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7VH0gW3ZhbHVlXSBpbml0aWFsIHZhbHVlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5TdGFydFN0b3BOb3RpZmllcjxUPn0gW3N0YXJ0XVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5Xcml0YWJsZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyaXRhYmxlKHZhbHVlLCBzdGFydCA9IG5vb3ApIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vcHVibGljLmpzJykuVW5zdWJzY3JpYmVyfSAqL1xuXHRsZXQgc3RvcDtcblx0LyoqIEB0eXBlIHtTZXQ8aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdWJzY3JpYmVJbnZhbGlkYXRlVHVwbGU8VD4+fSAqL1xuXHRjb25zdCBzdWJzY3JpYmVycyA9IG5ldyBTZXQoKTtcblx0LyoqIEBwYXJhbSB7VH0gbmV3X3ZhbHVlXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0ZnVuY3Rpb24gc2V0KG5ld192YWx1ZSkge1xuXHRcdGlmIChzYWZlX25vdF9lcXVhbCh2YWx1ZSwgbmV3X3ZhbHVlKSkge1xuXHRcdFx0dmFsdWUgPSBuZXdfdmFsdWU7XG5cdFx0XHRpZiAoc3RvcCkge1xuXHRcdFx0XHQvLyBzdG9yZSBpcyByZWFkeVxuXHRcdFx0XHRjb25zdCBydW5fcXVldWUgPSAhc3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGg7XG5cdFx0XHRcdGZvciAoY29uc3Qgc3Vic2NyaWJlciBvZiBzdWJzY3JpYmVycykge1xuXHRcdFx0XHRcdHN1YnNjcmliZXJbMV0oKTtcblx0XHRcdFx0XHRzdWJzY3JpYmVyX3F1ZXVlLnB1c2goc3Vic2NyaWJlciwgdmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChydW5fcXVldWUpIHtcblx0XHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHN1YnNjcmliZXJfcXVldWUubGVuZ3RoOyBpICs9IDIpIHtcblx0XHRcdFx0XHRcdHN1YnNjcmliZXJfcXVldWVbaV1bMF0oc3Vic2NyaWJlcl9xdWV1ZVtpICsgMV0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aCA9IDA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuVXBkYXRlcjxUPn0gZm5cblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRmdW5jdGlvbiB1cGRhdGUoZm4pIHtcblx0XHRzZXQoZm4odmFsdWUpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5TdWJzY3JpYmVyPFQ+fSBydW5cblx0ICogQHBhcmFtIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLkludmFsaWRhdG9yPFQ+fSBbaW52YWxpZGF0ZV1cblx0ICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5VbnN1YnNjcmliZXJ9XG5cdCAqL1xuXHRmdW5jdGlvbiBzdWJzY3JpYmUocnVuLCBpbnZhbGlkYXRlID0gbm9vcCkge1xuXHRcdC8qKiBAdHlwZSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdWJzY3JpYmVJbnZhbGlkYXRlVHVwbGU8VD59ICovXG5cdFx0Y29uc3Qgc3Vic2NyaWJlciA9IFtydW4sIGludmFsaWRhdGVdO1xuXHRcdHN1YnNjcmliZXJzLmFkZChzdWJzY3JpYmVyKTtcblx0XHRpZiAoc3Vic2NyaWJlcnMuc2l6ZSA9PT0gMSkge1xuXHRcdFx0c3RvcCA9IHN0YXJ0KHNldCwgdXBkYXRlKSB8fCBub29wO1xuXHRcdH1cblx0XHRydW4odmFsdWUpO1xuXHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHRzdWJzY3JpYmVycy5kZWxldGUoc3Vic2NyaWJlcik7XG5cdFx0XHRpZiAoc3Vic2NyaWJlcnMuc2l6ZSA9PT0gMCAmJiBzdG9wKSB7XG5cdFx0XHRcdHN0b3AoKTtcblx0XHRcdFx0c3RvcCA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXHRyZXR1cm4geyBzZXQsIHVwZGF0ZSwgc3Vic2NyaWJlIH07XG59XG5cbi8qKlxuICogRGVyaXZlZCB2YWx1ZSBzdG9yZSBieSBzeW5jaHJvbml6aW5nIG9uZSBvciBtb3JlIHJlYWRhYmxlIHN0b3JlcyBhbmRcbiAqIGFwcGx5aW5nIGFuIGFnZ3JlZ2F0aW9uIGZ1bmN0aW9uIG92ZXIgaXRzIGlucHV0IHZhbHVlcy5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjZGVyaXZlZFxuICogQHRlbXBsYXRlIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlN0b3Jlc30gU1xuICogQHRlbXBsYXRlIFRcbiAqIEBvdmVybG9hZFxuICogQHBhcmFtIHtTfSBzdG9yZXMgLSBpbnB1dCBzdG9yZXNcbiAqIEBwYXJhbSB7KHZhbHVlczogaW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdG9yZXNWYWx1ZXM8Uz4sIHNldDogKHZhbHVlOiBUKSA9PiB2b2lkLCB1cGRhdGU6IChmbjogaW1wb3J0KCcuL3B1YmxpYy5qcycpLlVwZGF0ZXI8VD4pID0+IHZvaWQpID0+IGltcG9ydCgnLi9wdWJsaWMuanMnKS5VbnN1YnNjcmliZXIgfCB2b2lkfSBmbiAtIGZ1bmN0aW9uIGNhbGxiYWNrIHRoYXQgYWdncmVnYXRlcyB0aGUgdmFsdWVzXG4gKiBAcGFyYW0ge1R9IFtpbml0aWFsX3ZhbHVlXSAtIGluaXRpYWwgdmFsdWVcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuUmVhZGFibGU8VD59XG4gKi9cblxuLyoqXG4gKiBEZXJpdmVkIHZhbHVlIHN0b3JlIGJ5IHN5bmNocm9uaXppbmcgb25lIG9yIG1vcmUgcmVhZGFibGUgc3RvcmVzIGFuZFxuICogYXBwbHlpbmcgYW4gYWdncmVnYXRpb24gZnVuY3Rpb24gb3ZlciBpdHMgaW5wdXQgdmFsdWVzLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1zdG9yZSNkZXJpdmVkXG4gKiBAdGVtcGxhdGUge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuU3RvcmVzfSBTXG4gKiBAdGVtcGxhdGUgVFxuICogQG92ZXJsb2FkXG4gKiBAcGFyYW0ge1N9IHN0b3JlcyAtIGlucHV0IHN0b3Jlc1xuICogQHBhcmFtIHsodmFsdWVzOiBpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlN0b3Jlc1ZhbHVlczxTPikgPT4gVH0gZm4gLSBmdW5jdGlvbiBjYWxsYmFjayB0aGF0IGFnZ3JlZ2F0ZXMgdGhlIHZhbHVlc1xuICogQHBhcmFtIHtUfSBbaW5pdGlhbF92YWx1ZV0gLSBpbml0aWFsIHZhbHVlXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fVxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlN0b3Jlc30gU1xuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7U30gc3RvcmVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtUfSBbaW5pdGlhbF92YWx1ZV1cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuUmVhZGFibGU8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXJpdmVkKHN0b3JlcywgZm4sIGluaXRpYWxfdmFsdWUpIHtcblx0Y29uc3Qgc2luZ2xlID0gIUFycmF5LmlzQXJyYXkoc3RvcmVzKTtcblx0LyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoJy4vcHVibGljLmpzJykuUmVhZGFibGU8YW55Pj59ICovXG5cdGNvbnN0IHN0b3Jlc19hcnJheSA9IHNpbmdsZSA/IFtzdG9yZXNdIDogc3RvcmVzO1xuXHRpZiAoIXN0b3Jlc19hcnJheS5ldmVyeShCb29sZWFuKSkge1xuXHRcdHRocm93IG5ldyBFcnJvcignZGVyaXZlZCgpIGV4cGVjdHMgc3RvcmVzIGFzIGlucHV0LCBnb3QgYSBmYWxzeSB2YWx1ZScpO1xuXHR9XG5cdGNvbnN0IGF1dG8gPSBmbi5sZW5ndGggPCAyO1xuXHRyZXR1cm4gcmVhZGFibGUoaW5pdGlhbF92YWx1ZSwgKHNldCwgdXBkYXRlKSA9PiB7XG5cdFx0bGV0IHN0YXJ0ZWQgPSBmYWxzZTtcblx0XHRjb25zdCB2YWx1ZXMgPSBbXTtcblx0XHRsZXQgcGVuZGluZyA9IDA7XG5cdFx0bGV0IGNsZWFudXAgPSBub29wO1xuXHRcdGNvbnN0IHN5bmMgPSAoKSA9PiB7XG5cdFx0XHRpZiAocGVuZGluZykge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHRjb25zdCByZXN1bHQgPSBmbihzaW5nbGUgPyB2YWx1ZXNbMF0gOiB2YWx1ZXMsIHNldCwgdXBkYXRlKTtcblx0XHRcdGlmIChhdXRvKSB7XG5cdFx0XHRcdHNldChyZXN1bHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2xlYW51cCA9IGlzX2Z1bmN0aW9uKHJlc3VsdCkgPyByZXN1bHQgOiBub29wO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0Y29uc3QgdW5zdWJzY3JpYmVycyA9IHN0b3Jlc19hcnJheS5tYXAoKHN0b3JlLCBpKSA9PlxuXHRcdFx0c3Vic2NyaWJlKFxuXHRcdFx0XHRzdG9yZSxcblx0XHRcdFx0KHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dmFsdWVzW2ldID0gdmFsdWU7XG5cdFx0XHRcdFx0cGVuZGluZyAmPSB+KDEgPDwgaSk7XG5cdFx0XHRcdFx0aWYgKHN0YXJ0ZWQpIHtcblx0XHRcdFx0XHRcdHN5bmMoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdCgpID0+IHtcblx0XHRcdFx0XHRwZW5kaW5nIHw9IDEgPDwgaTtcblx0XHRcdFx0fVxuXHRcdFx0KVxuXHRcdCk7XG5cdFx0c3RhcnRlZCA9IHRydWU7XG5cdFx0c3luYygpO1xuXHRcdHJldHVybiBmdW5jdGlvbiBzdG9wKCkge1xuXHRcdFx0cnVuX2FsbCh1bnN1YnNjcmliZXJzKTtcblx0XHRcdGNsZWFudXAoKTtcblx0XHRcdC8vIFdlIG5lZWQgdG8gc2V0IHRoaXMgdG8gZmFsc2UgYmVjYXVzZSBjYWxsYmFja3MgY2FuIHN0aWxsIGhhcHBlbiBkZXNwaXRlIGhhdmluZyB1bnN1YnNjcmliZWQ6XG5cdFx0XHQvLyBDYWxsYmFja3MgbWlnaHQgYWxyZWFkeSBiZSBwbGFjZWQgaW4gdGhlIHF1ZXVlIHdoaWNoIGRvZXNuJ3Qga25vdyBpdCBzaG91bGQgbm8gbG9uZ2VyXG5cdFx0XHQvLyBpbnZva2UgdGhpcyBkZXJpdmVkIHN0b3JlLlxuXHRcdFx0c3RhcnRlZCA9IGZhbHNlO1xuXHRcdH07XG5cdH0pO1xufVxuXG4vKipcbiAqIFRha2VzIGEgc3RvcmUgYW5kIHJldHVybnMgYSBuZXcgb25lIGRlcml2ZWQgZnJvbSB0aGUgb2xkIG9uZSB0aGF0IGlzIHJlYWRhYmxlLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1zdG9yZSNyZWFkb25seVxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fSBzdG9yZSAgLSBzdG9yZSB0byBtYWtlIHJlYWRvbmx5XG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZG9ubHkoc3RvcmUpIHtcblx0cmV0dXJuIHtcblx0XHRzdWJzY3JpYmU6IHN0b3JlLnN1YnNjcmliZS5iaW5kKHN0b3JlKVxuXHR9O1xufVxuXG5leHBvcnQgeyBnZXRfc3RvcmVfdmFsdWUgYXMgZ2V0IH07XG4iLCJleHBvcnQgY29uc3QgU05BUFNIT1RfS0VZID0gJ3N2ZWx0ZWtpdDpzbmFwc2hvdCc7XG5leHBvcnQgY29uc3QgU0NST0xMX0tFWSA9ICdzdmVsdGVraXQ6c2Nyb2xsJztcbmV4cG9ydCBjb25zdCBTVEFURVNfS0VZID0gJ3N2ZWx0ZWtpdDpzdGF0ZXMnO1xuZXhwb3J0IGNvbnN0IFBBR0VfVVJMX0tFWSA9ICdzdmVsdGVraXQ6cGFnZXVybCc7XG5cbmV4cG9ydCBjb25zdCBISVNUT1JZX0lOREVYID0gJ3N2ZWx0ZWtpdDpoaXN0b3J5JztcbmV4cG9ydCBjb25zdCBOQVZJR0FUSU9OX0lOREVYID0gJ3N2ZWx0ZWtpdDpuYXZpZ2F0aW9uJztcblxuZXhwb3J0IGNvbnN0IFBSRUxPQURfUFJJT1JJVElFUyA9IC8qKiBAdHlwZSB7Y29uc3R9ICovICh7XG5cdHRhcDogMSxcblx0aG92ZXI6IDIsXG5cdHZpZXdwb3J0OiAzLFxuXHRlYWdlcjogNCxcblx0b2ZmOiAtMSxcblx0ZmFsc2U6IC0xXG59KTtcbiIsImltcG9ydCB7IEJST1dTRVIsIERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgd3JpdGFibGUgfSBmcm9tICdzdmVsdGUvc3RvcmUnO1xuaW1wb3J0IHsgYXNzZXRzIH0gZnJvbSAnX19zdmVsdGVraXQvcGF0aHMnO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJ19fc3ZlbHRla2l0L2Vudmlyb25tZW50JztcbmltcG9ydCB7IFBSRUxPQURfUFJJT1JJVElFUyB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcblxuLyogZ2xvYmFsIF9fU1ZFTFRFS0lUX0FQUF9WRVJTSU9OX0ZJTEVfXywgX19TVkVMVEVLSVRfQVBQX1ZFUlNJT05fUE9MTF9JTlRFUlZBTF9fICovXG5cbmV4cG9ydCBjb25zdCBvcmlnaW4gPSBCUk9XU0VSID8gbG9jYXRpb24ub3JpZ2luIDogJyc7XG5cbi8qKiBAcGFyYW0ge3N0cmluZyB8IFVSTH0gdXJsICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZV91cmwodXJsKSB7XG5cdGlmICh1cmwgaW5zdGFuY2VvZiBVUkwpIHJldHVybiB1cmw7XG5cblx0bGV0IGJhc2VVUkkgPSBkb2N1bWVudC5iYXNlVVJJO1xuXG5cdGlmICghYmFzZVVSSSkge1xuXHRcdGNvbnN0IGJhc2VUYWdzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2Jhc2UnKTtcblx0XHRiYXNlVVJJID0gYmFzZVRhZ3MubGVuZ3RoID8gYmFzZVRhZ3NbMF0uaHJlZiA6IGRvY3VtZW50LlVSTDtcblx0fVxuXG5cdHJldHVybiBuZXcgVVJMKHVybCwgYmFzZVVSSSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzY3JvbGxfc3RhdGUoKSB7XG5cdHJldHVybiB7XG5cdFx0eDogcGFnZVhPZmZzZXQsXG5cdFx0eTogcGFnZVlPZmZzZXRcblx0fTtcbn1cblxuY29uc3Qgd2FybmVkID0gbmV3IFdlYWtTZXQoKTtcblxuLyoqIEB0eXBlZGVmIHtrZXlvZiB0eXBlb2YgdmFsaWRfbGlua19vcHRpb25zfSBMaW5rT3B0aW9uTmFtZSAqL1xuXG5jb25zdCB2YWxpZF9saW5rX29wdGlvbnMgPSAvKiogQHR5cGUge2NvbnN0fSAqLyAoe1xuXHQncHJlbG9hZC1jb2RlJzogWycnLCAnb2ZmJywgJ2ZhbHNlJywgJ3RhcCcsICdob3ZlcicsICd2aWV3cG9ydCcsICdlYWdlciddLFxuXHQncHJlbG9hZC1kYXRhJzogWycnLCAnb2ZmJywgJ2ZhbHNlJywgJ3RhcCcsICdob3ZlciddLFxuXHRrZWVwZm9jdXM6IFsnJywgJ3RydWUnLCAnb2ZmJywgJ2ZhbHNlJ10sXG5cdG5vc2Nyb2xsOiBbJycsICd0cnVlJywgJ29mZicsICdmYWxzZSddLFxuXHRyZWxvYWQ6IFsnJywgJ3RydWUnLCAnb2ZmJywgJ2ZhbHNlJ10sXG5cdHJlcGxhY2VzdGF0ZTogWycnLCAndHJ1ZScsICdvZmYnLCAnZmFsc2UnXVxufSk7XG5cbi8qKlxuICogQHRlbXBsYXRlIHtMaW5rT3B0aW9uTmFtZX0gVFxuICogQHR5cGVkZWYge3R5cGVvZiB2YWxpZF9saW5rX29wdGlvbnNbVF1bbnVtYmVyXX0gVmFsaWRMaW5rT3B0aW9uc1xuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIHtMaW5rT3B0aW9uTmFtZX0gVFxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge1R9IG5hbWVcbiAqL1xuZnVuY3Rpb24gbGlua19vcHRpb24oZWxlbWVudCwgbmFtZSkge1xuXHRjb25zdCB2YWx1ZSA9IC8qKiBAdHlwZSB7VmFsaWRMaW5rT3B0aW9uczxUPiB8IG51bGx9ICovIChcblx0XHRlbGVtZW50LmdldEF0dHJpYnV0ZShgZGF0YS1zdmVsdGVraXQtJHtuYW1lfWApXG5cdCk7XG5cblx0aWYgKERFVikge1xuXHRcdHZhbGlkYXRlX2xpbmtfb3B0aW9uKGVsZW1lbnQsIG5hbWUsIHZhbHVlKTtcblx0fVxuXG5cdHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge0xpbmtPcHRpb25OYW1lfSBUXG4gKiBAdGVtcGxhdGUge1ZhbGlkTGlua09wdGlvbnM8VD4gfCBudWxsfSBVXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7VH0gbmFtZVxuICogQHBhcmFtIHtVfSB2YWx1ZVxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZV9saW5rX29wdGlvbihlbGVtZW50LCBuYW1lLCB2YWx1ZSkge1xuXHRpZiAodmFsdWUgPT09IG51bGwpIHJldHVybjtcblxuXHQvLyBAdHMtZXhwZWN0LWVycm9yIC0gaW5jbHVkZXMgaXMgZHVtYlxuXHRpZiAoIXdhcm5lZC5oYXMoZWxlbWVudCkgJiYgIXZhbGlkX2xpbmtfb3B0aW9uc1tuYW1lXS5pbmNsdWRlcyh2YWx1ZSkpIHtcblx0XHRjb25zb2xlLmVycm9yKFxuXHRcdFx0YFVuZXhwZWN0ZWQgdmFsdWUgZm9yICR7bmFtZX0g4oCUIHNob3VsZCBiZSBvbmUgb2YgJHt2YWxpZF9saW5rX29wdGlvbnNbbmFtZV1cblx0XHRcdFx0Lm1hcCgob3B0aW9uKSA9PiBKU09OLnN0cmluZ2lmeShvcHRpb24pKVxuXHRcdFx0XHQuam9pbignLCAnKX1gLFxuXHRcdFx0ZWxlbWVudFxuXHRcdCk7XG5cblx0XHR3YXJuZWQuYWRkKGVsZW1lbnQpO1xuXHR9XG59XG5cbmNvbnN0IGxldmVscyA9IHtcblx0Li4uUFJFTE9BRF9QUklPUklUSUVTLFxuXHQnJzogUFJFTE9BRF9QUklPUklUSUVTLmhvdmVyXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0VsZW1lbnQgfCBudWxsfVxuICovXG5mdW5jdGlvbiBwYXJlbnRfZWxlbWVudChlbGVtZW50KSB7XG5cdGxldCBwYXJlbnQgPSBlbGVtZW50LmFzc2lnbmVkU2xvdCA/PyBlbGVtZW50LnBhcmVudE5vZGU7XG5cblx0Ly8gQHRzLWV4cGVjdC1lcnJvciBoYW5kbGUgc2hhZG93IHJvb3RzXG5cdGlmIChwYXJlbnQ/Lm5vZGVUeXBlID09PSAxMSkgcGFyZW50ID0gcGFyZW50Lmhvc3Q7XG5cblx0cmV0dXJuIC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKHBhcmVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZF9hbmNob3IoZWxlbWVudCwgdGFyZ2V0KSB7XG5cdHdoaWxlIChlbGVtZW50ICYmIGVsZW1lbnQgIT09IHRhcmdldCkge1xuXHRcdGlmIChlbGVtZW50Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09ICdBJyAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnaHJlZicpKSB7XG5cdFx0XHRyZXR1cm4gLyoqIEB0eXBlIHtIVE1MQW5jaG9yRWxlbWVudCB8IFNWR0FFbGVtZW50fSAqLyAoZWxlbWVudCk7XG5cdFx0fVxuXG5cdFx0ZWxlbWVudCA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKHBhcmVudF9lbGVtZW50KGVsZW1lbnQpKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEFuY2hvckVsZW1lbnQgfCBTVkdBRWxlbWVudH0gYVxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9saW5rX2luZm8oYSwgYmFzZSkge1xuXHQvKiogQHR5cGUge1VSTCB8IHVuZGVmaW5lZH0gKi9cblx0bGV0IHVybDtcblxuXHR0cnkge1xuXHRcdHVybCA9IG5ldyBVUkwoYSBpbnN0YW5jZW9mIFNWR0FFbGVtZW50ID8gYS5ocmVmLmJhc2VWYWwgOiBhLmhyZWYsIGRvY3VtZW50LmJhc2VVUkkpO1xuXHR9IGNhdGNoIHt9XG5cblx0Y29uc3QgdGFyZ2V0ID0gYSBpbnN0YW5jZW9mIFNWR0FFbGVtZW50ID8gYS50YXJnZXQuYmFzZVZhbCA6IGEudGFyZ2V0O1xuXG5cdGNvbnN0IGV4dGVybmFsID1cblx0XHQhdXJsIHx8XG5cdFx0ISF0YXJnZXQgfHxcblx0XHRpc19leHRlcm5hbF91cmwodXJsLCBiYXNlKSB8fFxuXHRcdChhLmdldEF0dHJpYnV0ZSgncmVsJykgfHwgJycpLnNwbGl0KC9cXHMrLykuaW5jbHVkZXMoJ2V4dGVybmFsJyk7XG5cblx0Y29uc3QgZG93bmxvYWQgPSB1cmw/Lm9yaWdpbiA9PT0gb3JpZ2luICYmIGEuaGFzQXR0cmlidXRlKCdkb3dubG9hZCcpO1xuXG5cdHJldHVybiB7IHVybCwgZXh0ZXJuYWwsIHRhcmdldCwgZG93bmxvYWQgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxGb3JtRWxlbWVudCB8IEhUTUxBbmNob3JFbGVtZW50IHwgU1ZHQUVsZW1lbnR9IGVsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9yb3V0ZXJfb3B0aW9ucyhlbGVtZW50KSB7XG5cdC8qKiBAdHlwZSB7VmFsaWRMaW5rT3B0aW9uczwna2VlcGZvY3VzJz4gfCBudWxsfSAqL1xuXHRsZXQga2VlcGZvY3VzID0gbnVsbDtcblxuXHQvKiogQHR5cGUge1ZhbGlkTGlua09wdGlvbnM8J25vc2Nyb2xsJz4gfCBudWxsfSAqL1xuXHRsZXQgbm9zY3JvbGwgPSBudWxsO1xuXG5cdC8qKiBAdHlwZSB7VmFsaWRMaW5rT3B0aW9uczwncHJlbG9hZC1jb2RlJz4gfCBudWxsfSAqL1xuXHRsZXQgcHJlbG9hZF9jb2RlID0gbnVsbDtcblxuXHQvKiogQHR5cGUge1ZhbGlkTGlua09wdGlvbnM8J3ByZWxvYWQtZGF0YSc+IHwgbnVsbH0gKi9cblx0bGV0IHByZWxvYWRfZGF0YSA9IG51bGw7XG5cblx0LyoqIEB0eXBlIHtWYWxpZExpbmtPcHRpb25zPCdyZWxvYWQnPiB8IG51bGx9ICovXG5cdGxldCByZWxvYWQgPSBudWxsO1xuXG5cdC8qKiBAdHlwZSB7VmFsaWRMaW5rT3B0aW9uczwncmVwbGFjZXN0YXRlJz4gfCBudWxsfSAqL1xuXHRsZXQgcmVwbGFjZV9zdGF0ZSA9IG51bGw7XG5cblx0LyoqIEB0eXBlIHtFbGVtZW50fSAqL1xuXHRsZXQgZWwgPSBlbGVtZW50O1xuXG5cdHdoaWxlIChlbCAmJiBlbCAhPT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG5cdFx0aWYgKHByZWxvYWRfY29kZSA9PT0gbnVsbCkgcHJlbG9hZF9jb2RlID0gbGlua19vcHRpb24oZWwsICdwcmVsb2FkLWNvZGUnKTtcblx0XHRpZiAocHJlbG9hZF9kYXRhID09PSBudWxsKSBwcmVsb2FkX2RhdGEgPSBsaW5rX29wdGlvbihlbCwgJ3ByZWxvYWQtZGF0YScpO1xuXHRcdGlmIChrZWVwZm9jdXMgPT09IG51bGwpIGtlZXBmb2N1cyA9IGxpbmtfb3B0aW9uKGVsLCAna2VlcGZvY3VzJyk7XG5cdFx0aWYgKG5vc2Nyb2xsID09PSBudWxsKSBub3Njcm9sbCA9IGxpbmtfb3B0aW9uKGVsLCAnbm9zY3JvbGwnKTtcblx0XHRpZiAocmVsb2FkID09PSBudWxsKSByZWxvYWQgPSBsaW5rX29wdGlvbihlbCwgJ3JlbG9hZCcpO1xuXHRcdGlmIChyZXBsYWNlX3N0YXRlID09PSBudWxsKSByZXBsYWNlX3N0YXRlID0gbGlua19vcHRpb24oZWwsICdyZXBsYWNlc3RhdGUnKTtcblxuXHRcdGVsID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAocGFyZW50X2VsZW1lbnQoZWwpKTtcblx0fVxuXG5cdC8qKiBAcGFyYW0ge3N0cmluZyB8IG51bGx9IHZhbHVlICovXG5cdGZ1bmN0aW9uIGdldF9vcHRpb25fc3RhdGUodmFsdWUpIHtcblx0XHRzd2l0Y2ggKHZhbHVlKSB7XG5cdFx0XHRjYXNlICcnOlxuXHRcdFx0Y2FzZSAndHJ1ZSc6XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0Y2FzZSAnb2ZmJzpcblx0XHRcdGNhc2UgJ2ZhbHNlJzpcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHByZWxvYWRfY29kZTogbGV2ZWxzW3ByZWxvYWRfY29kZSA/PyAnb2ZmJ10sXG5cdFx0cHJlbG9hZF9kYXRhOiBsZXZlbHNbcHJlbG9hZF9kYXRhID8/ICdvZmYnXSxcblx0XHRrZWVwZm9jdXM6IGdldF9vcHRpb25fc3RhdGUoa2VlcGZvY3VzKSxcblx0XHRub3Njcm9sbDogZ2V0X29wdGlvbl9zdGF0ZShub3Njcm9sbCksXG5cdFx0cmVsb2FkOiBnZXRfb3B0aW9uX3N0YXRlKHJlbG9hZCksXG5cdFx0cmVwbGFjZV9zdGF0ZTogZ2V0X29wdGlvbl9zdGF0ZShyZXBsYWNlX3N0YXRlKVxuXHR9O1xufVxuXG4vKiogQHBhcmFtIHthbnl9IHZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gbm90aWZpYWJsZV9zdG9yZSh2YWx1ZSkge1xuXHRjb25zdCBzdG9yZSA9IHdyaXRhYmxlKHZhbHVlKTtcblx0bGV0IHJlYWR5ID0gdHJ1ZTtcblxuXHRmdW5jdGlvbiBub3RpZnkoKSB7XG5cdFx0cmVhZHkgPSB0cnVlO1xuXHRcdHN0b3JlLnVwZGF0ZSgodmFsKSA9PiB2YWwpO1xuXHR9XG5cblx0LyoqIEBwYXJhbSB7YW55fSBuZXdfdmFsdWUgKi9cblx0ZnVuY3Rpb24gc2V0KG5ld192YWx1ZSkge1xuXHRcdHJlYWR5ID0gZmFsc2U7XG5cdFx0c3RvcmUuc2V0KG5ld192YWx1ZSk7XG5cdH1cblxuXHQvKiogQHBhcmFtIHsodmFsdWU6IGFueSkgPT4gdm9pZH0gcnVuICovXG5cdGZ1bmN0aW9uIHN1YnNjcmliZShydW4pIHtcblx0XHQvKiogQHR5cGUge2FueX0gKi9cblx0XHRsZXQgb2xkX3ZhbHVlO1xuXHRcdHJldHVybiBzdG9yZS5zdWJzY3JpYmUoKG5ld192YWx1ZSkgPT4ge1xuXHRcdFx0aWYgKG9sZF92YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IChyZWFkeSAmJiBuZXdfdmFsdWUgIT09IG9sZF92YWx1ZSkpIHtcblx0XHRcdFx0cnVuKChvbGRfdmFsdWUgPSBuZXdfdmFsdWUpKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHJldHVybiB7IG5vdGlmeSwgc2V0LCBzdWJzY3JpYmUgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV91cGRhdGVkX3N0b3JlKCkge1xuXHRjb25zdCB7IHNldCwgc3Vic2NyaWJlIH0gPSB3cml0YWJsZShmYWxzZSk7XG5cblx0aWYgKERFViB8fCAhQlJPV1NFUikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWJzY3JpYmUsXG5cdFx0XHRjaGVjazogYXN5bmMgKCkgPT4gZmFsc2Vcblx0XHR9O1xuXHR9XG5cblx0Y29uc3QgaW50ZXJ2YWwgPSBfX1NWRUxURUtJVF9BUFBfVkVSU0lPTl9QT0xMX0lOVEVSVkFMX187XG5cblx0LyoqIEB0eXBlIHtOb2RlSlMuVGltZW91dH0gKi9cblx0bGV0IHRpbWVvdXQ7XG5cblx0LyoqIEB0eXBlIHsoKSA9PiBQcm9taXNlPGJvb2xlYW4+fSAqL1xuXHRhc3luYyBmdW5jdGlvbiBjaGVjaygpIHtcblx0XHRjbGVhclRpbWVvdXQodGltZW91dCk7XG5cblx0XHRpZiAoaW50ZXJ2YWwpIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNoZWNrLCBpbnRlcnZhbCk7XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7YXNzZXRzfS8ke19fU1ZFTFRFS0lUX0FQUF9WRVJTSU9OX0ZJTEVfX31gLCB7XG5cdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHRwcmFnbWE6ICduby1jYWNoZScsXG5cdFx0XHRcdFx0J2NhY2hlLWNvbnRyb2wnOiAnbm8tY2FjaGUnXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAoIXJlcy5vaykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuXHRcdFx0Y29uc3QgdXBkYXRlZCA9IGRhdGEudmVyc2lvbiAhPT0gdmVyc2lvbjtcblxuXHRcdFx0aWYgKHVwZGF0ZWQpIHtcblx0XHRcdFx0c2V0KHRydWUpO1xuXHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB1cGRhdGVkO1xuXHRcdH0gY2F0Y2gge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdGlmIChpbnRlcnZhbCkgdGltZW91dCA9IHNldFRpbWVvdXQoY2hlY2ssIGludGVydmFsKTtcblxuXHRyZXR1cm4ge1xuXHRcdHN1YnNjcmliZSxcblx0XHRjaGVja1xuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VVJMfSB1cmxcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19leHRlcm5hbF91cmwodXJsLCBiYXNlKSB7XG5cdHJldHVybiB1cmwub3JpZ2luICE9PSBvcmlnaW4gfHwgIXVybC5wYXRobmFtZS5zdGFydHNXaXRoKGJhc2UpO1xufVxuIiwiZXhwb3J0IGNvbnN0IFVOREVGSU5FRCA9IC0xO1xuZXhwb3J0IGNvbnN0IEhPTEUgPSAtMjtcbmV4cG9ydCBjb25zdCBOQU4gPSAtMztcbmV4cG9ydCBjb25zdCBQT1NJVElWRV9JTkZJTklUWSA9IC00O1xuZXhwb3J0IGNvbnN0IE5FR0FUSVZFX0lORklOSVRZID0gLTU7XG5leHBvcnQgY29uc3QgTkVHQVRJVkVfWkVSTyA9IC02O1xuIiwiaW1wb3J0IHtcblx0SE9MRSxcblx0TkFOLFxuXHRORUdBVElWRV9JTkZJTklUWSxcblx0TkVHQVRJVkVfWkVSTyxcblx0UE9TSVRJVkVfSU5GSU5JVFksXG5cdFVOREVGSU5FRFxufSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5cbi8qKlxuICogUmV2aXZlIGEgdmFsdWUgc2VyaWFsaXplZCB3aXRoIGBkZXZhbHVlLnN0cmluZ2lmeWBcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZXJpYWxpemVkXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsICh2YWx1ZTogYW55KSA9PiBhbnk+fSBbcmV2aXZlcnNdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZShzZXJpYWxpemVkLCByZXZpdmVycykge1xuXHRyZXR1cm4gdW5mbGF0dGVuKEpTT04ucGFyc2Uoc2VyaWFsaXplZCksIHJldml2ZXJzKTtcbn1cblxuLyoqXG4gKiBSZXZpdmUgYSB2YWx1ZSBmbGF0dGVuZWQgd2l0aCBgZGV2YWx1ZS5zdHJpbmdpZnlgXG4gKiBAcGFyYW0ge251bWJlciB8IGFueVtdfSBwYXJzZWRcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgKHZhbHVlOiBhbnkpID0+IGFueT59IFtyZXZpdmVyc11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuZmxhdHRlbihwYXJzZWQsIHJldml2ZXJzKSB7XG5cdGlmICh0eXBlb2YgcGFyc2VkID09PSAnbnVtYmVyJykgcmV0dXJuIGh5ZHJhdGUocGFyc2VkLCB0cnVlKTtcblxuXHRpZiAoIUFycmF5LmlzQXJyYXkocGFyc2VkKSB8fCBwYXJzZWQubGVuZ3RoID09PSAwKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGlucHV0Jyk7XG5cdH1cblxuXHRjb25zdCB2YWx1ZXMgPSAvKiogQHR5cGUge2FueVtdfSAqLyAocGFyc2VkKTtcblxuXHRjb25zdCBoeWRyYXRlZCA9IEFycmF5KHZhbHVlcy5sZW5ndGgpO1xuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcblx0ICogQHJldHVybnMge2FueX1cblx0ICovXG5cdGZ1bmN0aW9uIGh5ZHJhdGUoaW5kZXgsIHN0YW5kYWxvbmUgPSBmYWxzZSkge1xuXHRcdGlmIChpbmRleCA9PT0gVU5ERUZJTkVEKSByZXR1cm4gdW5kZWZpbmVkO1xuXHRcdGlmIChpbmRleCA9PT0gTkFOKSByZXR1cm4gTmFOO1xuXHRcdGlmIChpbmRleCA9PT0gUE9TSVRJVkVfSU5GSU5JVFkpIHJldHVybiBJbmZpbml0eTtcblx0XHRpZiAoaW5kZXggPT09IE5FR0FUSVZFX0lORklOSVRZKSByZXR1cm4gLUluZmluaXR5O1xuXHRcdGlmIChpbmRleCA9PT0gTkVHQVRJVkVfWkVSTykgcmV0dXJuIC0wO1xuXG5cdFx0aWYgKHN0YW5kYWxvbmUpIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBpbnB1dGApO1xuXG5cdFx0aWYgKGluZGV4IGluIGh5ZHJhdGVkKSByZXR1cm4gaHlkcmF0ZWRbaW5kZXhdO1xuXG5cdFx0Y29uc3QgdmFsdWUgPSB2YWx1ZXNbaW5kZXhdO1xuXG5cdFx0aWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnKSB7XG5cdFx0XHRoeWRyYXRlZFtpbmRleF0gPSB2YWx1ZTtcblx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHRpZiAodHlwZW9mIHZhbHVlWzBdID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRjb25zdCB0eXBlID0gdmFsdWVbMF07XG5cblx0XHRcdFx0Y29uc3QgcmV2aXZlciA9IHJldml2ZXJzPy5bdHlwZV07XG5cdFx0XHRcdGlmIChyZXZpdmVyKSB7XG5cdFx0XHRcdFx0cmV0dXJuIChoeWRyYXRlZFtpbmRleF0gPSByZXZpdmVyKGh5ZHJhdGUodmFsdWVbMV0pKSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdFx0XHRjYXNlICdEYXRlJzpcblx0XHRcdFx0XHRcdGh5ZHJhdGVkW2luZGV4XSA9IG5ldyBEYXRlKHZhbHVlWzFdKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSAnU2V0Jzpcblx0XHRcdFx0XHRcdGNvbnN0IHNldCA9IG5ldyBTZXQoKTtcblx0XHRcdFx0XHRcdGh5ZHJhdGVkW2luZGV4XSA9IHNldDtcblx0XHRcdFx0XHRcdGZvciAobGV0IGkgPSAxOyBpIDwgdmFsdWUubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0XHRcdFx0c2V0LmFkZChoeWRyYXRlKHZhbHVlW2ldKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGNhc2UgJ01hcCc6XG5cdFx0XHRcdFx0XHRjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG5cdFx0XHRcdFx0XHRoeWRyYXRlZFtpbmRleF0gPSBtYXA7XG5cdFx0XHRcdFx0XHRmb3IgKGxldCBpID0gMTsgaSA8IHZhbHVlLmxlbmd0aDsgaSArPSAyKSB7XG5cdFx0XHRcdFx0XHRcdG1hcC5zZXQoaHlkcmF0ZSh2YWx1ZVtpXSksIGh5ZHJhdGUodmFsdWVbaSArIDFdKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGNhc2UgJ1JlZ0V4cCc6XG5cdFx0XHRcdFx0XHRoeWRyYXRlZFtpbmRleF0gPSBuZXcgUmVnRXhwKHZhbHVlWzFdLCB2YWx1ZVsyXSk7XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGNhc2UgJ09iamVjdCc6XG5cdFx0XHRcdFx0XHRoeWRyYXRlZFtpbmRleF0gPSBPYmplY3QodmFsdWVbMV0pO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlICdCaWdJbnQnOlxuXHRcdFx0XHRcdFx0aHlkcmF0ZWRbaW5kZXhdID0gQmlnSW50KHZhbHVlWzFdKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSAnbnVsbCc6XG5cdFx0XHRcdFx0XHRjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHRcdFx0XHRcdFx0aHlkcmF0ZWRbaW5kZXhdID0gb2JqO1xuXHRcdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDE7IGkgPCB2YWx1ZS5sZW5ndGg7IGkgKz0gMikge1xuXHRcdFx0XHRcdFx0XHRvYmpbdmFsdWVbaV1dID0gaHlkcmF0ZSh2YWx1ZVtpICsgMV0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHR5cGUgJHt0eXBlfWApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBhcnJheSA9IG5ldyBBcnJheSh2YWx1ZS5sZW5ndGgpO1xuXHRcdFx0XHRoeWRyYXRlZFtpbmRleF0gPSBhcnJheTtcblxuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0Y29uc3QgbiA9IHZhbHVlW2ldO1xuXHRcdFx0XHRcdGlmIChuID09PSBIT0xFKSBjb250aW51ZTtcblxuXHRcdFx0XHRcdGFycmF5W2ldID0gaHlkcmF0ZShuKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIGFueT59ICovXG5cdFx0XHRjb25zdCBvYmplY3QgPSB7fTtcblx0XHRcdGh5ZHJhdGVkW2luZGV4XSA9IG9iamVjdDtcblxuXHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gdmFsdWUpIHtcblx0XHRcdFx0Y29uc3QgbiA9IHZhbHVlW2tleV07XG5cdFx0XHRcdG9iamVjdFtrZXldID0gaHlkcmF0ZShuKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gaHlkcmF0ZWRbaW5kZXhdO1xuXHR9XG5cblx0cmV0dXJuIGh5ZHJhdGUoMCk7XG59XG4iLCIvKipcbiAqIEBwYXJhbSB7U2V0PHN0cmluZz59IGV4cGVjdGVkXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRvcihleHBlY3RlZCkge1xuXHQvKipcblx0ICogQHBhcmFtIHthbnl9IG1vZHVsZVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gW2ZpbGVdXG5cdCAqL1xuXHRmdW5jdGlvbiB2YWxpZGF0ZShtb2R1bGUsIGZpbGUpIHtcblx0XHRpZiAoIW1vZHVsZSkgcmV0dXJuO1xuXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gbW9kdWxlKSB7XG5cdFx0XHRpZiAoa2V5WzBdID09PSAnXycgfHwgZXhwZWN0ZWQuaGFzKGtleSkpIGNvbnRpbnVlOyAvLyBrZXkgaXMgdmFsaWQgaW4gdGhpcyBtb2R1bGVcblxuXHRcdFx0Y29uc3QgdmFsdWVzID0gWy4uLmV4cGVjdGVkLnZhbHVlcygpXTtcblxuXHRcdFx0Y29uc3QgaGludCA9XG5cdFx0XHRcdGhpbnRfZm9yX3N1cHBvcnRlZF9maWxlcyhrZXksIGZpbGU/LnNsaWNlKGZpbGUubGFzdEluZGV4T2YoJy4nKSkpID8/XG5cdFx0XHRcdGB2YWxpZCBleHBvcnRzIGFyZSAke3ZhbHVlcy5qb2luKCcsICcpfSwgb3IgYW55dGhpbmcgd2l0aCBhICdfJyBwcmVmaXhgO1xuXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZXhwb3J0ICcke2tleX0nJHtmaWxlID8gYCBpbiAke2ZpbGV9YCA6ICcnfSAoJHtoaW50fSlgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdmFsaWRhdGU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHBhcmFtIHtzdHJpbmd9IGV4dFxuICogQHJldHVybnMge3N0cmluZyB8IHZvaWR9XG4gKi9cbmZ1bmN0aW9uIGhpbnRfZm9yX3N1cHBvcnRlZF9maWxlcyhrZXksIGV4dCA9ICcuanMnKSB7XG5cdGNvbnN0IHN1cHBvcnRlZF9maWxlcyA9IFtdO1xuXG5cdGlmICh2YWxpZF9sYXlvdXRfZXhwb3J0cy5oYXMoa2V5KSkge1xuXHRcdHN1cHBvcnRlZF9maWxlcy5wdXNoKGArbGF5b3V0JHtleHR9YCk7XG5cdH1cblxuXHRpZiAodmFsaWRfcGFnZV9leHBvcnRzLmhhcyhrZXkpKSB7XG5cdFx0c3VwcG9ydGVkX2ZpbGVzLnB1c2goYCtwYWdlJHtleHR9YCk7XG5cdH1cblxuXHRpZiAodmFsaWRfbGF5b3V0X3NlcnZlcl9leHBvcnRzLmhhcyhrZXkpKSB7XG5cdFx0c3VwcG9ydGVkX2ZpbGVzLnB1c2goYCtsYXlvdXQuc2VydmVyJHtleHR9YCk7XG5cdH1cblxuXHRpZiAodmFsaWRfcGFnZV9zZXJ2ZXJfZXhwb3J0cy5oYXMoa2V5KSkge1xuXHRcdHN1cHBvcnRlZF9maWxlcy5wdXNoKGArcGFnZS5zZXJ2ZXIke2V4dH1gKTtcblx0fVxuXG5cdGlmICh2YWxpZF9zZXJ2ZXJfZXhwb3J0cy5oYXMoa2V5KSkge1xuXHRcdHN1cHBvcnRlZF9maWxlcy5wdXNoKGArc2VydmVyJHtleHR9YCk7XG5cdH1cblxuXHRpZiAoc3VwcG9ydGVkX2ZpbGVzLmxlbmd0aCA+IDApIHtcblx0XHRyZXR1cm4gYCcke2tleX0nIGlzIGEgdmFsaWQgZXhwb3J0IGluICR7c3VwcG9ydGVkX2ZpbGVzLnNsaWNlKDAsIC0xKS5qb2luKCcsICcpfSR7XG5cdFx0XHRzdXBwb3J0ZWRfZmlsZXMubGVuZ3RoID4gMSA/ICcgb3IgJyA6ICcnXG5cdFx0fSR7c3VwcG9ydGVkX2ZpbGVzLmF0KC0xKX1gO1xuXHR9XG59XG5cbmNvbnN0IHZhbGlkX2xheW91dF9leHBvcnRzID0gbmV3IFNldChbXG5cdCdsb2FkJyxcblx0J3ByZXJlbmRlcicsXG5cdCdjc3InLFxuXHQnc3NyJyxcblx0J3RyYWlsaW5nU2xhc2gnLFxuXHQnY29uZmlnJ1xuXSk7XG5jb25zdCB2YWxpZF9wYWdlX2V4cG9ydHMgPSBuZXcgU2V0KFsuLi52YWxpZF9sYXlvdXRfZXhwb3J0cywgJ2VudHJpZXMnXSk7XG5jb25zdCB2YWxpZF9sYXlvdXRfc2VydmVyX2V4cG9ydHMgPSBuZXcgU2V0KFsuLi52YWxpZF9sYXlvdXRfZXhwb3J0c10pO1xuY29uc3QgdmFsaWRfcGFnZV9zZXJ2ZXJfZXhwb3J0cyA9IG5ldyBTZXQoWy4uLnZhbGlkX2xheW91dF9zZXJ2ZXJfZXhwb3J0cywgJ2FjdGlvbnMnLCAnZW50cmllcyddKTtcbmNvbnN0IHZhbGlkX3NlcnZlcl9leHBvcnRzID0gbmV3IFNldChbXG5cdCdHRVQnLFxuXHQnUE9TVCcsXG5cdCdQQVRDSCcsXG5cdCdQVVQnLFxuXHQnREVMRVRFJyxcblx0J09QVElPTlMnLFxuXHQnSEVBRCcsXG5cdCdmYWxsYmFjaycsXG5cdCdwcmVyZW5kZXInLFxuXHQndHJhaWxpbmdTbGFzaCcsXG5cdCdjb25maWcnLFxuXHQnZW50cmllcydcbl0pO1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVfbGF5b3V0X2V4cG9ydHMgPSB2YWxpZGF0b3IodmFsaWRfbGF5b3V0X2V4cG9ydHMpO1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlX3BhZ2VfZXhwb3J0cyA9IHZhbGlkYXRvcih2YWxpZF9wYWdlX2V4cG9ydHMpO1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlX2xheW91dF9zZXJ2ZXJfZXhwb3J0cyA9IHZhbGlkYXRvcih2YWxpZF9sYXlvdXRfc2VydmVyX2V4cG9ydHMpO1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlX3BhZ2Vfc2VydmVyX2V4cG9ydHMgPSB2YWxpZGF0b3IodmFsaWRfcGFnZV9zZXJ2ZXJfZXhwb3J0cyk7XG5leHBvcnQgY29uc3QgdmFsaWRhdGVfc2VydmVyX2V4cG9ydHMgPSB2YWxpZGF0b3IodmFsaWRfc2VydmVyX2V4cG9ydHMpO1xuIiwiLyoqXG4gKiBSZW1vdmVzIG51bGxpc2ggdmFsdWVzIGZyb20gYW4gYXJyYXkuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7QXJyYXk8VD59IGFyclxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcGFjdChhcnIpIHtcblx0cmV0dXJuIGFyci5maWx0ZXIoLyoqIEByZXR1cm5zIHt2YWwgaXMgTm9uTnVsbGFibGU8VD59ICovICh2YWwpID0+IHZhbCAhPSBudWxsKTtcbn1cbiIsImV4cG9ydCBjbGFzcyBIdHRwRXJyb3Ige1xuXHQvKipcblx0ICogQHBhcmFtIHtudW1iZXJ9IHN0YXR1c1xuXHQgKiBAcGFyYW0ge3ttZXNzYWdlOiBzdHJpbmd9IGV4dGVuZHMgQXBwLkVycm9yID8gKEFwcC5FcnJvciB8IHN0cmluZyB8IHVuZGVmaW5lZCkgOiBBcHAuRXJyb3J9IGJvZHlcblx0ICovXG5cdGNvbnN0cnVjdG9yKHN0YXR1cywgYm9keSkge1xuXHRcdHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuXHRcdGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdHRoaXMuYm9keSA9IHsgbWVzc2FnZTogYm9keSB9O1xuXHRcdH0gZWxzZSBpZiAoYm9keSkge1xuXHRcdFx0dGhpcy5ib2R5ID0gYm9keTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5ib2R5ID0geyBtZXNzYWdlOiBgRXJyb3I6ICR7c3RhdHVzfWAgfTtcblx0XHR9XG5cdH1cblxuXHR0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5ib2R5KTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgUmVkaXJlY3Qge1xuXHQvKipcblx0ICogQHBhcmFtIHszMDAgfCAzMDEgfCAzMDIgfCAzMDMgfCAzMDQgfCAzMDUgfCAzMDYgfCAzMDcgfCAzMDh9IHN0YXR1c1xuXHQgKiBAcGFyYW0ge3N0cmluZ30gbG9jYXRpb25cblx0ICovXG5cdGNvbnN0cnVjdG9yKHN0YXR1cywgbG9jYXRpb24pIHtcblx0XHR0aGlzLnN0YXR1cyA9IHN0YXR1cztcblx0XHR0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG5cdH1cbn1cblxuLyoqXG4gKiBBbiBlcnJvciB0aGF0IHdhcyB0aHJvd24gZnJvbSB3aXRoaW4gdGhlIFN2ZWx0ZUtpdCBydW50aW1lIHRoYXQgaXMgbm90IGZhdGFsIGFuZCBkb2Vzbid0IHJlc3VsdCBpbiBhIDUwMCwgc3VjaCBhcyBhIDQwNC5cbiAqIGBTdmVsdGVLaXRFcnJvcmAgZ29lcyB0aHJvdWdoIGBoYW5kbGVFcnJvcmAuXG4gKiBAZXh0ZW5kcyBFcnJvclxuICovXG5leHBvcnQgY2xhc3MgU3ZlbHRlS2l0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge251bWJlcn0gc3RhdHVzXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihzdGF0dXMsIHRleHQsIG1lc3NhZ2UpIHtcblx0XHRzdXBlcihtZXNzYWdlKTtcblx0XHR0aGlzLnN0YXR1cyA9IHN0YXR1cztcblx0XHR0aGlzLnRleHQgPSB0ZXh0O1xuXHR9XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IHVuZGVmaW5lZH0gW1Q9dW5kZWZpbmVkXVxuICovXG5leHBvcnQgY2xhc3MgQWN0aW9uRmFpbHVyZSB7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge251bWJlcn0gc3RhdHVzXG5cdCAqIEBwYXJhbSB7VH0gZGF0YVxuXHQgKi9cblx0Y29uc3RydWN0b3Ioc3RhdHVzLCBkYXRhKSB7XG5cdFx0dGhpcy5zdGF0dXMgPSBzdGF0dXM7XG5cdFx0dGhpcy5kYXRhID0gZGF0YTtcblx0fVxufVxuXG4vKipcbiAqIFRoaXMgaXMgYSBncm90ZXNxdWUgaGFjayB0aGF0LCBpbiBkZXYsIGFsbG93cyB1cyB0byByZXBsYWNlIHRoZSBpbXBsZW1lbnRhdGlvbnNcbiAqIG9mIHRoZXNlIGNsYXNzZXMgdGhhdCB5b3UnZCBnZXQgYnkgaW1wb3J0aW5nIHRoZW0gZnJvbSBgQHN2ZWx0ZWpzL2tpdGAgd2l0aCB0aGVcbiAqIG9uZXMgdGhhdCBhcmUgaW1wb3J0ZWQgdmlhIFZpdGUgYW5kIGxvYWRlZCBpbnRlcm5hbGx5LCBzbyB0aGF0IGluc3RhbmNlb2ZcbiAqIGNoZWNrcyB3b3JrIGV2ZW4gdGhvdWdoIFN2ZWx0ZUtpdCBpbXBvcnRzIHRoaXMgbW9kdWxlIHZpYSBWaXRlIGFuZCBjb25zdW1lcnNcbiAqIGltcG9ydCBpdCB2aWEgTm9kZVxuICogQHBhcmFtIHt7XG4gKiAgIEFjdGlvbkZhaWx1cmU6IHR5cGVvZiBBY3Rpb25GYWlsdXJlO1xuICogICBIdHRwRXJyb3I6IHR5cGVvZiBIdHRwRXJyb3I7XG4gKiAgIFJlZGlyZWN0OiB0eXBlb2YgUmVkaXJlY3Q7XG4gKiAgIFN2ZWx0ZUtpdEVycm9yOiB0eXBlb2YgU3ZlbHRlS2l0RXJyb3I7XG4gKiB9fSBpbXBsZW1lbnRhdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VfaW1wbGVtZW50YXRpb25zKGltcGxlbWVudGF0aW9ucykge1xuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdEFjdGlvbkZhaWx1cmUgPSBpbXBsZW1lbnRhdGlvbnMuQWN0aW9uRmFpbHVyZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jbGFzcy1hc3NpZ25cblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRIdHRwRXJyb3IgPSBpbXBsZW1lbnRhdGlvbnMuSHR0cEVycm9yOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNsYXNzLWFzc2lnblxuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFJlZGlyZWN0ID0gaW1wbGVtZW50YXRpb25zLlJlZGlyZWN0OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNsYXNzLWFzc2lnblxuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFN2ZWx0ZUtpdEVycm9yID0gaW1wbGVtZW50YXRpb25zLlN2ZWx0ZUtpdEVycm9yOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNsYXNzLWFzc2lnblxufVxuIiwiLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcm91dGVfaWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBkZXBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlX2RlcGVuZHMocm91dGVfaWQsIGRlcCkge1xuXHRjb25zdCBtYXRjaCA9IC9eKG1vei1pY29ufHZpZXctc291cmNlfGphcik6Ly5leGVjKGRlcCk7XG5cdGlmIChtYXRjaCkge1xuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdGAke3JvdXRlX2lkfTogQ2FsbGluZyBcXGBkZXBlbmRzKCcke2RlcH0nKVxcYCB3aWxsIHRocm93IGFuIGVycm9yIGluIEZpcmVmb3ggYmVjYXVzZSBcXGAke21hdGNoWzFdfVxcYCBpcyBhIHNwZWNpYWwgVVJJIHNjaGVtZWBcblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBjb25zdCBJTlZBTElEQVRFRF9QQVJBTSA9ICd4LXN2ZWx0ZWtpdC1pbnZhbGlkYXRlZCc7XG5cbmV4cG9ydCBjb25zdCBUUkFJTElOR19TTEFTSF9QQVJBTSA9ICd4LXN2ZWx0ZWtpdC10cmFpbGluZy1zbGFzaCc7XG4iLCJpbXBvcnQgeyBIdHRwRXJyb3IsIFN2ZWx0ZUtpdEVycm9yIH0gZnJvbSAnLi4vcnVudGltZS9jb250cm9sLmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge3Vua25vd259IGVyclxuICogQHJldHVybiB7RXJyb3J9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb2FsZXNjZV90b19lcnJvcihlcnIpIHtcblx0cmV0dXJuIGVyciBpbnN0YW5jZW9mIEVycm9yIHx8XG5cdFx0KGVyciAmJiAvKiogQHR5cGUge2FueX0gKi8gKGVycikubmFtZSAmJiAvKiogQHR5cGUge2FueX0gKi8gKGVycikubWVzc2FnZSlcblx0XHQ/IC8qKiBAdHlwZSB7RXJyb3J9ICovIChlcnIpXG5cdFx0OiBuZXcgRXJyb3IoSlNPTi5zdHJpbmdpZnkoZXJyKSk7XG59XG5cbi8qKlxuICogVGhpcyBpcyBhbiBpZGVudGl0eSBmdW5jdGlvbiB0aGF0IGV4aXN0cyB0byBtYWtlIFR5cGVTY3JpcHQgbGVzc1xuICogcGFyYW5vaWQgYWJvdXQgcGVvcGxlIHRocm93aW5nIHRoaW5ncyB0aGF0IGFyZW4ndCBlcnJvcnMsIHdoaWNoXG4gKiBmcmFua2x5IGlzIG5vdCBzb21ldGhpbmcgd2Ugc2hvdWxkIGNhcmUgYWJvdXRcbiAqIEBwYXJhbSB7dW5rbm93bn0gZXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZV9lcnJvcihlcnJvcikge1xuXHRyZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoJy4uL3J1bnRpbWUvY29udHJvbC5qcycpLlJlZGlyZWN0IHwgSHR0cEVycm9yIHwgU3ZlbHRlS2l0RXJyb3IgfCBFcnJvcn0gKi8gKFxuXHRcdGVycm9yXG5cdCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHt1bmtub3dufSBlcnJvclxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3N0YXR1cyhlcnJvcikge1xuXHRyZXR1cm4gZXJyb3IgaW5zdGFuY2VvZiBIdHRwRXJyb3IgfHwgZXJyb3IgaW5zdGFuY2VvZiBTdmVsdGVLaXRFcnJvciA/IGVycm9yLnN0YXR1cyA6IDUwMDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3Vua25vd259IGVycm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfbWVzc2FnZShlcnJvcikge1xuXHRyZXR1cm4gZXJyb3IgaW5zdGFuY2VvZiBTdmVsdGVLaXRFcnJvciA/IGVycm9yLnRleHQgOiAnSW50ZXJuYWwgRXJyb3InO1xufVxuIiwiaW1wb3J0IHsgQlJPV1NFUiwgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQgeyBvbk1vdW50LCB0aWNrIH0gZnJvbSAnc3ZlbHRlJztcbmltcG9ydCB7XG5cdGFkZF9kYXRhX3N1ZmZpeCxcblx0ZGVjb2RlX3BhcmFtcyxcblx0ZGVjb2RlX3BhdGhuYW1lLFxuXHRzdHJpcF9oYXNoLFxuXHRtYWtlX3RyYWNrYWJsZSxcblx0bm9ybWFsaXplX3BhdGhcbn0gZnJvbSAnLi4vLi4vdXRpbHMvdXJsLmpzJztcbmltcG9ydCB7XG5cdGluaXRpYWxfZmV0Y2gsXG5cdGxvY2tfZmV0Y2gsXG5cdG5hdGl2ZV9mZXRjaCxcblx0c3Vic2VxdWVudF9mZXRjaCxcblx0dW5sb2NrX2ZldGNoXG59IGZyb20gJy4vZmV0Y2hlci5qcyc7XG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gJy4vcGFyc2UuanMnO1xuaW1wb3J0ICogYXMgc3RvcmFnZSBmcm9tICcuL3Nlc3Npb24tc3RvcmFnZS5qcyc7XG5pbXBvcnQge1xuXHRmaW5kX2FuY2hvcixcblx0cmVzb2x2ZV91cmwsXG5cdGdldF9saW5rX2luZm8sXG5cdGdldF9yb3V0ZXJfb3B0aW9ucyxcblx0aXNfZXh0ZXJuYWxfdXJsLFxuXHRvcmlnaW4sXG5cdHNjcm9sbF9zdGF0ZSxcblx0bm90aWZpYWJsZV9zdG9yZSxcblx0Y3JlYXRlX3VwZGF0ZWRfc3RvcmVcbn0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgeyBiYXNlIH0gZnJvbSAnX19zdmVsdGVraXQvcGF0aHMnO1xuaW1wb3J0ICogYXMgZGV2YWx1ZSBmcm9tICdkZXZhbHVlJztcbmltcG9ydCB7XG5cdEhJU1RPUllfSU5ERVgsXG5cdE5BVklHQVRJT05fSU5ERVgsXG5cdFBSRUxPQURfUFJJT1JJVElFUyxcblx0U0NST0xMX0tFWSxcblx0U1RBVEVTX0tFWSxcblx0U05BUFNIT1RfS0VZLFxuXHRQQUdFX1VSTF9LRVlcbn0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgdmFsaWRhdGVfcGFnZV9leHBvcnRzIH0gZnJvbSAnLi4vLi4vdXRpbHMvZXhwb3J0cy5qcyc7XG5pbXBvcnQgeyBjb21wYWN0IH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgSHR0cEVycm9yLCBSZWRpcmVjdCwgU3ZlbHRlS2l0RXJyb3IgfSBmcm9tICcuLi9jb250cm9sLmpzJztcbmltcG9ydCB7IElOVkFMSURBVEVEX1BBUkFNLCBUUkFJTElOR19TTEFTSF9QQVJBTSwgdmFsaWRhdGVfZGVwZW5kcyB9IGZyb20gJy4uL3NoYXJlZC5qcyc7XG5pbXBvcnQgeyBnZXRfbWVzc2FnZSwgZ2V0X3N0YXR1cyB9IGZyb20gJy4uLy4uL3V0aWxzL2Vycm9yLmpzJztcbmltcG9ydCB7IHdyaXRhYmxlIH0gZnJvbSAnc3ZlbHRlL3N0b3JlJztcblxubGV0IGVycm9yZWQgPSBmYWxzZTtcblxuLy8gV2UgdHJhY2sgdGhlIHNjcm9sbCBwb3NpdGlvbiBhc3NvY2lhdGVkIHdpdGggZWFjaCBoaXN0b3J5IGVudHJ5IGluIHNlc3Npb25TdG9yYWdlLFxuLy8gcmF0aGVyIHRoYW4gb24gaGlzdG9yeS5zdGF0ZSBpdHNlbGYsIGJlY2F1c2Ugd2hlbiBuYXZpZ2F0aW9uIGlzIGRyaXZlbiBieVxuLy8gcG9wc3RhdGUgaXQncyB0b28gbGF0ZSB0byB1cGRhdGUgdGhlIHNjcm9sbCBwb3NpdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhlXG4vLyBzdGF0ZSB3ZSdyZSBuYXZpZ2F0aW5nIGZyb21cbi8qKlxuICogaGlzdG9yeSBpbmRleCAtPiB7IHgsIHkgfVxuICogQHR5cGUge1JlY29yZDxudW1iZXIsIHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfT59XG4gKi9cbmNvbnN0IHNjcm9sbF9wb3NpdGlvbnMgPSBzdG9yYWdlLmdldChTQ1JPTExfS0VZKSA/PyB7fTtcblxuLyoqXG4gKiBuYXZpZ2F0aW9uIGluZGV4IC0+IGFueVxuICogQHR5cGUge1JlY29yZDxzdHJpbmcsIGFueVtdPn1cbiAqL1xuY29uc3Qgc25hcHNob3RzID0gc3RvcmFnZS5nZXQoU05BUFNIT1RfS0VZKSA/PyB7fTtcblxuaWYgKERFViAmJiBCUk9XU0VSKSB7XG5cdGxldCB3YXJuZWQgPSBmYWxzZTtcblxuXHRjb25zdCBjdXJyZW50X21vZHVsZV91cmwgPSBpbXBvcnQubWV0YS51cmwuc3BsaXQoJz8nKVswXTsgLy8gcmVtb3ZlIHF1ZXJ5IHBhcmFtcyB0aGF0IHZpdGUgYWRkcyB0byB0aGUgVVJMIHdoZW4gaXQgaXMgbG9hZGVkIGZyb20gbm9kZV9tb2R1bGVzXG5cblx0Y29uc3Qgd2FybiA9ICgpID0+IHtcblx0XHRpZiAod2FybmVkKSByZXR1cm47XG5cblx0XHQvLyBSYXRoZXIgdGhhbiBzYXZpbmcgYSBwb2ludGVyIHRvIHRoZSBvcmlnaW5hbCBoaXN0b3J5IG1ldGhvZHMsIHdoaWNoIHdvdWxkIHByZXZlbnQgbW9ua2V5cGF0Y2hpbmcgYnkgb3RoZXIgbGlicyxcblx0XHQvLyBpbnNwZWN0IHRoZSBzdGFjayB0cmFjZSB0byBzZWUgaWYgd2UncmUgYmVpbmcgY2FsbGVkIGZyb20gd2l0aGluIFN2ZWx0ZUtpdC5cblx0XHRsZXQgc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaz8uc3BsaXQoJ1xcbicpO1xuXHRcdGlmICghc3RhY2spIHJldHVybjtcblx0XHRpZiAoIXN0YWNrWzBdLmluY2x1ZGVzKCdodHRwczonKSAmJiAhc3RhY2tbMF0uaW5jbHVkZXMoJ2h0dHA6JykpIHN0YWNrID0gc3RhY2suc2xpY2UoMSk7IC8vIENocm9tZSBpbmNsdWRlcyB0aGUgZXJyb3IgbWVzc2FnZSBpbiB0aGUgc3RhY2tcblx0XHRzdGFjayA9IHN0YWNrLnNsaWNlKDIpOyAvLyByZW1vdmUgYHdhcm5gIGFuZCB0aGUgcGxhY2Ugd2hlcmUgYHdhcm5gIHdhcyBjYWxsZWRcblx0XHQvLyBDYW4gYmUgZmFsc3kgaWYgd2FzIGNhbGxlZCBkaXJlY3RseSBmcm9tIGFuIGFub255bW91cyBmdW5jdGlvblxuXHRcdGlmIChzdGFja1swXT8uaW5jbHVkZXMoY3VycmVudF9tb2R1bGVfdXJsKSkgcmV0dXJuO1xuXG5cdFx0d2FybmVkID0gdHJ1ZTtcblxuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFwiQXZvaWQgdXNpbmcgYGhpc3RvcnkucHVzaFN0YXRlKC4uLilgIGFuZCBgaGlzdG9yeS5yZXBsYWNlU3RhdGUoLi4uKWAgYXMgdGhlc2Ugd2lsbCBjb25mbGljdCB3aXRoIFN2ZWx0ZUtpdCdzIHJvdXRlci4gVXNlIHRoZSBgcHVzaFN0YXRlYCBhbmQgYHJlcGxhY2VTdGF0ZWAgaW1wb3J0cyBmcm9tIGAkYXBwL25hdmlnYXRpb25gIGluc3RlYWQuXCJcblx0XHQpO1xuXHR9O1xuXG5cdGNvbnN0IHB1c2hfc3RhdGUgPSBoaXN0b3J5LnB1c2hTdGF0ZTtcblx0aGlzdG9yeS5wdXNoU3RhdGUgPSAoLi4uYXJncykgPT4ge1xuXHRcdHdhcm4oKTtcblx0XHRyZXR1cm4gcHVzaF9zdGF0ZS5hcHBseShoaXN0b3J5LCBhcmdzKTtcblx0fTtcblxuXHRjb25zdCByZXBsYWNlX3N0YXRlID0gaGlzdG9yeS5yZXBsYWNlU3RhdGU7XG5cdGhpc3RvcnkucmVwbGFjZVN0YXRlID0gKC4uLmFyZ3MpID0+IHtcblx0XHR3YXJuKCk7XG5cdFx0cmV0dXJuIHJlcGxhY2Vfc3RhdGUuYXBwbHkoaGlzdG9yeSwgYXJncyk7XG5cdH07XG59XG5cbmV4cG9ydCBjb25zdCBzdG9yZXMgPSB7XG5cdHVybDogLyogQF9fUFVSRV9fICovIG5vdGlmaWFibGVfc3RvcmUoe30pLFxuXHRwYWdlOiAvKiBAX19QVVJFX18gKi8gbm90aWZpYWJsZV9zdG9yZSh7fSksXG5cdG5hdmlnYXRpbmc6IC8qIEBfX1BVUkVfXyAqLyB3cml0YWJsZShcblx0XHQvKiogQHR5cGUge2ltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLk5hdmlnYXRpb24gfCBudWxsfSAqLyAobnVsbClcblx0KSxcblx0dXBkYXRlZDogLyogQF9fUFVSRV9fICovIGNyZWF0ZV91cGRhdGVkX3N0b3JlKClcbn07XG5cbi8qKiBAcGFyYW0ge251bWJlcn0gaW5kZXggKi9cbmZ1bmN0aW9uIHVwZGF0ZV9zY3JvbGxfcG9zaXRpb25zKGluZGV4KSB7XG5cdHNjcm9sbF9wb3NpdGlvbnNbaW5kZXhdID0gc2Nyb2xsX3N0YXRlKCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRfaGlzdG9yeV9pbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRfbmF2aWdhdGlvbl9pbmRleFxuICovXG5mdW5jdGlvbiBjbGVhcl9vbndhcmRfaGlzdG9yeShjdXJyZW50X2hpc3RvcnlfaW5kZXgsIGN1cnJlbnRfbmF2aWdhdGlvbl9pbmRleCkge1xuXHQvLyBpZiB3ZSBuYXZpZ2F0ZWQgYmFjaywgdGhlbiBwdXNoZWQgYSBuZXcgc3RhdGUsIHdlIGNhblxuXHQvLyByZWxlYXNlIG1lbW9yeSBieSBwcnVuaW5nIHRoZSBzY3JvbGwvc25hcHNob3QgbG9va3VwXG5cdGxldCBpID0gY3VycmVudF9oaXN0b3J5X2luZGV4ICsgMTtcblx0d2hpbGUgKHNjcm9sbF9wb3NpdGlvbnNbaV0pIHtcblx0XHRkZWxldGUgc2Nyb2xsX3Bvc2l0aW9uc1tpXTtcblx0XHRpICs9IDE7XG5cdH1cblxuXHRpID0gY3VycmVudF9uYXZpZ2F0aW9uX2luZGV4ICsgMTtcblx0d2hpbGUgKHNuYXBzaG90c1tpXSkge1xuXHRcdGRlbGV0ZSBzbmFwc2hvdHNbaV07XG5cdFx0aSArPSAxO1xuXHR9XG59XG5cbi8qKlxuICogTG9hZHMgYGhyZWZgIHRoZSBvbGQtZmFzaGlvbmVkIHdheSwgd2l0aCBhIGZ1bGwgcGFnZSByZWxvYWQuXG4gKiBSZXR1cm5zIGEgYFByb21pc2VgIHRoYXQgbmV2ZXIgcmVzb2x2ZXMgKHRvIHByZXZlbnQgYW55XG4gKiBzdWJzZXF1ZW50IHdvcmssIGUuZy4gaGlzdG9yeSBtYW5pcHVsYXRpb24sIGZyb20gaGFwcGVuaW5nKVxuICogQHBhcmFtIHtVUkx9IHVybFxuICovXG5mdW5jdGlvbiBuYXRpdmVfbmF2aWdhdGlvbih1cmwpIHtcblx0bG9jYXRpb24uaHJlZiA9IHVybC5ocmVmO1xuXHRyZXR1cm4gbmV3IFByb21pc2UoKCkgPT4ge30pO1xufVxuXG5mdW5jdGlvbiBub29wKCkge31cblxuLyoqIEB0eXBlIHtpbXBvcnQoJ3R5cGVzJykuQ1NSUm91dGVbXX0gKi9cbmxldCByb3V0ZXM7XG4vKiogQHR5cGUge2ltcG9ydCgndHlwZXMnKS5DU1JQYWdlTm9kZUxvYWRlcn0gKi9cbmxldCBkZWZhdWx0X2xheW91dF9sb2FkZXI7XG4vKiogQHR5cGUge2ltcG9ydCgndHlwZXMnKS5DU1JQYWdlTm9kZUxvYWRlcn0gKi9cbmxldCBkZWZhdWx0X2Vycm9yX2xvYWRlcjtcbi8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovXG5sZXQgY29udGFpbmVyO1xuLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi9cbmxldCB0YXJnZXQ7XG4vKiogQHR5cGUge2ltcG9ydCgnLi90eXBlcy5qcycpLlN2ZWx0ZUtpdEFwcH0gKi9cbmxldCBhcHA7XG5cbi8qKiBAdHlwZSB7QXJyYXk8KCh1cmw6IFVSTCkgPT4gYm9vbGVhbik+fSAqL1xuY29uc3QgaW52YWxpZGF0ZWQgPSBbXTtcblxuLyoqXG4gKiBBbiBhcnJheSBvZiB0aGUgYCtsYXlvdXQuc3ZlbHRlYCBhbmQgYCtwYWdlLnN2ZWx0ZWAgY29tcG9uZW50IGluc3RhbmNlc1xuICogdGhhdCBjdXJyZW50bHkgbGl2ZSBvbiB0aGUgcGFnZSDigJQgdXNlZCBmb3IgY2FwdHVyaW5nIGFuZCByZXN0b3Jpbmcgc25hcHNob3RzLlxuICogSXQncyB1cGRhdGVkL21hbmlwdWxhdGVkIHRocm91Z2ggYGJpbmQ6dGhpc2AgaW4gYFJvb3Quc3ZlbHRlYC5cbiAqIEB0eXBlIHtpbXBvcnQoJ3N2ZWx0ZScpLlN2ZWx0ZUNvbXBvbmVudFtdfVxuICovXG5jb25zdCBjb21wb25lbnRzID0gW107XG5cbi8qKiBAdHlwZSB7e2lkOiBzdHJpbmcsIHByb21pc2U6IFByb21pc2U8aW1wb3J0KCcuL3R5cGVzLmpzJykuTmF2aWdhdGlvblJlc3VsdD59IHwgbnVsbH0gKi9cbmxldCBsb2FkX2NhY2hlID0gbnVsbDtcblxuLyoqIEB0eXBlIHtBcnJheTwobmF2aWdhdGlvbjogaW1wb3J0KCdAc3ZlbHRlanMva2l0JykuQmVmb3JlTmF2aWdhdGUpID0+IHZvaWQ+fSAqL1xuY29uc3QgYmVmb3JlX25hdmlnYXRlX2NhbGxiYWNrcyA9IFtdO1xuXG4vKiogQHR5cGUge0FycmF5PChuYXZpZ2F0aW9uOiBpbXBvcnQoJ0BzdmVsdGVqcy9raXQnKS5Pbk5hdmlnYXRlKSA9PiBpbXBvcnQoJ3R5cGVzJykuTWF5YmVQcm9taXNlPCgoKSA9PiB2b2lkKSB8IHZvaWQ+Pn0gKi9cbmNvbnN0IG9uX25hdmlnYXRlX2NhbGxiYWNrcyA9IFtdO1xuXG4vKiogQHR5cGUge0FycmF5PChuYXZpZ2F0aW9uOiBpbXBvcnQoJ0BzdmVsdGVqcy9raXQnKS5BZnRlck5hdmlnYXRlKSA9PiB2b2lkPn0gKi9cbmxldCBhZnRlcl9uYXZpZ2F0ZV9jYWxsYmFja3MgPSBbXTtcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vdHlwZXMuanMnKS5OYXZpZ2F0aW9uU3RhdGV9ICovXG5sZXQgY3VycmVudCA9IHtcblx0YnJhbmNoOiBbXSxcblx0ZXJyb3I6IG51bGwsXG5cdC8vIEB0cy1pZ25vcmUgLSB3ZSBuZWVkIHRoZSBpbml0aWFsIHZhbHVlIHRvIGJlIG51bGxcblx0dXJsOiBudWxsXG59O1xuXG4vKiogdGhpcyBiZWluZyB0cnVlIG1lYW5zIHdlIFNTUidkICovXG5sZXQgaHlkcmF0ZWQgPSBmYWxzZTtcbmxldCBzdGFydGVkID0gZmFsc2U7XG5sZXQgYXV0b3Njcm9sbCA9IHRydWU7XG5sZXQgdXBkYXRpbmcgPSBmYWxzZTtcbmxldCBuYXZpZ2F0aW5nID0gZmFsc2U7XG5sZXQgaGFzaF9uYXZpZ2F0aW5nID0gZmFsc2U7XG4vKiogVHJ1ZSBhcyBzb29uIGFzIHRoZXJlIGhhcHBlbmVkIG9uZSBjbGllbnQtc2lkZSBuYXZpZ2F0aW9uIChleGNsdWRpbmcgdGhlIFN2ZWx0ZUtpdC1pbml0aWFsaXplZCBpbml0aWFsIG9uZSB3aGVuIGluIFNQQSBtb2RlKSAqL1xubGV0IGhhc19uYXZpZ2F0ZWQgPSBmYWxzZTtcblxubGV0IGZvcmNlX2ludmFsaWRhdGlvbiA9IGZhbHNlO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnc3ZlbHRlJykuU3ZlbHRlQ29tcG9uZW50fSAqL1xubGV0IHJvb3Q7XG5cbi8qKiBAdHlwZSB7bnVtYmVyfSBrZWVwaW5nIHRyYWNrIG9mIHRoZSBoaXN0b3J5IGluZGV4IGluIG9yZGVyIHRvIHByZXZlbnQgcG9wc3RhdGUgbmF2aWdhdGlvbiBldmVudHMgaWYgbmVlZGVkICovXG5sZXQgY3VycmVudF9oaXN0b3J5X2luZGV4O1xuXG4vKiogQHR5cGUge251bWJlcn0gKi9cbmxldCBjdXJyZW50X25hdmlnYXRpb25faW5kZXg7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCdAc3ZlbHRlanMva2l0JykuUGFnZX0gKi9cbmxldCBwYWdlO1xuXG4vKiogQHR5cGUge3t9fSAqL1xubGV0IHRva2VuO1xuXG4vKiogQHR5cGUge1Byb21pc2U8dm9pZD4gfCBudWxsfSAqL1xubGV0IHBlbmRpbmdfaW52YWxpZGF0ZTtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi90eXBlcy5qcycpLlN2ZWx0ZUtpdEFwcH0gX2FwcFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gX3RhcmdldFxuICogQHBhcmFtIHtQYXJhbWV0ZXJzPHR5cGVvZiBfaHlkcmF0ZT5bMV19IFtoeWRyYXRlXVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RhcnQoX2FwcCwgX3RhcmdldCwgaHlkcmF0ZSkge1xuXHRpZiAoREVWICYmIF90YXJnZXQgPT09IGRvY3VtZW50LmJvZHkpIHtcblx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHQnUGxhY2luZyAlc3ZlbHRla2l0LmJvZHklIGRpcmVjdGx5IGluc2lkZSA8Ym9keT4gaXMgbm90IHJlY29tbWVuZGVkLCBhcyB5b3VyIGFwcCBtYXkgYnJlYWsgZm9yIHVzZXJzIHdobyBoYXZlIGNlcnRhaW4gYnJvd3NlciBleHRlbnNpb25zIGluc3RhbGxlZC5cXG5cXG5Db25zaWRlciB3cmFwcGluZyBpdCBpbiBhbiBlbGVtZW50OlxcblxcbjxkaXYgc3R5bGU9XCJkaXNwbGF5OiBjb250ZW50c1wiPlxcbiAgJXN2ZWx0ZWtpdC5ib2R5JVxcbjwvZGl2Pidcblx0XHQpO1xuXHR9XG5cblx0Ly8gZGV0ZWN0IGJhc2ljIGF1dGggY3JlZGVudGlhbHMgaW4gdGhlIGN1cnJlbnQgVVJMXG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9raXQvcHVsbC8xMTE3OVxuXHQvLyBpZiBzbywgcmVmcmVzaCB0aGUgcGFnZSB3aXRob3V0IGNyZWRlbnRpYWxzXG5cdGlmIChkb2N1bWVudC5VUkwgIT09IGxvY2F0aW9uLmhyZWYpIHtcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1hc3NpZ25cblx0XHRsb2NhdGlvbi5ocmVmID0gbG9jYXRpb24uaHJlZjtcblx0fVxuXG5cdGFwcCA9IF9hcHA7XG5cdHJvdXRlcyA9IHBhcnNlKF9hcHApO1xuXHRjb250YWluZXIgPSBfX1NWRUxURUtJVF9FTUJFRERFRF9fID8gX3RhcmdldCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblx0dGFyZ2V0ID0gX3RhcmdldDtcblxuXHQvLyB3ZSBpbXBvcnQgdGhlIHJvb3QgbGF5b3V0L2Vycm9yIG5vZGVzIGVhZ2VybHksIHNvIHRoYXRcblx0Ly8gY29ubmVjdGl2aXR5IGVycm9ycyBhZnRlciBpbml0aWFsaXNhdGlvbiBkb24ndCBudWtlIHRoZSBhcHBcblx0ZGVmYXVsdF9sYXlvdXRfbG9hZGVyID0gX2FwcC5ub2Rlc1swXTtcblx0ZGVmYXVsdF9lcnJvcl9sb2FkZXIgPSBfYXBwLm5vZGVzWzFdO1xuXHRkZWZhdWx0X2xheW91dF9sb2FkZXIoKTtcblx0ZGVmYXVsdF9lcnJvcl9sb2FkZXIoKTtcblxuXHRjdXJyZW50X2hpc3RvcnlfaW5kZXggPSBoaXN0b3J5LnN0YXRlPy5bSElTVE9SWV9JTkRFWF07XG5cdGN1cnJlbnRfbmF2aWdhdGlvbl9pbmRleCA9IGhpc3Rvcnkuc3RhdGU/LltOQVZJR0FUSU9OX0lOREVYXTtcblxuXHRpZiAoIWN1cnJlbnRfaGlzdG9yeV9pbmRleCkge1xuXHRcdC8vIHdlIHVzZSBEYXRlLm5vdygpIGFzIGFuIG9mZnNldCBzbyB0aGF0IGNyb3NzLWRvY3VtZW50IG5hdmlnYXRpb25zXG5cdFx0Ly8gd2l0aGluIHRoZSBhcHAgZG9uJ3QgcmVzdWx0IGluIGRhdGEgbG9zc1xuXHRcdGN1cnJlbnRfaGlzdG9yeV9pbmRleCA9IGN1cnJlbnRfbmF2aWdhdGlvbl9pbmRleCA9IERhdGUubm93KCk7XG5cblx0XHQvLyBjcmVhdGUgaW5pdGlhbCBoaXN0b3J5IGVudHJ5LCBzbyB3ZSBjYW4gcmV0dXJuIGhlcmVcblx0XHRoaXN0b3J5LnJlcGxhY2VTdGF0ZShcblx0XHRcdHtcblx0XHRcdFx0Li4uaGlzdG9yeS5zdGF0ZSxcblx0XHRcdFx0W0hJU1RPUllfSU5ERVhdOiBjdXJyZW50X2hpc3RvcnlfaW5kZXgsXG5cdFx0XHRcdFtOQVZJR0FUSU9OX0lOREVYXTogY3VycmVudF9uYXZpZ2F0aW9uX2luZGV4XG5cdFx0XHR9LFxuXHRcdFx0Jydcblx0XHQpO1xuXHR9XG5cblx0Ly8gaWYgd2UgcmVsb2FkIHRoZSBwYWdlLCBvciBDbWQtU2hpZnQtVCBiYWNrIHRvIGl0LFxuXHQvLyByZWNvdmVyIHNjcm9sbCBwb3NpdGlvblxuXHRjb25zdCBzY3JvbGwgPSBzY3JvbGxfcG9zaXRpb25zW2N1cnJlbnRfaGlzdG9yeV9pbmRleF07XG5cdGlmIChzY3JvbGwpIHtcblx0XHRoaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uID0gJ21hbnVhbCc7XG5cdFx0c2Nyb2xsVG8oc2Nyb2xsLngsIHNjcm9sbC55KTtcblx0fVxuXG5cdGlmIChoeWRyYXRlKSB7XG5cdFx0YXdhaXQgX2h5ZHJhdGUodGFyZ2V0LCBoeWRyYXRlKTtcblx0fSBlbHNlIHtcblx0XHRnb3RvKGxvY2F0aW9uLmhyZWYsIHsgcmVwbGFjZVN0YXRlOiB0cnVlIH0pO1xuXHR9XG5cblx0X3N0YXJ0X3JvdXRlcigpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfaW52YWxpZGF0ZSgpIHtcblx0Ly8gQWNjZXB0IGFsbCBpbnZhbGlkYXRpb25zIGFzIHRoZXkgY29tZSwgZG9uJ3Qgc3dhbGxvdyBhbnkgd2hpbGUgYW5vdGhlciBpbnZhbGlkYXRpb25cblx0Ly8gaXMgcnVubmluZyBiZWNhdXNlIHN1YnNlcXVlbnQgaW52YWxpZGF0aW9ucyBtYXkgbWFrZSBlYXJsaWVyIG9uZXMgb3V0ZGF0ZWQsXG5cdC8vIGJ1dCBiYXRjaCBtdWx0aXBsZSBzeW5jaHJvbm91cyBpbnZhbGlkYXRpb25zLlxuXHRhd2FpdCAocGVuZGluZ19pbnZhbGlkYXRlIHx8PSBQcm9taXNlLnJlc29sdmUoKSk7XG5cdGlmICghcGVuZGluZ19pbnZhbGlkYXRlKSByZXR1cm47XG5cdHBlbmRpbmdfaW52YWxpZGF0ZSA9IG51bGw7XG5cblx0Y29uc3QgaW50ZW50ID0gZ2V0X25hdmlnYXRpb25faW50ZW50KGN1cnJlbnQudXJsLCB0cnVlKTtcblxuXHQvLyBDbGVhciBwcmVsb2FkLCBpdCBtaWdodCBiZSBhZmZlY3RlZCBieSB0aGUgaW52YWxpZGF0aW9uLlxuXHQvLyBBbHNvIHNvbHZlcyBhbiBlZGdlIGNhc2Ugd2hlcmUgYSBwcmVsb2FkIGlzIHRyaWdnZXJlZCwgdGhlIG5hdmlnYXRpb24gZm9yIGl0XG5cdC8vIHdhcyB0aGVuIHRyaWdnZXJlZCBhbmQgaXMgc3RpbGwgcnVubmluZyB3aGlsZSB0aGUgaW52YWxpZGF0aW9uIGtpY2tzIGluLFxuXHQvLyBhdCB3aGljaCBwb2ludCB0aGUgaW52YWxpZGF0aW9uIHNob3VsZCB0YWtlIG92ZXIgYW5kIFwid2luXCIuXG5cdGxvYWRfY2FjaGUgPSBudWxsO1xuXG5cdGNvbnN0IG5hdl90b2tlbiA9ICh0b2tlbiA9IHt9KTtcblx0Y29uc3QgbmF2aWdhdGlvbl9yZXN1bHQgPSBpbnRlbnQgJiYgKGF3YWl0IGxvYWRfcm91dGUoaW50ZW50KSk7XG5cdGlmICghbmF2aWdhdGlvbl9yZXN1bHQgfHwgbmF2X3Rva2VuICE9PSB0b2tlbikgcmV0dXJuO1xuXG5cdGlmIChuYXZpZ2F0aW9uX3Jlc3VsdC50eXBlID09PSAncmVkaXJlY3QnKSB7XG5cdFx0cmV0dXJuIF9nb3RvKG5ldyBVUkwobmF2aWdhdGlvbl9yZXN1bHQubG9jYXRpb24sIGN1cnJlbnQudXJsKS5ocmVmLCB7fSwgMSwgbmF2X3Rva2VuKTtcblx0fVxuXG5cdGlmIChuYXZpZ2F0aW9uX3Jlc3VsdC5wcm9wcy5wYWdlKSB7XG5cdFx0cGFnZSA9IG5hdmlnYXRpb25fcmVzdWx0LnByb3BzLnBhZ2U7XG5cdH1cblx0Y3VycmVudCA9IG5hdmlnYXRpb25fcmVzdWx0LnN0YXRlO1xuXHRyZXNldF9pbnZhbGlkYXRpb24oKTtcblx0cm9vdC4kc2V0KG5hdmlnYXRpb25fcmVzdWx0LnByb3BzKTtcbn1cblxuZnVuY3Rpb24gcmVzZXRfaW52YWxpZGF0aW9uKCkge1xuXHRpbnZhbGlkYXRlZC5sZW5ndGggPSAwO1xuXHRmb3JjZV9pbnZhbGlkYXRpb24gPSBmYWxzZTtcbn1cblxuLyoqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAqL1xuZnVuY3Rpb24gY2FwdHVyZV9zbmFwc2hvdChpbmRleCkge1xuXHRpZiAoY29tcG9uZW50cy5zb21lKChjKSA9PiBjPy5zbmFwc2hvdCkpIHtcblx0XHRzbmFwc2hvdHNbaW5kZXhdID0gY29tcG9uZW50cy5tYXAoKGMpID0+IGM/LnNuYXBzaG90Py5jYXB0dXJlKCkpO1xuXHR9XG59XG5cbi8qKiBAcGFyYW0ge251bWJlcn0gaW5kZXggKi9cbmZ1bmN0aW9uIHJlc3RvcmVfc25hcHNob3QoaW5kZXgpIHtcblx0c25hcHNob3RzW2luZGV4XT8uZm9yRWFjaCgodmFsdWUsIGkpID0+IHtcblx0XHRjb21wb25lbnRzW2ldPy5zbmFwc2hvdD8ucmVzdG9yZSh2YWx1ZSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBwZXJzaXN0X3N0YXRlKCkge1xuXHR1cGRhdGVfc2Nyb2xsX3Bvc2l0aW9ucyhjdXJyZW50X2hpc3RvcnlfaW5kZXgpO1xuXHRzdG9yYWdlLnNldChTQ1JPTExfS0VZLCBzY3JvbGxfcG9zaXRpb25zKTtcblxuXHRjYXB0dXJlX3NuYXBzaG90KGN1cnJlbnRfbmF2aWdhdGlvbl9pbmRleCk7XG5cdHN0b3JhZ2Uuc2V0KFNOQVBTSE9UX0tFWSwgc25hcHNob3RzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZyB8IFVSTH0gdXJsXG4gKiBAcGFyYW0ge3sgcmVwbGFjZVN0YXRlPzogYm9vbGVhbjsgbm9TY3JvbGw/OiBib29sZWFuOyBrZWVwRm9jdXM/OiBib29sZWFuOyBpbnZhbGlkYXRlQWxsPzogYm9vbGVhbjsgc3RhdGU/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+IH19IG9wdGlvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSByZWRpcmVjdF9jb3VudFxuICogQHBhcmFtIHt7fX0gW25hdl90b2tlbl1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gX2dvdG8odXJsLCBvcHRpb25zLCByZWRpcmVjdF9jb3VudCwgbmF2X3Rva2VuKSB7XG5cdHJldHVybiBuYXZpZ2F0ZSh7XG5cdFx0dHlwZTogJ2dvdG8nLFxuXHRcdHVybDogcmVzb2x2ZV91cmwodXJsKSxcblx0XHRrZWVwZm9jdXM6IG9wdGlvbnMua2VlcEZvY3VzLFxuXHRcdG5vc2Nyb2xsOiBvcHRpb25zLm5vU2Nyb2xsLFxuXHRcdHJlcGxhY2Vfc3RhdGU6IG9wdGlvbnMucmVwbGFjZVN0YXRlLFxuXHRcdHN0YXRlOiBvcHRpb25zLnN0YXRlLFxuXHRcdHJlZGlyZWN0X2NvdW50LFxuXHRcdG5hdl90b2tlbixcblx0XHRhY2NlcHQ6ICgpID0+IHtcblx0XHRcdGlmIChvcHRpb25zLmludmFsaWRhdGVBbGwpIHtcblx0XHRcdFx0Zm9yY2VfaW52YWxpZGF0aW9uID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xufVxuXG4vKiogQHBhcmFtIHtpbXBvcnQoJy4vdHlwZXMuanMnKS5OYXZpZ2F0aW9uSW50ZW50fSBpbnRlbnQgKi9cbmFzeW5jIGZ1bmN0aW9uIF9wcmVsb2FkX2RhdGEoaW50ZW50KSB7XG5cdGxvYWRfY2FjaGUgPSB7XG5cdFx0aWQ6IGludGVudC5pZCxcblx0XHRwcm9taXNlOiBsb2FkX3JvdXRlKGludGVudCkudGhlbigocmVzdWx0KSA9PiB7XG5cdFx0XHRpZiAocmVzdWx0LnR5cGUgPT09ICdsb2FkZWQnICYmIHJlc3VsdC5zdGF0ZS5lcnJvcikge1xuXHRcdFx0XHQvLyBEb24ndCBjYWNoZSBlcnJvcnMsIGJlY2F1c2UgdGhleSBtaWdodCBiZSB0cmFuc2llbnRcblx0XHRcdFx0bG9hZF9jYWNoZSA9IG51bGw7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH0pXG5cdH07XG5cblx0cmV0dXJuIGxvYWRfY2FjaGUucHJvbWlzZTtcbn1cblxuLyoqIEBwYXJhbSB7c3RyaW5nfSBwYXRobmFtZSAqL1xuYXN5bmMgZnVuY3Rpb24gX3ByZWxvYWRfY29kZShwYXRobmFtZSkge1xuXHRjb25zdCByb3V0ZSA9IHJvdXRlcy5maW5kKChyb3V0ZSkgPT4gcm91dGUuZXhlYyhnZXRfdXJsX3BhdGgocGF0aG5hbWUpKSk7XG5cblx0aWYgKHJvdXRlKSB7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwoWy4uLnJvdXRlLmxheW91dHMsIHJvdXRlLmxlYWZdLm1hcCgobG9hZCkgPT4gbG9hZD8uWzFdKCkpKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3R5cGVzLmpzJykuTmF2aWdhdGlvbkZpbmlzaGVkfSByZXN1bHRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldFxuICovXG5mdW5jdGlvbiBpbml0aWFsaXplKHJlc3VsdCwgdGFyZ2V0KSB7XG5cdGlmIChERVYgJiYgcmVzdWx0LnN0YXRlLmVycm9yICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3ZpdGUtZXJyb3Itb3ZlcmxheScpKSByZXR1cm47XG5cblx0Y3VycmVudCA9IHJlc3VsdC5zdGF0ZTtcblxuXHRjb25zdCBzdHlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlW2RhdGEtc3ZlbHRla2l0XScpO1xuXHRpZiAoc3R5bGUpIHN0eWxlLnJlbW92ZSgpO1xuXG5cdHBhZ2UgPSAvKiogQHR5cGUge2ltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLlBhZ2V9ICovIChyZXN1bHQucHJvcHMucGFnZSk7XG5cblx0cm9vdCA9IG5ldyBhcHAucm9vdCh7XG5cdFx0dGFyZ2V0LFxuXHRcdHByb3BzOiB7IC4uLnJlc3VsdC5wcm9wcywgc3RvcmVzLCBjb21wb25lbnRzIH0sXG5cdFx0aHlkcmF0ZTogdHJ1ZVxuXHR9KTtcblxuXHRyZXN0b3JlX3NuYXBzaG90KGN1cnJlbnRfbmF2aWdhdGlvbl9pbmRleCk7XG5cblx0LyoqIEB0eXBlIHtpbXBvcnQoJ0BzdmVsdGVqcy9raXQnKS5BZnRlck5hdmlnYXRlfSAqL1xuXHRjb25zdCBuYXZpZ2F0aW9uID0ge1xuXHRcdGZyb206IG51bGwsXG5cdFx0dG86IHtcblx0XHRcdHBhcmFtczogY3VycmVudC5wYXJhbXMsXG5cdFx0XHRyb3V0ZTogeyBpZDogY3VycmVudC5yb3V0ZT8uaWQgPz8gbnVsbCB9LFxuXHRcdFx0dXJsOiBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpXG5cdFx0fSxcblx0XHR3aWxsVW5sb2FkOiBmYWxzZSxcblx0XHR0eXBlOiAnZW50ZXInLFxuXHRcdGNvbXBsZXRlOiBQcm9taXNlLnJlc29sdmUoKVxuXHR9O1xuXG5cdGFmdGVyX25hdmlnYXRlX2NhbGxiYWNrcy5mb3JFYWNoKChmbikgPT4gZm4obmF2aWdhdGlvbikpO1xuXG5cdHN0YXJ0ZWQgPSB0cnVlO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3tcbiAqICAgdXJsOiBVUkw7XG4gKiAgIHBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAqICAgYnJhbmNoOiBBcnJheTxpbXBvcnQoJy4vdHlwZXMuanMnKS5CcmFuY2hOb2RlIHwgdW5kZWZpbmVkPjtcbiAqICAgc3RhdHVzOiBudW1iZXI7XG4gKiAgIGVycm9yOiBBcHAuRXJyb3IgfCBudWxsO1xuICogICByb3V0ZTogaW1wb3J0KCd0eXBlcycpLkNTUlJvdXRlIHwgbnVsbDtcbiAqICAgZm9ybT86IFJlY29yZDxzdHJpbmcsIGFueT4gfCBudWxsO1xuICogfX0gb3B0c1xuICovXG5hc3luYyBmdW5jdGlvbiBnZXRfbmF2aWdhdGlvbl9yZXN1bHRfZnJvbV9icmFuY2goe1xuXHR1cmwsXG5cdHBhcmFtcyxcblx0YnJhbmNoLFxuXHRzdGF0dXMsXG5cdGVycm9yLFxuXHRyb3V0ZSxcblx0Zm9ybVxufSkge1xuXHQvKiogQHR5cGUge2ltcG9ydCgndHlwZXMnKS5UcmFpbGluZ1NsYXNofSAqL1xuXHRsZXQgc2xhc2ggPSAnbmV2ZXInO1xuXG5cdC8vIGlmIGBwYXRocy5iYXNlID09PSAnL2EvYi9jYCwgdGhlbiB0aGUgcm9vdCByb3V0ZSBpcyBhbHdheXMgYC9hL2IvYy9gLCByZWdhcmRsZXNzIG9mXG5cdC8vIHRoZSBgdHJhaWxpbmdTbGFzaGAgcm91dGUgb3B0aW9uLCBzbyB0aGF0IHJlbGF0aXZlIHBhdGhzIHRvIEpTIGFuZCBDU1Mgd29ya1xuXHRpZiAoYmFzZSAmJiAodXJsLnBhdGhuYW1lID09PSBiYXNlIHx8IHVybC5wYXRobmFtZSA9PT0gYmFzZSArICcvJykpIHtcblx0XHRzbGFzaCA9ICdhbHdheXMnO1xuXHR9IGVsc2Uge1xuXHRcdGZvciAoY29uc3Qgbm9kZSBvZiBicmFuY2gpIHtcblx0XHRcdGlmIChub2RlPy5zbGFzaCAhPT0gdW5kZWZpbmVkKSBzbGFzaCA9IG5vZGUuc2xhc2g7XG5cdFx0fVxuXHR9XG5cblx0dXJsLnBhdGhuYW1lID0gbm9ybWFsaXplX3BhdGgodXJsLnBhdGhuYW1lLCBzbGFzaCk7XG5cblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cdHVybC5zZWFyY2ggPSB1cmwuc2VhcmNoOyAvLyB0dXJuIGAvP2AgaW50byBgL2BcblxuXHQvKiogQHR5cGUge2ltcG9ydCgnLi90eXBlcy5qcycpLk5hdmlnYXRpb25GaW5pc2hlZH0gKi9cblx0Y29uc3QgcmVzdWx0ID0ge1xuXHRcdHR5cGU6ICdsb2FkZWQnLFxuXHRcdHN0YXRlOiB7XG5cdFx0XHR1cmwsXG5cdFx0XHRwYXJhbXMsXG5cdFx0XHRicmFuY2gsXG5cdFx0XHRlcnJvcixcblx0XHRcdHJvdXRlXG5cdFx0fSxcblx0XHRwcm9wczoge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZSBTb21laG93IGl0J3MgZ2V0dGluZyBTdmVsdGVDb21wb25lbnQgYW5kIFN2ZWx0ZUNvbXBvbmVudERldiBtaXhlZCB1cFxuXHRcdFx0Y29uc3RydWN0b3JzOiBjb21wYWN0KGJyYW5jaCkubWFwKChicmFuY2hfbm9kZSkgPT4gYnJhbmNoX25vZGUubm9kZS5jb21wb25lbnQpLFxuXHRcdFx0cGFnZVxuXHRcdH1cblx0fTtcblxuXHRpZiAoZm9ybSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmVzdWx0LnByb3BzLmZvcm0gPSBmb3JtO1xuXHR9XG5cblx0bGV0IGRhdGEgPSB7fTtcblx0bGV0IGRhdGFfY2hhbmdlZCA9ICFwYWdlO1xuXG5cdGxldCBwID0gMDtcblxuXHRmb3IgKGxldCBpID0gMDsgaSA8IE1hdGgubWF4KGJyYW5jaC5sZW5ndGgsIGN1cnJlbnQuYnJhbmNoLmxlbmd0aCk7IGkgKz0gMSkge1xuXHRcdGNvbnN0IG5vZGUgPSBicmFuY2hbaV07XG5cdFx0Y29uc3QgcHJldiA9IGN1cnJlbnQuYnJhbmNoW2ldO1xuXG5cdFx0aWYgKG5vZGU/LmRhdGEgIT09IHByZXY/LmRhdGEpIGRhdGFfY2hhbmdlZCA9IHRydWU7XG5cdFx0aWYgKCFub2RlKSBjb250aW51ZTtcblxuXHRcdGRhdGEgPSB7IC4uLmRhdGEsIC4uLm5vZGUuZGF0YSB9O1xuXG5cdFx0Ly8gT25seSBzZXQgcHJvcHMgaWYgdGhlIG5vZGUgYWN0dWFsbHkgdXBkYXRlZC4gVGhpcyBwcmV2ZW50cyBuZWVkbGVzcyByZXJlbmRlcnMuXG5cdFx0aWYgKGRhdGFfY2hhbmdlZCkge1xuXHRcdFx0cmVzdWx0LnByb3BzW2BkYXRhXyR7cH1gXSA9IGRhdGE7XG5cdFx0fVxuXG5cdFx0cCArPSAxO1xuXHR9XG5cblx0Y29uc3QgcGFnZV9jaGFuZ2VkID1cblx0XHQhY3VycmVudC51cmwgfHxcblx0XHR1cmwuaHJlZiAhPT0gY3VycmVudC51cmwuaHJlZiB8fFxuXHRcdGN1cnJlbnQuZXJyb3IgIT09IGVycm9yIHx8XG5cdFx0KGZvcm0gIT09IHVuZGVmaW5lZCAmJiBmb3JtICE9PSBwYWdlLmZvcm0pIHx8XG5cdFx0ZGF0YV9jaGFuZ2VkO1xuXG5cdGlmIChwYWdlX2NoYW5nZWQpIHtcblx0XHRyZXN1bHQucHJvcHMucGFnZSA9IHtcblx0XHRcdGVycm9yLFxuXHRcdFx0cGFyYW1zLFxuXHRcdFx0cm91dGU6IHtcblx0XHRcdFx0aWQ6IHJvdXRlPy5pZCA/PyBudWxsXG5cdFx0XHR9LFxuXHRcdFx0c3RhdGU6IHt9LFxuXHRcdFx0c3RhdHVzLFxuXHRcdFx0dXJsOiBuZXcgVVJMKHVybCksXG5cdFx0XHRmb3JtOiBmb3JtID8/IG51bGwsXG5cdFx0XHQvLyBUaGUgd2hvbGUgcGFnZSBzdG9yZSBpcyB1cGRhdGVkLCBidXQgdGhpcyB3YXkgdGhlIG9iamVjdCByZWZlcmVuY2Ugc3RheXMgdGhlIHNhbWVcblx0XHRcdGRhdGE6IGRhdGFfY2hhbmdlZCA/IGRhdGEgOiBwYWdlLmRhdGFcblx0XHR9O1xuXHR9XG5cblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDYWxsIHRoZSBsb2FkIGZ1bmN0aW9uIG9mIHRoZSBnaXZlbiBub2RlLCBpZiBpdCBleGlzdHMuXG4gKiBJZiBgc2VydmVyX2RhdGFgIGlzIHBhc3NlZCwgdGhpcyBpcyB0cmVhdGVkIGFzIHRoZSBpbml0aWFsIHJ1biBhbmQgdGhlIHBhZ2UgZW5kcG9pbnQgaXMgbm90IHJlcXVlc3RlZC5cbiAqXG4gKiBAcGFyYW0ge3tcbiAqICAgbG9hZGVyOiBpbXBvcnQoJ3R5cGVzJykuQ1NSUGFnZU5vZGVMb2FkZXI7XG4gKiBcdCBwYXJlbnQ6ICgpID0+IFByb21pc2U8UmVjb3JkPHN0cmluZywgYW55Pj47XG4gKiAgIHVybDogVVJMO1xuICogICBwYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gKiAgIHJvdXRlOiB7IGlkOiBzdHJpbmcgfCBudWxsIH07XG4gKiBcdCBzZXJ2ZXJfZGF0YV9ub2RlOiBpbXBvcnQoJy4vdHlwZXMuanMnKS5EYXRhTm9kZSB8IG51bGw7XG4gKiB9fSBvcHRpb25zXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxpbXBvcnQoJy4vdHlwZXMuanMnKS5CcmFuY2hOb2RlPn1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gbG9hZF9ub2RlKHsgbG9hZGVyLCBwYXJlbnQsIHVybCwgcGFyYW1zLCByb3V0ZSwgc2VydmVyX2RhdGFfbm9kZSB9KSB7XG5cdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgYW55PiB8IG51bGx9ICovXG5cdGxldCBkYXRhID0gbnVsbDtcblxuXHRsZXQgaXNfdHJhY2tpbmcgPSB0cnVlO1xuXG5cdC8qKiBAdHlwZSB7aW1wb3J0KCd0eXBlcycpLlVzZXN9ICovXG5cdGNvbnN0IHVzZXMgPSB7XG5cdFx0ZGVwZW5kZW5jaWVzOiBuZXcgU2V0KCksXG5cdFx0cGFyYW1zOiBuZXcgU2V0KCksXG5cdFx0cGFyZW50OiBmYWxzZSxcblx0XHRyb3V0ZTogZmFsc2UsXG5cdFx0dXJsOiBmYWxzZSxcblx0XHRzZWFyY2hfcGFyYW1zOiBuZXcgU2V0KClcblx0fTtcblxuXHRjb25zdCBub2RlID0gYXdhaXQgbG9hZGVyKCk7XG5cblx0aWYgKERFVikge1xuXHRcdHZhbGlkYXRlX3BhZ2VfZXhwb3J0cyhub2RlLnVuaXZlcnNhbCk7XG5cdH1cblxuXHRpZiAobm9kZS51bml2ZXJzYWw/LmxvYWQpIHtcblx0XHQvKiogQHBhcmFtIHtzdHJpbmdbXX0gZGVwcyAqL1xuXHRcdGZ1bmN0aW9uIGRlcGVuZHMoLi4uZGVwcykge1xuXHRcdFx0Zm9yIChjb25zdCBkZXAgb2YgZGVwcykge1xuXHRcdFx0XHRpZiAoREVWKSB2YWxpZGF0ZV9kZXBlbmRzKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAocm91dGUuaWQpLCBkZXApO1xuXG5cdFx0XHRcdGNvbnN0IHsgaHJlZiB9ID0gbmV3IFVSTChkZXAsIHVybCk7XG5cdFx0XHRcdHVzZXMuZGVwZW5kZW5jaWVzLmFkZChocmVmKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKiogQHR5cGUge2ltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLkxvYWRFdmVudH0gKi9cblx0XHRjb25zdCBsb2FkX2lucHV0ID0ge1xuXHRcdFx0cm91dGU6IG5ldyBQcm94eShyb3V0ZSwge1xuXHRcdFx0XHRnZXQ6ICh0YXJnZXQsIGtleSkgPT4ge1xuXHRcdFx0XHRcdGlmIChpc190cmFja2luZykge1xuXHRcdFx0XHRcdFx0dXNlcy5yb3V0ZSA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0YXJnZXRbLyoqIEB0eXBlIHsnaWQnfSAqLyAoa2V5KV07XG5cdFx0XHRcdH1cblx0XHRcdH0pLFxuXHRcdFx0cGFyYW1zOiBuZXcgUHJveHkocGFyYW1zLCB7XG5cdFx0XHRcdGdldDogKHRhcmdldCwga2V5KSA9PiB7XG5cdFx0XHRcdFx0aWYgKGlzX3RyYWNraW5nKSB7XG5cdFx0XHRcdFx0XHR1c2VzLnBhcmFtcy5hZGQoLyoqIEB0eXBlIHtzdHJpbmd9ICovIChrZXkpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRhcmdldFsvKiogQHR5cGUge3N0cmluZ30gKi8gKGtleSldO1xuXHRcdFx0XHR9XG5cdFx0XHR9KSxcblx0XHRcdGRhdGE6IHNlcnZlcl9kYXRhX25vZGU/LmRhdGEgPz8gbnVsbCxcblx0XHRcdHVybDogbWFrZV90cmFja2FibGUoXG5cdFx0XHRcdHVybCxcblx0XHRcdFx0KCkgPT4ge1xuXHRcdFx0XHRcdGlmIChpc190cmFja2luZykge1xuXHRcdFx0XHRcdFx0dXNlcy51cmwgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0KHBhcmFtKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGlzX3RyYWNraW5nKSB7XG5cdFx0XHRcdFx0XHR1c2VzLnNlYXJjaF9wYXJhbXMuYWRkKHBhcmFtKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdCksXG5cdFx0XHRhc3luYyBmZXRjaChyZXNvdXJjZSwgaW5pdCkge1xuXHRcdFx0XHQvKiogQHR5cGUge1VSTCB8IHN0cmluZ30gKi9cblx0XHRcdFx0bGV0IHJlcXVlc3RlZDtcblxuXHRcdFx0XHRpZiAocmVzb3VyY2UgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG5cdFx0XHRcdFx0cmVxdWVzdGVkID0gcmVzb3VyY2UudXJsO1xuXG5cdFx0XHRcdFx0Ly8gd2UncmUgbm90IGFsbG93ZWQgdG8gbW9kaWZ5IHRoZSByZWNlaXZlZCBgUmVxdWVzdGAgb2JqZWN0LCBzbyBpbiBvcmRlclxuXHRcdFx0XHRcdC8vIHRvIGZpeHVwIHJlbGF0aXZlIHVybHMgd2UgY3JlYXRlIGEgbmV3IGVxdWl2YWxlbnQgYGluaXRgIG9iamVjdCBpbnN0ZWFkXG5cdFx0XHRcdFx0aW5pdCA9IHtcblx0XHRcdFx0XHRcdC8vIHRoZSByZXF1ZXN0IGJvZHkgbXVzdCBiZSBjb25zdW1lZCBpbiBtZW1vcnkgdW50aWwgYnJvd3NlcnNcblx0XHRcdFx0XHRcdC8vIGltcGxlbWVudCBzdHJlYW1pbmcgcmVxdWVzdCBib2RpZXMgYW5kL29yIHRoZSBib2R5IGdldHRlclxuXHRcdFx0XHRcdFx0Ym9keTpcblx0XHRcdFx0XHRcdFx0cmVzb3VyY2UubWV0aG9kID09PSAnR0VUJyB8fCByZXNvdXJjZS5tZXRob2QgPT09ICdIRUFEJ1xuXHRcdFx0XHRcdFx0XHRcdD8gdW5kZWZpbmVkXG5cdFx0XHRcdFx0XHRcdFx0OiBhd2FpdCByZXNvdXJjZS5ibG9iKCksXG5cdFx0XHRcdFx0XHRjYWNoZTogcmVzb3VyY2UuY2FjaGUsXG5cdFx0XHRcdFx0XHRjcmVkZW50aWFsczogcmVzb3VyY2UuY3JlZGVudGlhbHMsXG5cdFx0XHRcdFx0XHRoZWFkZXJzOiByZXNvdXJjZS5oZWFkZXJzLFxuXHRcdFx0XHRcdFx0aW50ZWdyaXR5OiByZXNvdXJjZS5pbnRlZ3JpdHksXG5cdFx0XHRcdFx0XHRrZWVwYWxpdmU6IHJlc291cmNlLmtlZXBhbGl2ZSxcblx0XHRcdFx0XHRcdG1ldGhvZDogcmVzb3VyY2UubWV0aG9kLFxuXHRcdFx0XHRcdFx0bW9kZTogcmVzb3VyY2UubW9kZSxcblx0XHRcdFx0XHRcdHJlZGlyZWN0OiByZXNvdXJjZS5yZWRpcmVjdCxcblx0XHRcdFx0XHRcdHJlZmVycmVyOiByZXNvdXJjZS5yZWZlcnJlcixcblx0XHRcdFx0XHRcdHJlZmVycmVyUG9saWN5OiByZXNvdXJjZS5yZWZlcnJlclBvbGljeSxcblx0XHRcdFx0XHRcdHNpZ25hbDogcmVzb3VyY2Uuc2lnbmFsLFxuXHRcdFx0XHRcdFx0Li4uaW5pdFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmVxdWVzdGVkID0gcmVzb3VyY2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyB3ZSBtdXN0IGZpeHVwIHJlbGF0aXZlIHVybHMgc28gdGhleSBhcmUgcmVzb2x2ZWQgZnJvbSB0aGUgdGFyZ2V0IHBhZ2Vcblx0XHRcdFx0Y29uc3QgcmVzb2x2ZWQgPSBuZXcgVVJMKHJlcXVlc3RlZCwgdXJsKTtcblx0XHRcdFx0aWYgKGlzX3RyYWNraW5nKSB7XG5cdFx0XHRcdFx0ZGVwZW5kcyhyZXNvbHZlZC5ocmVmKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIG1hdGNoIHNzciBzZXJpYWxpemVkIGRhdGEgdXJsLCB3aGljaCBpcyBpbXBvcnRhbnQgdG8gZmluZCBjYWNoZWQgcmVzcG9uc2VzXG5cdFx0XHRcdGlmIChyZXNvbHZlZC5vcmlnaW4gPT09IHVybC5vcmlnaW4pIHtcblx0XHRcdFx0XHRyZXF1ZXN0ZWQgPSByZXNvbHZlZC5ocmVmLnNsaWNlKHVybC5vcmlnaW4ubGVuZ3RoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHByZXJlbmRlcmVkIHBhZ2VzIG1heSBiZSBzZXJ2ZWQgZnJvbSBhbnkgb3JpZ2luLCBzbyBgaW5pdGlhbF9mZXRjaGAgdXJscyBzaG91bGRuJ3QgYmUgcmVzb2x2ZWRcblx0XHRcdFx0cmV0dXJuIHN0YXJ0ZWRcblx0XHRcdFx0XHQ/IHN1YnNlcXVlbnRfZmV0Y2gocmVxdWVzdGVkLCByZXNvbHZlZC5ocmVmLCBpbml0KVxuXHRcdFx0XHRcdDogaW5pdGlhbF9mZXRjaChyZXF1ZXN0ZWQsIGluaXQpO1xuXHRcdFx0fSxcblx0XHRcdHNldEhlYWRlcnM6ICgpID0+IHt9LCAvLyBub29wXG5cdFx0XHRkZXBlbmRzLFxuXHRcdFx0cGFyZW50KCkge1xuXHRcdFx0XHRpZiAoaXNfdHJhY2tpbmcpIHtcblx0XHRcdFx0XHR1c2VzLnBhcmVudCA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHBhcmVudCgpO1xuXHRcdFx0fSxcblx0XHRcdHVudHJhY2soZm4pIHtcblx0XHRcdFx0aXNfdHJhY2tpbmcgPSBmYWxzZTtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRyZXR1cm4gZm4oKTtcblx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRpc190cmFja2luZyA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0aWYgKERFVikge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0bG9ja19mZXRjaCgpO1xuXHRcdFx0XHRkYXRhID0gKGF3YWl0IG5vZGUudW5pdmVyc2FsLmxvYWQuY2FsbChudWxsLCBsb2FkX2lucHV0KSkgPz8gbnVsbDtcblx0XHRcdFx0aWYgKGRhdGEgIT0gbnVsbCAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRgYSBsb2FkIGZ1bmN0aW9uIHJlbGF0ZWQgdG8gcm91dGUgJyR7cm91dGUuaWR9JyByZXR1cm5lZCAke1xuXHRcdFx0XHRcdFx0XHR0eXBlb2YgZGF0YSAhPT0gJ29iamVjdCdcblx0XHRcdFx0XHRcdFx0XHQ/IGBhICR7dHlwZW9mIGRhdGF9YFxuXHRcdFx0XHRcdFx0XHRcdDogZGF0YSBpbnN0YW5jZW9mIFJlc3BvbnNlXG5cdFx0XHRcdFx0XHRcdFx0XHQ/ICdhIFJlc3BvbnNlIG9iamVjdCdcblx0XHRcdFx0XHRcdFx0XHRcdDogQXJyYXkuaXNBcnJheShkYXRhKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ/ICdhbiBhcnJheSdcblx0XHRcdFx0XHRcdFx0XHRcdFx0OiAnYSBub24tcGxhaW4gb2JqZWN0J1xuXHRcdFx0XHRcdFx0fSwgYnV0IG11c3QgcmV0dXJuIGEgcGxhaW4gb2JqZWN0IGF0IHRoZSB0b3AgbGV2ZWwgKGkuZS4gXFxgcmV0dXJuIHsuLi59XFxgKWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHR1bmxvY2tfZmV0Y2goKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGF0YSA9IChhd2FpdCBub2RlLnVuaXZlcnNhbC5sb2FkLmNhbGwobnVsbCwgbG9hZF9pbnB1dCkpID8/IG51bGw7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRub2RlLFxuXHRcdGxvYWRlcixcblx0XHRzZXJ2ZXI6IHNlcnZlcl9kYXRhX25vZGUsXG5cdFx0dW5pdmVyc2FsOiBub2RlLnVuaXZlcnNhbD8ubG9hZCA/IHsgdHlwZTogJ2RhdGEnLCBkYXRhLCB1c2VzIH0gOiBudWxsLFxuXHRcdGRhdGE6IGRhdGEgPz8gc2VydmVyX2RhdGFfbm9kZT8uZGF0YSA/PyBudWxsLFxuXHRcdHNsYXNoOiBub2RlLnVuaXZlcnNhbD8udHJhaWxpbmdTbGFzaCA/PyBzZXJ2ZXJfZGF0YV9ub2RlPy5zbGFzaFxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyZW50X2NoYW5nZWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcm91dGVfY2hhbmdlZFxuICogQHBhcmFtIHtib29sZWFufSB1cmxfY2hhbmdlZFxuICogQHBhcmFtIHtTZXQ8c3RyaW5nPn0gc2VhcmNoX3BhcmFtc19jaGFuZ2VkXG4gKiBAcGFyYW0ge2ltcG9ydCgndHlwZXMnKS5Vc2VzIHwgdW5kZWZpbmVkfSB1c2VzXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIHN0cmluZz59IHBhcmFtc1xuICovXG5mdW5jdGlvbiBoYXNfY2hhbmdlZChcblx0cGFyZW50X2NoYW5nZWQsXG5cdHJvdXRlX2NoYW5nZWQsXG5cdHVybF9jaGFuZ2VkLFxuXHRzZWFyY2hfcGFyYW1zX2NoYW5nZWQsXG5cdHVzZXMsXG5cdHBhcmFtc1xuKSB7XG5cdGlmIChmb3JjZV9pbnZhbGlkYXRpb24pIHJldHVybiB0cnVlO1xuXG5cdGlmICghdXNlcykgcmV0dXJuIGZhbHNlO1xuXG5cdGlmICh1c2VzLnBhcmVudCAmJiBwYXJlbnRfY2hhbmdlZCkgcmV0dXJuIHRydWU7XG5cdGlmICh1c2VzLnJvdXRlICYmIHJvdXRlX2NoYW5nZWQpIHJldHVybiB0cnVlO1xuXHRpZiAodXNlcy51cmwgJiYgdXJsX2NoYW5nZWQpIHJldHVybiB0cnVlO1xuXG5cdGZvciAoY29uc3QgdHJhY2tlZF9wYXJhbXMgb2YgdXNlcy5zZWFyY2hfcGFyYW1zKSB7XG5cdFx0aWYgKHNlYXJjaF9wYXJhbXNfY2hhbmdlZC5oYXModHJhY2tlZF9wYXJhbXMpKSByZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGZvciAoY29uc3QgcGFyYW0gb2YgdXNlcy5wYXJhbXMpIHtcblx0XHRpZiAocGFyYW1zW3BhcmFtXSAhPT0gY3VycmVudC5wYXJhbXNbcGFyYW1dKSByZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGZvciAoY29uc3QgaHJlZiBvZiB1c2VzLmRlcGVuZGVuY2llcykge1xuXHRcdGlmIChpbnZhbGlkYXRlZC5zb21lKChmbikgPT4gZm4obmV3IFVSTChocmVmKSkpKSByZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgndHlwZXMnKS5TZXJ2ZXJEYXRhTm9kZSB8IGltcG9ydCgndHlwZXMnKS5TZXJ2ZXJEYXRhU2tpcHBlZE5vZGUgfCBudWxsfSBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi90eXBlcy5qcycpLkRhdGFOb2RlIHwgbnVsbH0gW3ByZXZpb3VzXVxuICogQHJldHVybnMge2ltcG9ydCgnLi90eXBlcy5qcycpLkRhdGFOb2RlIHwgbnVsbH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlX2RhdGFfbm9kZShub2RlLCBwcmV2aW91cykge1xuXHRpZiAobm9kZT8udHlwZSA9PT0gJ2RhdGEnKSByZXR1cm4gbm9kZTtcblx0aWYgKG5vZGU/LnR5cGUgPT09ICdza2lwJykgcmV0dXJuIHByZXZpb3VzID8/IG51bGw7XG5cdHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge1VSTCB8IG51bGx9IG9sZF91cmxcbiAqIEBwYXJhbSB7VVJMfSBuZXdfdXJsXG4gKi9cbmZ1bmN0aW9uIGRpZmZfc2VhcmNoX3BhcmFtcyhvbGRfdXJsLCBuZXdfdXJsKSB7XG5cdGlmICghb2xkX3VybCkgcmV0dXJuIG5ldyBTZXQobmV3X3VybC5zZWFyY2hQYXJhbXMua2V5cygpKTtcblxuXHRjb25zdCBjaGFuZ2VkID0gbmV3IFNldChbLi4ub2xkX3VybC5zZWFyY2hQYXJhbXMua2V5cygpLCAuLi5uZXdfdXJsLnNlYXJjaFBhcmFtcy5rZXlzKCldKTtcblxuXHRmb3IgKGNvbnN0IGtleSBvZiBjaGFuZ2VkKSB7XG5cdFx0Y29uc3Qgb2xkX3ZhbHVlcyA9IG9sZF91cmwuc2VhcmNoUGFyYW1zLmdldEFsbChrZXkpO1xuXHRcdGNvbnN0IG5ld192YWx1ZXMgPSBuZXdfdXJsLnNlYXJjaFBhcmFtcy5nZXRBbGwoa2V5KTtcblxuXHRcdGlmIChcblx0XHRcdG9sZF92YWx1ZXMuZXZlcnkoKHZhbHVlKSA9PiBuZXdfdmFsdWVzLmluY2x1ZGVzKHZhbHVlKSkgJiZcblx0XHRcdG5ld192YWx1ZXMuZXZlcnkoKHZhbHVlKSA9PiBvbGRfdmFsdWVzLmluY2x1ZGVzKHZhbHVlKSlcblx0XHQpIHtcblx0XHRcdGNoYW5nZWQuZGVsZXRlKGtleSk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNoYW5nZWQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vdHlwZXMuanMnKS5OYXZpZ2F0aW9uSW50ZW50fSBpbnRlbnRcbiAqIEByZXR1cm5zIHtQcm9taXNlPGltcG9ydCgnLi90eXBlcy5qcycpLk5hdmlnYXRpb25SZXN1bHQ+fVxuICovXG5hc3luYyBmdW5jdGlvbiBsb2FkX3JvdXRlKHsgaWQsIGludmFsaWRhdGluZywgdXJsLCBwYXJhbXMsIHJvdXRlIH0pIHtcblx0aWYgKGxvYWRfY2FjaGU/LmlkID09PSBpZCkge1xuXHRcdHJldHVybiBsb2FkX2NhY2hlLnByb21pc2U7XG5cdH1cblxuXHRjb25zdCB7IGVycm9ycywgbGF5b3V0cywgbGVhZiB9ID0gcm91dGU7XG5cblx0Y29uc3QgbG9hZGVycyA9IFsuLi5sYXlvdXRzLCBsZWFmXTtcblxuXHQvLyBwcmVsb2FkIG1vZHVsZXMgdG8gYXZvaWQgd2F0ZXJmYWxsLCBidXQgaGFuZGxlIHJlamVjdGlvbnNcblx0Ly8gc28gdGhleSBkb24ndCBnZXQgcmVwb3J0ZWQgdG8gU2VudHJ5IGV0IGFsICh3ZSBkb24ndCBuZWVkXG5cdC8vIHRvIGFjdCBvbiB0aGUgZmFpbHVyZXMgYXQgdGhpcyBwb2ludClcblx0ZXJyb3JzLmZvckVhY2goKGxvYWRlcikgPT4gbG9hZGVyPy4oKS5jYXRjaCgoKSA9PiB7fSkpO1xuXHRsb2FkZXJzLmZvckVhY2goKGxvYWRlcikgPT4gbG9hZGVyPy5bMV0oKS5jYXRjaCgoKSA9PiB7fSkpO1xuXG5cdC8qKiBAdHlwZSB7aW1wb3J0KCd0eXBlcycpLlNlcnZlck5vZGVzUmVzcG9uc2UgfCBpbXBvcnQoJ3R5cGVzJykuU2VydmVyUmVkaXJlY3ROb2RlIHwgbnVsbH0gKi9cblx0bGV0IHNlcnZlcl9kYXRhID0gbnVsbDtcblx0Y29uc3QgdXJsX2NoYW5nZWQgPSBjdXJyZW50LnVybCA/IGlkICE9PSBjdXJyZW50LnVybC5wYXRobmFtZSArIGN1cnJlbnQudXJsLnNlYXJjaCA6IGZhbHNlO1xuXHRjb25zdCByb3V0ZV9jaGFuZ2VkID0gY3VycmVudC5yb3V0ZSA/IHJvdXRlLmlkICE9PSBjdXJyZW50LnJvdXRlLmlkIDogZmFsc2U7XG5cdGNvbnN0IHNlYXJjaF9wYXJhbXNfY2hhbmdlZCA9IGRpZmZfc2VhcmNoX3BhcmFtcyhjdXJyZW50LnVybCwgdXJsKTtcblxuXHRsZXQgcGFyZW50X2ludmFsaWQgPSBmYWxzZTtcblx0Y29uc3QgaW52YWxpZF9zZXJ2ZXJfbm9kZXMgPSBsb2FkZXJzLm1hcCgobG9hZGVyLCBpKSA9PiB7XG5cdFx0Y29uc3QgcHJldmlvdXMgPSBjdXJyZW50LmJyYW5jaFtpXTtcblxuXHRcdGNvbnN0IGludmFsaWQgPVxuXHRcdFx0ISFsb2FkZXI/LlswXSAmJlxuXHRcdFx0KHByZXZpb3VzPy5sb2FkZXIgIT09IGxvYWRlclsxXSB8fFxuXHRcdFx0XHRoYXNfY2hhbmdlZChcblx0XHRcdFx0XHRwYXJlbnRfaW52YWxpZCxcblx0XHRcdFx0XHRyb3V0ZV9jaGFuZ2VkLFxuXHRcdFx0XHRcdHVybF9jaGFuZ2VkLFxuXHRcdFx0XHRcdHNlYXJjaF9wYXJhbXNfY2hhbmdlZCxcblx0XHRcdFx0XHRwcmV2aW91cy5zZXJ2ZXI/LnVzZXMsXG5cdFx0XHRcdFx0cGFyYW1zXG5cdFx0XHRcdCkpO1xuXG5cdFx0aWYgKGludmFsaWQpIHtcblx0XHRcdC8vIEZvciB0aGUgbmV4dCBvbmVcblx0XHRcdHBhcmVudF9pbnZhbGlkID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaW52YWxpZDtcblx0fSk7XG5cblx0aWYgKGludmFsaWRfc2VydmVyX25vZGVzLnNvbWUoQm9vbGVhbikpIHtcblx0XHR0cnkge1xuXHRcdFx0c2VydmVyX2RhdGEgPSBhd2FpdCBsb2FkX2RhdGEodXJsLCBpbnZhbGlkX3NlcnZlcl9ub2Rlcyk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHJldHVybiBsb2FkX3Jvb3RfZXJyb3JfcGFnZSh7XG5cdFx0XHRcdHN0YXR1czogZ2V0X3N0YXR1cyhlcnJvciksXG5cdFx0XHRcdGVycm9yOiBhd2FpdCBoYW5kbGVfZXJyb3IoZXJyb3IsIHsgdXJsLCBwYXJhbXMsIHJvdXRlOiB7IGlkOiByb3V0ZS5pZCB9IH0pLFxuXHRcdFx0XHR1cmwsXG5cdFx0XHRcdHJvdXRlXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiAoc2VydmVyX2RhdGEudHlwZSA9PT0gJ3JlZGlyZWN0Jykge1xuXHRcdFx0cmV0dXJuIHNlcnZlcl9kYXRhO1xuXHRcdH1cblx0fVxuXG5cdGNvbnN0IHNlcnZlcl9kYXRhX25vZGVzID0gc2VydmVyX2RhdGE/Lm5vZGVzO1xuXG5cdGxldCBwYXJlbnRfY2hhbmdlZCA9IGZhbHNlO1xuXG5cdGNvbnN0IGJyYW5jaF9wcm9taXNlcyA9IGxvYWRlcnMubWFwKGFzeW5jIChsb2FkZXIsIGkpID0+IHtcblx0XHRpZiAoIWxvYWRlcikgcmV0dXJuO1xuXG5cdFx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vdHlwZXMuanMnKS5CcmFuY2hOb2RlIHwgdW5kZWZpbmVkfSAqL1xuXHRcdGNvbnN0IHByZXZpb3VzID0gY3VycmVudC5icmFuY2hbaV07XG5cblx0XHRjb25zdCBzZXJ2ZXJfZGF0YV9ub2RlID0gc2VydmVyX2RhdGFfbm9kZXM/LltpXTtcblxuXHRcdC8vIHJlLXVzZSBkYXRhIGZyb20gcHJldmlvdXMgbG9hZCBpZiBpdCdzIHN0aWxsIHZhbGlkXG5cdFx0Y29uc3QgdmFsaWQgPVxuXHRcdFx0KCFzZXJ2ZXJfZGF0YV9ub2RlIHx8IHNlcnZlcl9kYXRhX25vZGUudHlwZSA9PT0gJ3NraXAnKSAmJlxuXHRcdFx0bG9hZGVyWzFdID09PSBwcmV2aW91cz8ubG9hZGVyICYmXG5cdFx0XHQhaGFzX2NoYW5nZWQoXG5cdFx0XHRcdHBhcmVudF9jaGFuZ2VkLFxuXHRcdFx0XHRyb3V0ZV9jaGFuZ2VkLFxuXHRcdFx0XHR1cmxfY2hhbmdlZCxcblx0XHRcdFx0c2VhcmNoX3BhcmFtc19jaGFuZ2VkLFxuXHRcdFx0XHRwcmV2aW91cy51bml2ZXJzYWw/LnVzZXMsXG5cdFx0XHRcdHBhcmFtc1xuXHRcdFx0KTtcblx0XHRpZiAodmFsaWQpIHJldHVybiBwcmV2aW91cztcblxuXHRcdHBhcmVudF9jaGFuZ2VkID0gdHJ1ZTtcblxuXHRcdGlmIChzZXJ2ZXJfZGF0YV9ub2RlPy50eXBlID09PSAnZXJyb3InKSB7XG5cdFx0XHQvLyByZXRocm93IGFuZCBjYXRjaCBiZWxvd1xuXHRcdFx0dGhyb3cgc2VydmVyX2RhdGFfbm9kZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbG9hZF9ub2RlKHtcblx0XHRcdGxvYWRlcjogbG9hZGVyWzFdLFxuXHRcdFx0dXJsLFxuXHRcdFx0cGFyYW1zLFxuXHRcdFx0cm91dGUsXG5cdFx0XHRwYXJlbnQ6IGFzeW5jICgpID0+IHtcblx0XHRcdFx0Y29uc3QgZGF0YSA9IHt9O1xuXHRcdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGk7IGogKz0gMSkge1xuXHRcdFx0XHRcdE9iamVjdC5hc3NpZ24oZGF0YSwgKGF3YWl0IGJyYW5jaF9wcm9taXNlc1tqXSk/LmRhdGEpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0fSxcblx0XHRcdHNlcnZlcl9kYXRhX25vZGU6IGNyZWF0ZV9kYXRhX25vZGUoXG5cdFx0XHRcdC8vIHNlcnZlcl9kYXRhX25vZGUgaXMgdW5kZWZpbmVkIGlmIGl0IHdhc24ndCByZWxvYWRlZCBmcm9tIHRoZSBzZXJ2ZXI7XG5cdFx0XHRcdC8vIGFuZCBpZiBjdXJyZW50IGxvYWRlciB1c2VzIHNlcnZlciBkYXRhLCB3ZSB3YW50IHRvIHJldXNlIHByZXZpb3VzIGRhdGEuXG5cdFx0XHRcdHNlcnZlcl9kYXRhX25vZGUgPT09IHVuZGVmaW5lZCAmJiBsb2FkZXJbMF0gPyB7IHR5cGU6ICdza2lwJyB9IDogc2VydmVyX2RhdGFfbm9kZSA/PyBudWxsLFxuXHRcdFx0XHRsb2FkZXJbMF0gPyBwcmV2aW91cz8uc2VydmVyIDogdW5kZWZpbmVkXG5cdFx0XHQpXG5cdFx0fSk7XG5cdH0pO1xuXG5cdC8vIGlmIHdlIGRvbid0IGRvIHRoaXMsIHJlamVjdGlvbnMgd2lsbCBiZSB1bmhhbmRsZWRcblx0Zm9yIChjb25zdCBwIG9mIGJyYW5jaF9wcm9taXNlcykgcC5jYXRjaCgoKSA9PiB7fSk7XG5cblx0LyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoJy4vdHlwZXMuanMnKS5CcmFuY2hOb2RlIHwgdW5kZWZpbmVkPn0gKi9cblx0Y29uc3QgYnJhbmNoID0gW107XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsb2FkZXJzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0aWYgKGxvYWRlcnNbaV0pIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGJyYW5jaC5wdXNoKGF3YWl0IGJyYW5jaF9wcm9taXNlc1tpXSk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0aWYgKGVyciBpbnN0YW5jZW9mIFJlZGlyZWN0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdHR5cGU6ICdyZWRpcmVjdCcsXG5cdFx0XHRcdFx0XHRsb2NhdGlvbjogZXJyLmxvY2F0aW9uXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGxldCBzdGF0dXMgPSBnZXRfc3RhdHVzKGVycik7XG5cdFx0XHRcdC8qKiBAdHlwZSB7QXBwLkVycm9yfSAqL1xuXHRcdFx0XHRsZXQgZXJyb3I7XG5cblx0XHRcdFx0aWYgKHNlcnZlcl9kYXRhX25vZGVzPy5pbmNsdWRlcygvKiogQHR5cGUge2ltcG9ydCgndHlwZXMnKS5TZXJ2ZXJFcnJvck5vZGV9ICovIChlcnIpKSkge1xuXHRcdFx0XHRcdC8vIHRoaXMgaXMgdGhlIHNlcnZlciBlcnJvciByZXRocm93biBhYm92ZSwgcmVjb25zdHJ1Y3QgYnV0IGRvbid0IGludm9rZVxuXHRcdFx0XHRcdC8vIHRoZSBjbGllbnQgZXJyb3IgaGFuZGxlcjsgaXQgc2hvdWxkJ3ZlIGFscmVhZHkgYmVlbiBoYW5kbGVkIG9uIHRoZSBzZXJ2ZXJcblx0XHRcdFx0XHRzdGF0dXMgPSAvKiogQHR5cGUge2ltcG9ydCgndHlwZXMnKS5TZXJ2ZXJFcnJvck5vZGV9ICovIChlcnIpLnN0YXR1cyA/PyBzdGF0dXM7XG5cdFx0XHRcdFx0ZXJyb3IgPSAvKiogQHR5cGUge2ltcG9ydCgndHlwZXMnKS5TZXJ2ZXJFcnJvck5vZGV9ICovIChlcnIpLmVycm9yO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGVyciBpbnN0YW5jZW9mIEh0dHBFcnJvcikge1xuXHRcdFx0XHRcdGVycm9yID0gZXJyLmJvZHk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gUmVmZXJlbmNlZCBub2RlIGNvdWxkIGhhdmUgYmVlbiByZW1vdmVkIGR1ZSB0byByZWRlcGxveSwgY2hlY2tcblx0XHRcdFx0XHRjb25zdCB1cGRhdGVkID0gYXdhaXQgc3RvcmVzLnVwZGF0ZWQuY2hlY2soKTtcblx0XHRcdFx0XHRpZiAodXBkYXRlZCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGF3YWl0IG5hdGl2ZV9uYXZpZ2F0aW9uKHVybCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZXJyb3IgPSBhd2FpdCBoYW5kbGVfZXJyb3IoZXJyLCB7IHBhcmFtcywgdXJsLCByb3V0ZTogeyBpZDogcm91dGUuaWQgfSB9KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IGVycm9yX2xvYWQgPSBhd2FpdCBsb2FkX25lYXJlc3RfZXJyb3JfcGFnZShpLCBicmFuY2gsIGVycm9ycyk7XG5cdFx0XHRcdGlmIChlcnJvcl9sb2FkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGF3YWl0IGdldF9uYXZpZ2F0aW9uX3Jlc3VsdF9mcm9tX2JyYW5jaCh7XG5cdFx0XHRcdFx0XHR1cmwsXG5cdFx0XHRcdFx0XHRwYXJhbXMsXG5cdFx0XHRcdFx0XHRicmFuY2g6IGJyYW5jaC5zbGljZSgwLCBlcnJvcl9sb2FkLmlkeCkuY29uY2F0KGVycm9yX2xvYWQubm9kZSksXG5cdFx0XHRcdFx0XHRzdGF0dXMsXG5cdFx0XHRcdFx0XHRlcnJvcixcblx0XHRcdFx0XHRcdHJvdXRlXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gaWYgd2UgZ2V0IGhlcmUsIGl0J3MgYmVjYXVzZSB0aGUgcm9vdCBgbG9hZGAgZnVuY3Rpb24gZmFpbGVkLFxuXHRcdFx0XHRcdC8vIGFuZCB3ZSBuZWVkIHRvIGZhbGwgYmFjayB0byB0aGUgc2VydmVyXG5cdFx0XHRcdFx0cmV0dXJuIGF3YWl0IHNlcnZlcl9mYWxsYmFjayh1cmwsIHsgaWQ6IHJvdXRlLmlkIH0sIGVycm9yLCBzdGF0dXMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHB1c2ggYW4gZW1wdHkgc2xvdCBzbyB3ZSBjYW4gcmV3aW5kIHBhc3QgZ2FwcyB0byB0aGVcblx0XHRcdC8vIGxheW91dCB0aGF0IGNvcnJlc3BvbmRzIHdpdGggYW4gK2Vycm9yLnN2ZWx0ZSBwYWdlXG5cdFx0XHRicmFuY2gucHVzaCh1bmRlZmluZWQpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBhd2FpdCBnZXRfbmF2aWdhdGlvbl9yZXN1bHRfZnJvbV9icmFuY2goe1xuXHRcdHVybCxcblx0XHRwYXJhbXMsXG5cdFx0YnJhbmNoLFxuXHRcdHN0YXR1czogMjAwLFxuXHRcdGVycm9yOiBudWxsLFxuXHRcdHJvdXRlLFxuXHRcdC8vIFJlc2V0IGBmb3JtYCBvbiBuYXZpZ2F0aW9uLCBidXQgbm90IGludmFsaWRhdGlvblxuXHRcdGZvcm06IGludmFsaWRhdGluZyA/IHVuZGVmaW5lZCA6IG51bGxcblx0fSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGkgU3RhcnQgaW5kZXggdG8gYmFja3RyYWNrIGZyb21cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuL3R5cGVzLmpzJykuQnJhbmNoTm9kZSB8IHVuZGVmaW5lZD59IGJyYW5jaCBCcmFuY2ggdG8gYmFja3RyYWNrXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgndHlwZXMnKS5DU1JQYWdlTm9kZUxvYWRlciB8IHVuZGVmaW5lZD59IGVycm9ycyBBbGwgZXJyb3IgcGFnZXMgZm9yIHRoaXMgYnJhbmNoXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx7aWR4OiBudW1iZXI7IG5vZGU6IGltcG9ydCgnLi90eXBlcy5qcycpLkJyYW5jaE5vZGV9IHwgdW5kZWZpbmVkPn1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gbG9hZF9uZWFyZXN0X2Vycm9yX3BhZ2UoaSwgYnJhbmNoLCBlcnJvcnMpIHtcblx0d2hpbGUgKGktLSkge1xuXHRcdGlmIChlcnJvcnNbaV0pIHtcblx0XHRcdGxldCBqID0gaTtcblx0XHRcdHdoaWxlICghYnJhbmNoW2pdKSBqIC09IDE7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGlkeDogaiArIDEsXG5cdFx0XHRcdFx0bm9kZToge1xuXHRcdFx0XHRcdFx0bm9kZTogYXdhaXQgLyoqIEB0eXBlIHtpbXBvcnQoJ3R5cGVzJykuQ1NSUGFnZU5vZGVMb2FkZXIgfSAqLyAoZXJyb3JzW2ldKSgpLFxuXHRcdFx0XHRcdFx0bG9hZGVyOiAvKiogQHR5cGUge2ltcG9ydCgndHlwZXMnKS5DU1JQYWdlTm9kZUxvYWRlciB9ICovIChlcnJvcnNbaV0pLFxuXHRcdFx0XHRcdFx0ZGF0YToge30sXG5cdFx0XHRcdFx0XHRzZXJ2ZXI6IG51bGwsXG5cdFx0XHRcdFx0XHR1bml2ZXJzYWw6IG51bGxcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7e1xuICogICBzdGF0dXM6IG51bWJlcjtcbiAqICAgZXJyb3I6IEFwcC5FcnJvcjtcbiAqICAgdXJsOiBVUkw7XG4gKiAgIHJvdXRlOiB7IGlkOiBzdHJpbmcgfCBudWxsIH1cbiAqIH19IG9wdHNcbiAqIEByZXR1cm5zIHtQcm9taXNlPGltcG9ydCgnLi90eXBlcy5qcycpLk5hdmlnYXRpb25GaW5pc2hlZD59XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxvYWRfcm9vdF9lcnJvcl9wYWdlKHsgc3RhdHVzLCBlcnJvciwgdXJsLCByb3V0ZSB9KSB7XG5cdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgc3RyaW5nPn0gKi9cblx0Y29uc3QgcGFyYW1zID0ge307IC8vIGVycm9yIHBhZ2UgZG9lcyBub3QgaGF2ZSBwYXJhbXNcblxuXHQvKiogQHR5cGUge2ltcG9ydCgndHlwZXMnKS5TZXJ2ZXJEYXRhTm9kZSB8IG51bGx9ICovXG5cdGxldCBzZXJ2ZXJfZGF0YV9ub2RlID0gbnVsbDtcblxuXHRjb25zdCBkZWZhdWx0X2xheW91dF9oYXNfc2VydmVyX2xvYWQgPSBhcHAuc2VydmVyX2xvYWRzWzBdID09PSAwO1xuXG5cdGlmIChkZWZhdWx0X2xheW91dF9oYXNfc2VydmVyX2xvYWQpIHtcblx0XHQvLyBUT0RPIHBvc3QtaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL2tpdC9kaXNjdXNzaW9ucy82MTI0IHdlIGNhbiB1c2Vcblx0XHQvLyBleGlzdGluZyByb290IGxheW91dCBkYXRhXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHNlcnZlcl9kYXRhID0gYXdhaXQgbG9hZF9kYXRhKHVybCwgW3RydWVdKTtcblxuXHRcdFx0aWYgKFxuXHRcdFx0XHRzZXJ2ZXJfZGF0YS50eXBlICE9PSAnZGF0YScgfHxcblx0XHRcdFx0KHNlcnZlcl9kYXRhLm5vZGVzWzBdICYmIHNlcnZlcl9kYXRhLm5vZGVzWzBdLnR5cGUgIT09ICdkYXRhJylcblx0XHRcdCkge1xuXHRcdFx0XHR0aHJvdyAwO1xuXHRcdFx0fVxuXG5cdFx0XHRzZXJ2ZXJfZGF0YV9ub2RlID0gc2VydmVyX2RhdGEubm9kZXNbMF0gPz8gbnVsbDtcblx0XHR9IGNhdGNoIHtcblx0XHRcdC8vIGF0IHRoaXMgcG9pbnQgd2UgaGF2ZSBubyBjaG9pY2UgYnV0IHRvIGZhbGwgYmFjayB0byB0aGUgc2VydmVyLCBpZiBpdCB3b3VsZG4ndFxuXHRcdFx0Ly8gYnJpbmcgdXMgcmlnaHQgYmFjayBoZXJlLCB0dXJuaW5nIHRoaXMgaW50byBhbiBlbmRsZXNzIGxvb3Bcblx0XHRcdGlmICh1cmwub3JpZ2luICE9PSBvcmlnaW4gfHwgdXJsLnBhdGhuYW1lICE9PSBsb2NhdGlvbi5wYXRobmFtZSB8fCBoeWRyYXRlZCkge1xuXHRcdFx0XHRhd2FpdCBuYXRpdmVfbmF2aWdhdGlvbih1cmwpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGNvbnN0IHJvb3RfbGF5b3V0ID0gYXdhaXQgbG9hZF9ub2RlKHtcblx0XHRsb2FkZXI6IGRlZmF1bHRfbGF5b3V0X2xvYWRlcixcblx0XHR1cmwsXG5cdFx0cGFyYW1zLFxuXHRcdHJvdXRlLFxuXHRcdHBhcmVudDogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHt9KSxcblx0XHRzZXJ2ZXJfZGF0YV9ub2RlOiBjcmVhdGVfZGF0YV9ub2RlKHNlcnZlcl9kYXRhX25vZGUpXG5cdH0pO1xuXG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL3R5cGVzLmpzJykuQnJhbmNoTm9kZX0gKi9cblx0Y29uc3Qgcm9vdF9lcnJvciA9IHtcblx0XHRub2RlOiBhd2FpdCBkZWZhdWx0X2Vycm9yX2xvYWRlcigpLFxuXHRcdGxvYWRlcjogZGVmYXVsdF9lcnJvcl9sb2FkZXIsXG5cdFx0dW5pdmVyc2FsOiBudWxsLFxuXHRcdHNlcnZlcjogbnVsbCxcblx0XHRkYXRhOiBudWxsXG5cdH07XG5cblx0cmV0dXJuIGF3YWl0IGdldF9uYXZpZ2F0aW9uX3Jlc3VsdF9mcm9tX2JyYW5jaCh7XG5cdFx0dXJsLFxuXHRcdHBhcmFtcyxcblx0XHRicmFuY2g6IFtyb290X2xheW91dCwgcm9vdF9lcnJvcl0sXG5cdFx0c3RhdHVzLFxuXHRcdGVycm9yLFxuXHRcdHJvdXRlOiBudWxsXG5cdH0pO1xufVxuXG4vKipcbiAqIFJlc29sdmUgdGhlIGZ1bGwgaW5mbyAod2hpY2ggcm91dGUsIHBhcmFtcywgZXRjLikgZm9yIGEgY2xpZW50LXNpZGUgbmF2aWdhdGlvbiBmcm9tIHRoZSBVUkwsXG4gKiB0YWtpbmcgdGhlIHJlcm91dGUgaG9vayBpbnRvIGFjY291bnQuIElmIHRoaXMgaXNuJ3QgYSBjbGllbnQtc2lkZS1uYXZpZ2F0aW9uIChvciB0aGUgVVJMIGlzIHVuZGVmaW5lZCksXG4gKiByZXR1cm5zIHVuZGVmaW5lZC5cbiAqIEBwYXJhbSB7VVJMIHwgdW5kZWZpbmVkfSB1cmxcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW52YWxpZGF0aW5nXG4gKi9cbmZ1bmN0aW9uIGdldF9uYXZpZ2F0aW9uX2ludGVudCh1cmwsIGludmFsaWRhdGluZykge1xuXHRpZiAoIXVybCkgcmV0dXJuIHVuZGVmaW5lZDtcblx0aWYgKGlzX2V4dGVybmFsX3VybCh1cmwsIGJhc2UpKSByZXR1cm47XG5cblx0Ly8gcmVyb3V0ZSBjb3VsZCBhbHRlciB0aGUgZ2l2ZW4gVVJMLCBzbyB3ZSBwYXNzIGEgY29weVxuXHRsZXQgcmVyb3V0ZWQ7XG5cdHRyeSB7XG5cdFx0cmVyb3V0ZWQgPSBhcHAuaG9va3MucmVyb3V0ZSh7IHVybDogbmV3IFVSTCh1cmwpIH0pID8/IHVybC5wYXRobmFtZTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmIChERVYpIHtcblx0XHRcdC8vIGluIGRldmVsb3BtZW50LCBwcmludCB0aGUgZXJyb3IuLi5cblx0XHRcdGNvbnNvbGUuZXJyb3IoZSk7XG5cblx0XHRcdC8vIC4uLmFuZCBwYXVzZSBleGVjdXRpb24sIHNpbmNlIG90aGVyd2lzZSB3ZSB3aWxsIGltbWVkaWF0ZWx5IHJlbG9hZCB0aGUgcGFnZVxuXHRcdFx0ZGVidWdnZXI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblx0XHR9XG5cblx0XHQvLyBmYWxsIGJhY2sgdG8gbmF0aXZlIG5hdmlnYXRpb25cblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG5cblx0Y29uc3QgcGF0aCA9IGdldF91cmxfcGF0aChyZXJvdXRlZCk7XG5cblx0Zm9yIChjb25zdCByb3V0ZSBvZiByb3V0ZXMpIHtcblx0XHRjb25zdCBwYXJhbXMgPSByb3V0ZS5leGVjKHBhdGgpO1xuXG5cdFx0aWYgKHBhcmFtcykge1xuXHRcdFx0Y29uc3QgaWQgPSB1cmwucGF0aG5hbWUgKyB1cmwuc2VhcmNoO1xuXHRcdFx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vdHlwZXMuanMnKS5OYXZpZ2F0aW9uSW50ZW50fSAqL1xuXHRcdFx0Y29uc3QgaW50ZW50ID0ge1xuXHRcdFx0XHRpZCxcblx0XHRcdFx0aW52YWxpZGF0aW5nLFxuXHRcdFx0XHRyb3V0ZSxcblx0XHRcdFx0cGFyYW1zOiBkZWNvZGVfcGFyYW1zKHBhcmFtcyksXG5cdFx0XHRcdHVybFxuXHRcdFx0fTtcblx0XHRcdHJldHVybiBpbnRlbnQ7XG5cdFx0fVxuXHR9XG59XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gcGF0aG5hbWUgKi9cbmZ1bmN0aW9uIGdldF91cmxfcGF0aChwYXRobmFtZSkge1xuXHRyZXR1cm4gZGVjb2RlX3BhdGhuYW1lKHBhdGhuYW1lLnNsaWNlKGJhc2UubGVuZ3RoKSB8fCAnLycpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7e1xuICogICB1cmw6IFVSTDtcbiAqICAgdHlwZTogaW1wb3J0KCdAc3ZlbHRlanMva2l0JykuTmF2aWdhdGlvbltcInR5cGVcIl07XG4gKiAgIGludGVudD86IGltcG9ydCgnLi90eXBlcy5qcycpLk5hdmlnYXRpb25JbnRlbnQ7XG4gKiAgIGRlbHRhPzogbnVtYmVyO1xuICogfX0gb3B0c1xuICovXG5mdW5jdGlvbiBfYmVmb3JlX25hdmlnYXRlKHsgdXJsLCB0eXBlLCBpbnRlbnQsIGRlbHRhIH0pIHtcblx0bGV0IHNob3VsZF9ibG9jayA9IGZhbHNlO1xuXG5cdGNvbnN0IG5hdiA9IGNyZWF0ZV9uYXZpZ2F0aW9uKGN1cnJlbnQsIGludGVudCwgdXJsLCB0eXBlKTtcblxuXHRpZiAoZGVsdGEgIT09IHVuZGVmaW5lZCkge1xuXHRcdG5hdi5uYXZpZ2F0aW9uLmRlbHRhID0gZGVsdGE7XG5cdH1cblxuXHRjb25zdCBjYW5jZWxsYWJsZSA9IHtcblx0XHQuLi5uYXYubmF2aWdhdGlvbixcblx0XHRjYW5jZWw6ICgpID0+IHtcblx0XHRcdHNob3VsZF9ibG9jayA9IHRydWU7XG5cdFx0XHRuYXYucmVqZWN0KG5ldyBFcnJvcignbmF2aWdhdGlvbiBjYW5jZWxsZWQnKSk7XG5cdFx0fVxuXHR9O1xuXG5cdGlmICghbmF2aWdhdGluZykge1xuXHRcdC8vIERvbid0IHJ1biB0aGUgZXZlbnQgZHVyaW5nIHJlZGlyZWN0c1xuXHRcdGJlZm9yZV9uYXZpZ2F0ZV9jYWxsYmFja3MuZm9yRWFjaCgoZm4pID0+IGZuKGNhbmNlbGxhYmxlKSk7XG5cdH1cblxuXHRyZXR1cm4gc2hvdWxkX2Jsb2NrID8gbnVsbCA6IG5hdjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3tcbiAqICAgdHlwZTogaW1wb3J0KCdAc3ZlbHRlanMva2l0JykuTmF2aWdhdGlvbltcInR5cGVcIl07XG4gKiAgIHVybDogVVJMO1xuICogICBwb3BwZWQ/OiB7XG4gKiAgICAgc3RhdGU6IFJlY29yZDxzdHJpbmcsIGFueT47XG4gKiAgICAgc2Nyb2xsOiB7IHg6IG51bWJlciwgeTogbnVtYmVyIH07XG4gKiAgICAgZGVsdGE6IG51bWJlcjtcbiAqICAgfTtcbiAqICAga2VlcGZvY3VzPzogYm9vbGVhbjtcbiAqICAgbm9zY3JvbGw/OiBib29sZWFuO1xuICogICByZXBsYWNlX3N0YXRlPzogYm9vbGVhbjtcbiAqICAgc3RhdGU/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICogICByZWRpcmVjdF9jb3VudD86IG51bWJlcjtcbiAqICAgbmF2X3Rva2VuPzoge307XG4gKiAgIGFjY2VwdD86ICgpID0+IHZvaWQ7XG4gKiAgIGJsb2NrPzogKCkgPT4gdm9pZDtcbiAqIH19IG9wdHNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gbmF2aWdhdGUoe1xuXHR0eXBlLFxuXHR1cmwsXG5cdHBvcHBlZCxcblx0a2VlcGZvY3VzLFxuXHRub3Njcm9sbCxcblx0cmVwbGFjZV9zdGF0ZSxcblx0c3RhdGUgPSB7fSxcblx0cmVkaXJlY3RfY291bnQgPSAwLFxuXHRuYXZfdG9rZW4gPSB7fSxcblx0YWNjZXB0ID0gbm9vcCxcblx0YmxvY2sgPSBub29wXG59KSB7XG5cdGNvbnN0IGludGVudCA9IGdldF9uYXZpZ2F0aW9uX2ludGVudCh1cmwsIGZhbHNlKTtcblx0Y29uc3QgbmF2ID0gX2JlZm9yZV9uYXZpZ2F0ZSh7IHVybCwgdHlwZSwgZGVsdGE6IHBvcHBlZD8uZGVsdGEsIGludGVudCB9KTtcblxuXHRpZiAoIW5hdikge1xuXHRcdGJsb2NrKCk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gc3RvcmUgdGhpcyBiZWZvcmUgY2FsbGluZyBgYWNjZXB0KClgLCB3aGljaCBtYXkgY2hhbmdlIHRoZSBpbmRleFxuXHRjb25zdCBwcmV2aW91c19oaXN0b3J5X2luZGV4ID0gY3VycmVudF9oaXN0b3J5X2luZGV4O1xuXHRjb25zdCBwcmV2aW91c19uYXZpZ2F0aW9uX2luZGV4ID0gY3VycmVudF9uYXZpZ2F0aW9uX2luZGV4O1xuXG5cdGFjY2VwdCgpO1xuXG5cdG5hdmlnYXRpbmcgPSB0cnVlO1xuXG5cdGlmIChzdGFydGVkKSB7XG5cdFx0c3RvcmVzLm5hdmlnYXRpbmcuc2V0KG5hdi5uYXZpZ2F0aW9uKTtcblx0fVxuXG5cdHRva2VuID0gbmF2X3Rva2VuO1xuXHRsZXQgbmF2aWdhdGlvbl9yZXN1bHQgPSBpbnRlbnQgJiYgKGF3YWl0IGxvYWRfcm91dGUoaW50ZW50KSk7XG5cblx0aWYgKCFuYXZpZ2F0aW9uX3Jlc3VsdCkge1xuXHRcdGlmIChpc19leHRlcm5hbF91cmwodXJsLCBiYXNlKSkge1xuXHRcdFx0cmV0dXJuIGF3YWl0IG5hdGl2ZV9uYXZpZ2F0aW9uKHVybCk7XG5cdFx0fVxuXHRcdG5hdmlnYXRpb25fcmVzdWx0ID0gYXdhaXQgc2VydmVyX2ZhbGxiYWNrKFxuXHRcdFx0dXJsLFxuXHRcdFx0eyBpZDogbnVsbCB9LFxuXHRcdFx0YXdhaXQgaGFuZGxlX2Vycm9yKG5ldyBTdmVsdGVLaXRFcnJvcig0MDQsICdOb3QgRm91bmQnLCBgTm90IGZvdW5kOiAke3VybC5wYXRobmFtZX1gKSwge1xuXHRcdFx0XHR1cmwsXG5cdFx0XHRcdHBhcmFtczoge30sXG5cdFx0XHRcdHJvdXRlOiB7IGlkOiBudWxsIH1cblx0XHRcdH0pLFxuXHRcdFx0NDA0XG5cdFx0KTtcblx0fVxuXG5cdC8vIGlmIHRoaXMgaXMgYW4gaW50ZXJuYWwgbmF2aWdhdGlvbiBpbnRlbnQsIHVzZSB0aGUgbm9ybWFsaXplZFxuXHQvLyBVUkwgZm9yIHRoZSByZXN0IG9mIHRoZSBmdW5jdGlvblxuXHR1cmwgPSBpbnRlbnQ/LnVybCB8fCB1cmw7XG5cblx0Ly8gYWJvcnQgaWYgdXNlciBuYXZpZ2F0ZWQgZHVyaW5nIHVwZGF0ZVxuXHRpZiAodG9rZW4gIT09IG5hdl90b2tlbikge1xuXHRcdG5hdi5yZWplY3QobmV3IEVycm9yKCduYXZpZ2F0aW9uIGFib3J0ZWQnKSk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0aWYgKG5hdmlnYXRpb25fcmVzdWx0LnR5cGUgPT09ICdyZWRpcmVjdCcpIHtcblx0XHQvLyB3aGF0d2cgZmV0Y2ggc3BlYyBodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jaHR0cC1yZWRpcmVjdC1mZXRjaCBzYXlzIHRvIGVycm9yIGFmdGVyIDIwIHJlZGlyZWN0c1xuXHRcdGlmIChyZWRpcmVjdF9jb3VudCA+PSAyMCkge1xuXHRcdFx0bmF2aWdhdGlvbl9yZXN1bHQgPSBhd2FpdCBsb2FkX3Jvb3RfZXJyb3JfcGFnZSh7XG5cdFx0XHRcdHN0YXR1czogNTAwLFxuXHRcdFx0XHRlcnJvcjogYXdhaXQgaGFuZGxlX2Vycm9yKG5ldyBFcnJvcignUmVkaXJlY3QgbG9vcCcpLCB7XG5cdFx0XHRcdFx0dXJsLFxuXHRcdFx0XHRcdHBhcmFtczoge30sXG5cdFx0XHRcdFx0cm91dGU6IHsgaWQ6IG51bGwgfVxuXHRcdFx0XHR9KSxcblx0XHRcdFx0dXJsLFxuXHRcdFx0XHRyb3V0ZTogeyBpZDogbnVsbCB9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0X2dvdG8obmV3IFVSTChuYXZpZ2F0aW9uX3Jlc3VsdC5sb2NhdGlvbiwgdXJsKS5ocmVmLCB7fSwgcmVkaXJlY3RfY291bnQgKyAxLCBuYXZfdG9rZW4pO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fSBlbHNlIGlmICgvKiogQHR5cGUge251bWJlcn0gKi8gKG5hdmlnYXRpb25fcmVzdWx0LnByb3BzLnBhZ2Uuc3RhdHVzKSA+PSA0MDApIHtcblx0XHRjb25zdCB1cGRhdGVkID0gYXdhaXQgc3RvcmVzLnVwZGF0ZWQuY2hlY2soKTtcblx0XHRpZiAodXBkYXRlZCkge1xuXHRcdFx0YXdhaXQgbmF0aXZlX25hdmlnYXRpb24odXJsKTtcblx0XHR9XG5cdH1cblxuXHQvLyByZXNldCBpbnZhbGlkYXRpb24gb25seSBhZnRlciBhIGZpbmlzaGVkIG5hdmlnYXRpb24uIElmIHRoZXJlIGFyZSByZWRpcmVjdHMgb3Jcblx0Ly8gYWRkaXRpb25hbCBpbnZhbGlkYXRpb25zLCB0aGV5IHNob3VsZCBnZXQgdGhlIHNhbWUgaW52YWxpZGF0aW9uIHRyZWF0bWVudFxuXHRyZXNldF9pbnZhbGlkYXRpb24oKTtcblxuXHR1cGRhdGluZyA9IHRydWU7XG5cblx0dXBkYXRlX3Njcm9sbF9wb3NpdGlvbnMocHJldmlvdXNfaGlzdG9yeV9pbmRleCk7XG5cdGNhcHR1cmVfc25hcHNob3QocHJldmlvdXNfbmF2aWdhdGlvbl9pbmRleCk7XG5cblx0Ly8gZW5zdXJlIHRoZSB1cmwgcGF0aG5hbWUgbWF0Y2hlcyB0aGUgcGFnZSdzIHRyYWlsaW5nIHNsYXNoIG9wdGlvblxuXHRpZiAobmF2aWdhdGlvbl9yZXN1bHQucHJvcHMucGFnZS51cmwucGF0aG5hbWUgIT09IHVybC5wYXRobmFtZSkge1xuXHRcdHVybC5wYXRobmFtZSA9IG5hdmlnYXRpb25fcmVzdWx0LnByb3BzLnBhZ2UudXJsLnBhdGhuYW1lO1xuXHR9XG5cblx0c3RhdGUgPSBwb3BwZWQgPyBwb3BwZWQuc3RhdGUgOiBzdGF0ZTtcblxuXHRpZiAoIXBvcHBlZCkge1xuXHRcdC8vIHRoaXMgaXMgYSBuZXcgbmF2aWdhdGlvbiwgcmF0aGVyIHRoYW4gYSBwb3BzdGF0ZVxuXHRcdGNvbnN0IGNoYW5nZSA9IHJlcGxhY2Vfc3RhdGUgPyAwIDogMTtcblxuXHRcdGNvbnN0IGVudHJ5ID0ge1xuXHRcdFx0W0hJU1RPUllfSU5ERVhdOiAoY3VycmVudF9oaXN0b3J5X2luZGV4ICs9IGNoYW5nZSksXG5cdFx0XHRbTkFWSUdBVElPTl9JTkRFWF06IChjdXJyZW50X25hdmlnYXRpb25faW5kZXggKz0gY2hhbmdlKSxcblx0XHRcdFtTVEFURVNfS0VZXTogc3RhdGVcblx0XHR9O1xuXG5cdFx0Y29uc3QgZm4gPSByZXBsYWNlX3N0YXRlID8gaGlzdG9yeS5yZXBsYWNlU3RhdGUgOiBoaXN0b3J5LnB1c2hTdGF0ZTtcblx0XHRmbi5jYWxsKGhpc3RvcnksIGVudHJ5LCAnJywgdXJsKTtcblxuXHRcdGlmICghcmVwbGFjZV9zdGF0ZSkge1xuXHRcdFx0Y2xlYXJfb253YXJkX2hpc3RvcnkoY3VycmVudF9oaXN0b3J5X2luZGV4LCBjdXJyZW50X25hdmlnYXRpb25faW5kZXgpO1xuXHRcdH1cblx0fVxuXG5cdC8vIHJlc2V0IHByZWxvYWQgc3luY2hyb25vdXNseSBhZnRlciB0aGUgaGlzdG9yeSBzdGF0ZSBoYXMgYmVlbiBzZXQgdG8gYXZvaWQgcmFjZSBjb25kaXRpb25zXG5cdGxvYWRfY2FjaGUgPSBudWxsO1xuXG5cdG5hdmlnYXRpb25fcmVzdWx0LnByb3BzLnBhZ2Uuc3RhdGUgPSBzdGF0ZTtcblxuXHRpZiAoc3RhcnRlZCkge1xuXHRcdGN1cnJlbnQgPSBuYXZpZ2F0aW9uX3Jlc3VsdC5zdGF0ZTtcblxuXHRcdC8vIHJlc2V0IHVybCBiZWZvcmUgdXBkYXRpbmcgcGFnZSBzdG9yZVxuXHRcdGlmIChuYXZpZ2F0aW9uX3Jlc3VsdC5wcm9wcy5wYWdlKSB7XG5cdFx0XHRuYXZpZ2F0aW9uX3Jlc3VsdC5wcm9wcy5wYWdlLnVybCA9IHVybDtcblx0XHR9XG5cblx0XHRjb25zdCBhZnRlcl9uYXZpZ2F0ZSA9IChcblx0XHRcdGF3YWl0IFByb21pc2UuYWxsKFxuXHRcdFx0XHRvbl9uYXZpZ2F0ZV9jYWxsYmFja3MubWFwKChmbikgPT5cblx0XHRcdFx0XHRmbigvKiogQHR5cGUge2ltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLk9uTmF2aWdhdGV9ICovIChuYXYubmF2aWdhdGlvbikpXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpLmZpbHRlcigvKiogQHJldHVybnMge3ZhbHVlIGlzICgpID0+IHZvaWR9ICovICh2YWx1ZSkgPT4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKTtcblxuXHRcdGlmIChhZnRlcl9uYXZpZ2F0ZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRmdW5jdGlvbiBjbGVhbnVwKCkge1xuXHRcdFx0XHRhZnRlcl9uYXZpZ2F0ZV9jYWxsYmFja3MgPSBhZnRlcl9uYXZpZ2F0ZV9jYWxsYmFja3MuZmlsdGVyKFxuXHRcdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0XHQoZm4pID0+ICFhZnRlcl9uYXZpZ2F0ZS5pbmNsdWRlcyhmbilcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0YWZ0ZXJfbmF2aWdhdGUucHVzaChjbGVhbnVwKTtcblx0XHRcdGFmdGVyX25hdmlnYXRlX2NhbGxiYWNrcy5wdXNoKC4uLmFmdGVyX25hdmlnYXRlKTtcblx0XHR9XG5cblx0XHRyb290LiRzZXQobmF2aWdhdGlvbl9yZXN1bHQucHJvcHMpO1xuXHRcdGhhc19uYXZpZ2F0ZWQgPSB0cnVlO1xuXHR9IGVsc2Uge1xuXHRcdGluaXRpYWxpemUobmF2aWdhdGlvbl9yZXN1bHQsIHRhcmdldCk7XG5cdH1cblxuXHRjb25zdCB7IGFjdGl2ZUVsZW1lbnQgfSA9IGRvY3VtZW50O1xuXG5cdC8vIG5lZWQgdG8gcmVuZGVyIHRoZSBET00gYmVmb3JlIHdlIGNhbiBzY3JvbGwgdG8gdGhlIHJlbmRlcmVkIGVsZW1lbnRzIGFuZCBkbyBmb2N1cyBtYW5hZ2VtZW50XG5cdGF3YWl0IHRpY2soKTtcblxuXHQvLyB3ZSByZXNldCBzY3JvbGwgYmVmb3JlIGRlYWxpbmcgd2l0aCBmb2N1cywgdG8gYXZvaWQgYSBmbGFzaCBvZiB1bnNjcm9sbGVkIGNvbnRlbnRcblx0Y29uc3Qgc2Nyb2xsID0gcG9wcGVkID8gcG9wcGVkLnNjcm9sbCA6IG5vc2Nyb2xsID8gc2Nyb2xsX3N0YXRlKCkgOiBudWxsO1xuXG5cdGlmIChhdXRvc2Nyb2xsKSB7XG5cdFx0Y29uc3QgZGVlcF9saW5rZWQgPSB1cmwuaGFzaCAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkZWNvZGVVUklDb21wb25lbnQodXJsLmhhc2guc2xpY2UoMSkpKTtcblx0XHRpZiAoc2Nyb2xsKSB7XG5cdFx0XHRzY3JvbGxUbyhzY3JvbGwueCwgc2Nyb2xsLnkpO1xuXHRcdH0gZWxzZSBpZiAoZGVlcF9saW5rZWQpIHtcblx0XHRcdC8vIEhlcmUgd2UgdXNlIGBzY3JvbGxJbnRvVmlld2Agb24gdGhlIGVsZW1lbnQgaW5zdGVhZCBvZiBgc2Nyb2xsVG9gXG5cdFx0XHQvLyBiZWNhdXNlIGl0IG5hdGl2ZWx5IHN1cHBvcnRzIHRoZSBgc2Nyb2xsLW1hcmdpbmAgYW5kIGBzY3JvbGwtYmVoYXZpb3JgXG5cdFx0XHQvLyBDU1MgcHJvcGVydGllcy5cblx0XHRcdGRlZXBfbGlua2VkLnNjcm9sbEludG9WaWV3KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNjcm9sbFRvKDAsIDApO1xuXHRcdH1cblx0fVxuXG5cdGNvbnN0IGNoYW5nZWRfZm9jdXMgPVxuXHRcdC8vIHJlc2V0IGZvY3VzIG9ubHkgaWYgYW55IG1hbnVhbCBmb2N1cyBtYW5hZ2VtZW50IGRpZG4ndCBvdmVycmlkZSBpdFxuXHRcdGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGFjdGl2ZUVsZW1lbnQgJiZcblx0XHQvLyBhbHNvIHJlZm9jdXMgd2hlbiBhY3RpdmVFbGVtZW50IGlzIGJvZHkgYWxyZWFkeSBiZWNhdXNlIHRoZVxuXHRcdC8vIGZvY3VzIGV2ZW50IG1pZ2h0IG5vdCBoYXZlIGJlZW4gZmlyZWQgb24gaXQgeWV0XG5cdFx0ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gZG9jdW1lbnQuYm9keTtcblxuXHRpZiAoIWtlZXBmb2N1cyAmJiAhY2hhbmdlZF9mb2N1cykge1xuXHRcdHJlc2V0X2ZvY3VzKCk7XG5cdH1cblxuXHRhdXRvc2Nyb2xsID0gdHJ1ZTtcblxuXHRpZiAobmF2aWdhdGlvbl9yZXN1bHQucHJvcHMucGFnZSkge1xuXHRcdHBhZ2UgPSBuYXZpZ2F0aW9uX3Jlc3VsdC5wcm9wcy5wYWdlO1xuXHR9XG5cblx0bmF2aWdhdGluZyA9IGZhbHNlO1xuXG5cdGlmICh0eXBlID09PSAncG9wc3RhdGUnKSB7XG5cdFx0cmVzdG9yZV9zbmFwc2hvdChjdXJyZW50X25hdmlnYXRpb25faW5kZXgpO1xuXHR9XG5cblx0bmF2LmZ1bGZpbCh1bmRlZmluZWQpO1xuXG5cdGFmdGVyX25hdmlnYXRlX2NhbGxiYWNrcy5mb3JFYWNoKChmbikgPT5cblx0XHRmbigvKiogQHR5cGUge2ltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLkFmdGVyTmF2aWdhdGV9ICovIChuYXYubmF2aWdhdGlvbikpXG5cdCk7XG5cblx0c3RvcmVzLm5hdmlnYXRpbmcuc2V0KG51bGwpO1xuXG5cdHVwZGF0aW5nID0gZmFsc2U7XG59XG5cbi8qKlxuICogRG9lcyBhIGZ1bGwgcGFnZSByZWxvYWQgaWYgaXQgd291bGRuJ3QgcmVzdWx0IGluIGFuIGVuZGxlc3MgbG9vcCBpbiB0aGUgU1BBIGNhc2VcbiAqIEBwYXJhbSB7VVJMfSB1cmxcbiAqIEBwYXJhbSB7eyBpZDogc3RyaW5nIHwgbnVsbCB9fSByb3V0ZVxuICogQHBhcmFtIHtBcHAuRXJyb3J9IGVycm9yXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhdHVzXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxpbXBvcnQoJy4vdHlwZXMuanMnKS5OYXZpZ2F0aW9uRmluaXNoZWQ+fVxuICovXG5hc3luYyBmdW5jdGlvbiBzZXJ2ZXJfZmFsbGJhY2sodXJsLCByb3V0ZSwgZXJyb3IsIHN0YXR1cykge1xuXHRpZiAodXJsLm9yaWdpbiA9PT0gb3JpZ2luICYmIHVybC5wYXRobmFtZSA9PT0gbG9jYXRpb24ucGF0aG5hbWUgJiYgIWh5ZHJhdGVkKSB7XG5cdFx0Ly8gV2Ugd291bGQgcmVsb2FkIHRoZSBzYW1lIHBhZ2Ugd2UncmUgY3VycmVudGx5IG9uLCB3aGljaCBpc24ndCBoeWRyYXRlZCxcblx0XHQvLyB3aGljaCBtZWFucyBubyBTU1IsIHdoaWNoIG1lYW5zIHdlIHdvdWxkIGVuZCB1cCBpbiBhbiBlbmRsZXNzIGxvb3Bcblx0XHRyZXR1cm4gYXdhaXQgbG9hZF9yb290X2Vycm9yX3BhZ2Uoe1xuXHRcdFx0c3RhdHVzLFxuXHRcdFx0ZXJyb3IsXG5cdFx0XHR1cmwsXG5cdFx0XHRyb3V0ZVxuXHRcdH0pO1xuXHR9XG5cblx0aWYgKERFViAmJiBzdGF0dXMgIT09IDQwNCkge1xuXHRcdGNvbnNvbGUuZXJyb3IoXG5cdFx0XHQnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgbG9hZGluZyB0aGUgcGFnZS4gVGhpcyB3aWxsIGNhdXNlIGEgZnVsbCBwYWdlIHJlbG9hZC4gKFRoaXMgbWVzc2FnZSB3aWxsIG9ubHkgYXBwZWFyIGR1cmluZyBkZXZlbG9wbWVudC4pJ1xuXHRcdCk7XG5cblx0XHRkZWJ1Z2dlcjsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHR9XG5cblx0cmV0dXJuIGF3YWl0IG5hdGl2ZV9uYXZpZ2F0aW9uKHVybCk7XG59XG5cbmlmIChpbXBvcnQubWV0YS5ob3QpIHtcblx0aW1wb3J0Lm1ldGEuaG90Lm9uKCd2aXRlOmJlZm9yZVVwZGF0ZScsICgpID0+IHtcblx0XHRpZiAoY3VycmVudC5lcnJvcikgbG9jYXRpb24ucmVsb2FkKCk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBzZXR1cF9wcmVsb2FkKCkge1xuXHQvKiogQHR5cGUge05vZGVKUy5UaW1lb3V0fSAqL1xuXHRsZXQgbW91c2Vtb3ZlX3RpbWVvdXQ7XG5cblx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChldmVudCkgPT4ge1xuXHRcdGNvbnN0IHRhcmdldCA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKGV2ZW50LnRhcmdldCk7XG5cblx0XHRjbGVhclRpbWVvdXQobW91c2Vtb3ZlX3RpbWVvdXQpO1xuXHRcdG1vdXNlbW92ZV90aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRwcmVsb2FkKHRhcmdldCwgMik7XG5cdFx0fSwgMjApO1xuXHR9KTtcblxuXHQvKiogQHBhcmFtIHtFdmVudH0gZXZlbnQgKi9cblx0ZnVuY3Rpb24gdGFwKGV2ZW50KSB7XG5cdFx0cHJlbG9hZCgvKiogQHR5cGUge0VsZW1lbnR9ICovIChldmVudC5jb21wb3NlZFBhdGgoKVswXSksIDEpO1xuXHR9XG5cblx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRhcCk7XG5cdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGFwLCB7IHBhc3NpdmU6IHRydWUgfSk7XG5cblx0Y29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG5cdFx0KGVudHJpZXMpID0+IHtcblx0XHRcdGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuXHRcdFx0XHRpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcblx0XHRcdFx0XHRfcHJlbG9hZF9jb2RlKC8qKiBAdHlwZSB7SFRNTEFuY2hvckVsZW1lbnR9ICovIChlbnRyeS50YXJnZXQpLmhyZWYpO1xuXHRcdFx0XHRcdG9ic2VydmVyLnVub2JzZXJ2ZShlbnRyeS50YXJnZXQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHR7IHRocmVzaG9sZDogMCB9XG5cdCk7XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuXHQgKiBAcGFyYW0ge251bWJlcn0gcHJpb3JpdHlcblx0ICovXG5cdGZ1bmN0aW9uIHByZWxvYWQoZWxlbWVudCwgcHJpb3JpdHkpIHtcblx0XHRjb25zdCBhID0gZmluZF9hbmNob3IoZWxlbWVudCwgY29udGFpbmVyKTtcblx0XHRpZiAoIWEpIHJldHVybjtcblxuXHRcdGNvbnN0IHsgdXJsLCBleHRlcm5hbCwgZG93bmxvYWQgfSA9IGdldF9saW5rX2luZm8oYSwgYmFzZSk7XG5cdFx0aWYgKGV4dGVybmFsIHx8IGRvd25sb2FkKSByZXR1cm47XG5cblx0XHRjb25zdCBvcHRpb25zID0gZ2V0X3JvdXRlcl9vcHRpb25zKGEpO1xuXG5cdFx0aWYgKCFvcHRpb25zLnJlbG9hZCkge1xuXHRcdFx0aWYgKHByaW9yaXR5IDw9IG9wdGlvbnMucHJlbG9hZF9kYXRhKSB7XG5cdFx0XHRcdGNvbnN0IGludGVudCA9IGdldF9uYXZpZ2F0aW9uX2ludGVudCh1cmwsIGZhbHNlKTtcblx0XHRcdFx0aWYgKGludGVudCkge1xuXHRcdFx0XHRcdGlmIChERVYpIHtcblx0XHRcdFx0XHRcdF9wcmVsb2FkX2RhdGEoaW50ZW50KS50aGVuKChyZXN1bHQpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKHJlc3VsdC50eXBlID09PSAnbG9hZGVkJyAmJiByZXN1bHQuc3RhdGUuZXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0XHRcdFx0XHRgUHJlbG9hZGluZyBkYXRhIGZvciAke2ludGVudC51cmwucGF0aG5hbWV9IGZhaWxlZCB3aXRoIHRoZSBmb2xsb3dpbmcgZXJyb3I6ICR7cmVzdWx0LnN0YXRlLmVycm9yLm1lc3NhZ2V9XFxuYCArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdJZiB0aGlzIGVycm9yIGlzIHRyYW5zaWVudCwgeW91IGNhbiBpZ25vcmUgaXQuIE90aGVyd2lzZSwgY29uc2lkZXIgZGlzYWJsaW5nIHByZWxvYWRpbmcgZm9yIHRoaXMgcm91dGUuICcgK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQnVGhpcyByb3V0ZSB3YXMgcHJlbG9hZGVkIGR1ZSB0byBhIGRhdGEtc3ZlbHRla2l0LXByZWxvYWQtZGF0YSBhdHRyaWJ1dGUuICcgK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQnU2VlIGh0dHBzOi8va2l0LnN2ZWx0ZS5kZXYvZG9jcy9saW5rLW9wdGlvbnMgZm9yIG1vcmUgaW5mbydcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0X3ByZWxvYWRfZGF0YShpbnRlbnQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChwcmlvcml0eSA8PSBvcHRpb25zLnByZWxvYWRfY29kZSkge1xuXHRcdFx0XHRfcHJlbG9hZF9jb2RlKC8qKiBAdHlwZSB7VVJMfSAqLyAodXJsKS5wYXRobmFtZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gYWZ0ZXJfbmF2aWdhdGUoKSB7XG5cdFx0b2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuXG5cdFx0Zm9yIChjb25zdCBhIG9mIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdhJykpIHtcblx0XHRcdGNvbnN0IHsgdXJsLCBleHRlcm5hbCwgZG93bmxvYWQgfSA9IGdldF9saW5rX2luZm8oYSwgYmFzZSk7XG5cdFx0XHRpZiAoZXh0ZXJuYWwgfHwgZG93bmxvYWQpIGNvbnRpbnVlO1xuXG5cdFx0XHRjb25zdCBvcHRpb25zID0gZ2V0X3JvdXRlcl9vcHRpb25zKGEpO1xuXHRcdFx0aWYgKG9wdGlvbnMucmVsb2FkKSBjb250aW51ZTtcblxuXHRcdFx0aWYgKG9wdGlvbnMucHJlbG9hZF9jb2RlID09PSBQUkVMT0FEX1BSSU9SSVRJRVMudmlld3BvcnQpIHtcblx0XHRcdFx0b2JzZXJ2ZXIub2JzZXJ2ZShhKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG9wdGlvbnMucHJlbG9hZF9jb2RlID09PSBQUkVMT0FEX1BSSU9SSVRJRVMuZWFnZXIpIHtcblx0XHRcdFx0X3ByZWxvYWRfY29kZSgvKiogQHR5cGUge1VSTH0gKi8gKHVybCkucGF0aG5hbWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGFmdGVyX25hdmlnYXRlX2NhbGxiYWNrcy5wdXNoKGFmdGVyX25hdmlnYXRlKTtcblx0YWZ0ZXJfbmF2aWdhdGUoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3Vua25vd259IGVycm9yXG4gKiBAcGFyYW0ge2ltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLk5hdmlnYXRpb25FdmVudH0gZXZlbnRcbiAqIEByZXR1cm5zIHtpbXBvcnQoJ3R5cGVzJykuTWF5YmVQcm9taXNlPEFwcC5FcnJvcj59XG4gKi9cbmZ1bmN0aW9uIGhhbmRsZV9lcnJvcihlcnJvciwgZXZlbnQpIHtcblx0aWYgKGVycm9yIGluc3RhbmNlb2YgSHR0cEVycm9yKSB7XG5cdFx0cmV0dXJuIGVycm9yLmJvZHk7XG5cdH1cblxuXHRpZiAoREVWKSB7XG5cdFx0ZXJyb3JlZCA9IHRydWU7XG5cdFx0Y29uc29sZS53YXJuKCdUaGUgbmV4dCBITVIgdXBkYXRlIHdpbGwgY2F1c2UgdGhlIHBhZ2UgdG8gcmVsb2FkJyk7XG5cdH1cblxuXHRjb25zdCBzdGF0dXMgPSBnZXRfc3RhdHVzKGVycm9yKTtcblx0Y29uc3QgbWVzc2FnZSA9IGdldF9tZXNzYWdlKGVycm9yKTtcblxuXHRyZXR1cm4gKFxuXHRcdGFwcC5ob29rcy5oYW5kbGVFcnJvcih7IGVycm9yLCBldmVudCwgc3RhdHVzLCBtZXNzYWdlIH0pID8/IC8qKiBAdHlwZSB7YW55fSAqLyAoeyBtZXNzYWdlIH0pXG5cdCk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtGdW5jdGlvbn0gVFxuICogQHBhcmFtIHtUW119IGNhbGxiYWNrc1xuICogQHBhcmFtIHtUfSBjYWxsYmFja1xuICovXG5mdW5jdGlvbiBhZGRfbmF2aWdhdGlvbl9jYWxsYmFjayhjYWxsYmFja3MsIGNhbGxiYWNrKSB7XG5cdG9uTW91bnQoKCkgPT4ge1xuXHRcdGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcblxuXHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHRjb25zdCBpID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuXHRcdFx0Y2FsbGJhY2tzLnNwbGljZShpLCAxKTtcblx0XHR9O1xuXHR9KTtcbn1cblxuLyoqXG4gKiBBIGxpZmVjeWNsZSBmdW5jdGlvbiB0aGF0IHJ1bnMgdGhlIHN1cHBsaWVkIGBjYWxsYmFja2Agd2hlbiB0aGUgY3VycmVudCBjb21wb25lbnQgbW91bnRzLCBhbmQgYWxzbyB3aGVuZXZlciB3ZSBuYXZpZ2F0ZSB0byBhIG5ldyBVUkwuXG4gKlxuICogYGFmdGVyTmF2aWdhdGVgIG11c3QgYmUgY2FsbGVkIGR1cmluZyBhIGNvbXBvbmVudCBpbml0aWFsaXphdGlvbi4gSXQgcmVtYWlucyBhY3RpdmUgYXMgbG9uZyBhcyB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWQuXG4gKiBAcGFyYW0geyhuYXZpZ2F0aW9uOiBpbXBvcnQoJ0BzdmVsdGVqcy9raXQnKS5BZnRlck5hdmlnYXRlKSA9PiB2b2lkfSBjYWxsYmFja1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZnRlck5hdmlnYXRlKGNhbGxiYWNrKSB7XG5cdGFkZF9uYXZpZ2F0aW9uX2NhbGxiYWNrKGFmdGVyX25hdmlnYXRlX2NhbGxiYWNrcywgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqIEEgbmF2aWdhdGlvbiBpbnRlcmNlcHRvciB0aGF0IHRyaWdnZXJzIGJlZm9yZSB3ZSBuYXZpZ2F0ZSB0byBhIG5ldyBVUkwsIHdoZXRoZXIgYnkgY2xpY2tpbmcgYSBsaW5rLCBjYWxsaW5nIGBnb3RvKC4uLilgLCBvciB1c2luZyB0aGUgYnJvd3NlciBiYWNrL2ZvcndhcmQgY29udHJvbHMuXG4gKlxuICogQ2FsbGluZyBgY2FuY2VsKClgIHdpbGwgcHJldmVudCB0aGUgbmF2aWdhdGlvbiBmcm9tIGNvbXBsZXRpbmcuIElmIGBuYXZpZ2F0aW9uLnR5cGUgPT09ICdsZWF2ZSdgIOKAlCBtZWFuaW5nIHRoZSB1c2VyIGlzIG5hdmlnYXRpbmcgYXdheSBmcm9tIHRoZSBhcHAgKG9yIGNsb3NpbmcgdGhlIHRhYikg4oCUIGNhbGxpbmcgYGNhbmNlbGAgd2lsbCB0cmlnZ2VyIHRoZSBuYXRpdmUgYnJvd3NlciB1bmxvYWQgY29uZmlybWF0aW9uIGRpYWxvZy4gSW4gdGhpcyBjYXNlLCB0aGUgbmF2aWdhdGlvbiBtYXkgb3IgbWF5IG5vdCBiZSBjYW5jZWxsZWQgZGVwZW5kaW5nIG9uIHRoZSB1c2VyJ3MgcmVzcG9uc2UuXG4gKlxuICogV2hlbiBhIG5hdmlnYXRpb24gaXNuJ3QgdG8gYSBTdmVsdGVLaXQtb3duZWQgcm91dGUgKGFuZCB0aGVyZWZvcmUgY29udHJvbGxlZCBieSBTdmVsdGVLaXQncyBjbGllbnQtc2lkZSByb3V0ZXIpLCBgbmF2aWdhdGlvbi50by5yb3V0ZS5pZGAgd2lsbCBiZSBgbnVsbGAuXG4gKlxuICogSWYgdGhlIG5hdmlnYXRpb24gd2lsbCAoaWYgbm90IGNhbmNlbGxlZCkgY2F1c2UgdGhlIGRvY3VtZW50IHRvIHVubG9hZCDigJQgaW4gb3RoZXIgd29yZHMgYCdsZWF2ZSdgIG5hdmlnYXRpb25zIGFuZCBgJ2xpbmsnYCBuYXZpZ2F0aW9ucyB3aGVyZSBgbmF2aWdhdGlvbi50by5yb3V0ZSA9PT0gbnVsbGAg4oCUIGBuYXZpZ2F0aW9uLndpbGxVbmxvYWRgIGlzIGB0cnVlYC5cbiAqXG4gKiBgYmVmb3JlTmF2aWdhdGVgIG11c3QgYmUgY2FsbGVkIGR1cmluZyBhIGNvbXBvbmVudCBpbml0aWFsaXphdGlvbi4gSXQgcmVtYWlucyBhY3RpdmUgYXMgbG9uZyBhcyB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWQuXG4gKiBAcGFyYW0geyhuYXZpZ2F0aW9uOiBpbXBvcnQoJ0BzdmVsdGVqcy9raXQnKS5CZWZvcmVOYXZpZ2F0ZSkgPT4gdm9pZH0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmVmb3JlTmF2aWdhdGUoY2FsbGJhY2spIHtcblx0YWRkX25hdmlnYXRpb25fY2FsbGJhY2soYmVmb3JlX25hdmlnYXRlX2NhbGxiYWNrcywgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqIEEgbGlmZWN5Y2xlIGZ1bmN0aW9uIHRoYXQgcnVucyB0aGUgc3VwcGxpZWQgYGNhbGxiYWNrYCBpbW1lZGlhdGVseSBiZWZvcmUgd2UgbmF2aWdhdGUgdG8gYSBuZXcgVVJMIGV4Y2VwdCBkdXJpbmcgZnVsbC1wYWdlIG5hdmlnYXRpb25zLlxuICpcbiAqIElmIHlvdSByZXR1cm4gYSBgUHJvbWlzZWAsIFN2ZWx0ZUtpdCB3aWxsIHdhaXQgZm9yIGl0IHRvIHJlc29sdmUgYmVmb3JlIGNvbXBsZXRpbmcgdGhlIG5hdmlnYXRpb24uIFRoaXMgYWxsb3dzIHlvdSB0byDigJQgZm9yIGV4YW1wbGUg4oCUIHVzZSBgZG9jdW1lbnQuc3RhcnRWaWV3VHJhbnNpdGlvbmAuIEF2b2lkIHByb21pc2VzIHRoYXQgYXJlIHNsb3cgdG8gcmVzb2x2ZSwgc2luY2UgbmF2aWdhdGlvbiB3aWxsIGFwcGVhciBzdGFsbGVkIHRvIHRoZSB1c2VyLlxuICpcbiAqIElmIGEgZnVuY3Rpb24gKG9yIGEgYFByb21pc2VgIHRoYXQgcmVzb2x2ZXMgdG8gYSBmdW5jdGlvbikgaXMgcmV0dXJuZWQgZnJvbSB0aGUgY2FsbGJhY2ssIGl0IHdpbGwgYmUgY2FsbGVkIG9uY2UgdGhlIERPTSBoYXMgdXBkYXRlZC5cbiAqXG4gKiBgb25OYXZpZ2F0ZWAgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIGEgY29tcG9uZW50IGluaXRpYWxpemF0aW9uLiBJdCByZW1haW5zIGFjdGl2ZSBhcyBsb25nIGFzIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZC5cbiAqIEBwYXJhbSB7KG5hdmlnYXRpb246IGltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLk9uTmF2aWdhdGUpID0+IGltcG9ydCgndHlwZXMnKS5NYXliZVByb21pc2U8KCgpID0+IHZvaWQpIHwgdm9pZD59IGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uTmF2aWdhdGUoY2FsbGJhY2spIHtcblx0YWRkX25hdmlnYXRpb25fY2FsbGJhY2sob25fbmF2aWdhdGVfY2FsbGJhY2tzLCBjYWxsYmFjayk7XG59XG5cbi8qKlxuICogSWYgY2FsbGVkIHdoZW4gdGhlIHBhZ2UgaXMgYmVpbmcgdXBkYXRlZCBmb2xsb3dpbmcgYSBuYXZpZ2F0aW9uIChpbiBgb25Nb3VudGAgb3IgYGFmdGVyTmF2aWdhdGVgIG9yIGFuIGFjdGlvbiwgZm9yIGV4YW1wbGUpLCB0aGlzIGRpc2FibGVzIFN2ZWx0ZUtpdCdzIGJ1aWx0LWluIHNjcm9sbCBoYW5kbGluZy5cbiAqIFRoaXMgaXMgZ2VuZXJhbGx5IGRpc2NvdXJhZ2VkLCBzaW5jZSBpdCBicmVha3MgdXNlciBleHBlY3RhdGlvbnMuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVTY3JvbGxIYW5kbGluZygpIHtcblx0aWYgKCFCUk9XU0VSKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsbCBkaXNhYmxlU2Nyb2xsSGFuZGxpbmcoKSBvbiB0aGUgc2VydmVyJyk7XG5cdH1cblxuXHRpZiAoREVWICYmIHN0YXJ0ZWQgJiYgIXVwZGF0aW5nKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdDYW4gb25seSBkaXNhYmxlIHNjcm9sbCBoYW5kbGluZyBkdXJpbmcgbmF2aWdhdGlvbicpO1xuXHR9XG5cblx0aWYgKHVwZGF0aW5nIHx8ICFzdGFydGVkKSB7XG5cdFx0YXV0b3Njcm9sbCA9IGZhbHNlO1xuXHR9XG59XG5cbi8qKlxuICogUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIFN2ZWx0ZUtpdCBuYXZpZ2F0ZXMgKG9yIGZhaWxzIHRvIG5hdmlnYXRlLCBpbiB3aGljaCBjYXNlIHRoZSBwcm9taXNlIHJlamVjdHMpIHRvIHRoZSBzcGVjaWZpZWQgYHVybGAuXG4gKiBGb3IgZXh0ZXJuYWwgVVJMcywgdXNlIGB3aW5kb3cubG9jYXRpb24gPSB1cmxgIGluc3RlYWQgb2YgY2FsbGluZyBgZ290byh1cmwpYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZyB8IFVSTH0gdXJsIFdoZXJlIHRvIG5hdmlnYXRlIHRvLiBOb3RlIHRoYXQgaWYgeW91J3ZlIHNldCBbYGNvbmZpZy5raXQucGF0aHMuYmFzZWBdKGh0dHBzOi8va2l0LnN2ZWx0ZS5kZXYvZG9jcy9jb25maWd1cmF0aW9uI3BhdGhzKSBhbmQgdGhlIFVSTCBpcyByb290LXJlbGF0aXZlLCB5b3UgbmVlZCB0byBwcmVwZW5kIHRoZSBiYXNlIHBhdGggaWYgeW91IHdhbnQgdG8gbmF2aWdhdGUgd2l0aGluIHRoZSBhcHAuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdHNdIE9wdGlvbnMgcmVsYXRlZCB0byB0aGUgbmF2aWdhdGlvblxuICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5yZXBsYWNlU3RhdGVdIElmIGB0cnVlYCwgd2lsbCByZXBsYWNlIHRoZSBjdXJyZW50IGBoaXN0b3J5YCBlbnRyeSByYXRoZXIgdGhhbiBjcmVhdGluZyBhIG5ldyBvbmUgd2l0aCBgcHVzaFN0YXRlYFxuICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5ub1Njcm9sbF0gSWYgYHRydWVgLCB0aGUgYnJvd3NlciB3aWxsIG1haW50YWluIGl0cyBzY3JvbGwgcG9zaXRpb24gcmF0aGVyIHRoYW4gc2Nyb2xsaW5nIHRvIHRoZSB0b3Agb2YgdGhlIHBhZ2UgYWZ0ZXIgbmF2aWdhdGlvblxuICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5rZWVwRm9jdXNdIElmIGB0cnVlYCwgdGhlIGN1cnJlbnRseSBmb2N1c2VkIGVsZW1lbnQgd2lsbCByZXRhaW4gZm9jdXMgYWZ0ZXIgbmF2aWdhdGlvbi4gT3RoZXJ3aXNlLCBmb2N1cyB3aWxsIGJlIHJlc2V0IHRvIHRoZSBib2R5XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmludmFsaWRhdGVBbGxdIElmIGB0cnVlYCwgYWxsIGBsb2FkYCBmdW5jdGlvbnMgb2YgdGhlIHBhZ2Ugd2lsbCBiZSByZXJ1bi4gU2VlIGh0dHBzOi8va2l0LnN2ZWx0ZS5kZXYvZG9jcy9sb2FkI3JlcnVubmluZy1sb2FkLWZ1bmN0aW9ucyBmb3IgbW9yZSBpbmZvIG9uIGludmFsaWRhdGlvbi5cbiAqIEBwYXJhbSB7QXBwLlBhZ2VTdGF0ZX0gW29wdHMuc3RhdGVdIEFuIG9wdGlvbmFsIG9iamVjdCB0aGF0IHdpbGwgYmUgYXZhaWxhYmxlIG9uIHRoZSBgJHBhZ2Uuc3RhdGVgIHN0b3JlXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdvdG8odXJsLCBvcHRzID0ge30pIHtcblx0aWYgKCFCUk9XU0VSKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsbCBnb3RvKC4uLikgb24gdGhlIHNlcnZlcicpO1xuXHR9XG5cblx0dXJsID0gcmVzb2x2ZV91cmwodXJsKTtcblxuXHRpZiAodXJsLm9yaWdpbiAhPT0gb3JpZ2luKSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KFxuXHRcdFx0bmV3IEVycm9yKFxuXHRcdFx0XHRERVZcblx0XHRcdFx0XHQ/IGBDYW5ub3QgdXNlIFxcYGdvdG9cXGAgd2l0aCBhbiBleHRlcm5hbCBVUkwuIFVzZSBcXGB3aW5kb3cubG9jYXRpb24gPSBcIiR7dXJsfVwiXFxgIGluc3RlYWRgXG5cdFx0XHRcdFx0OiAnZ290bzogaW52YWxpZCBVUkwnXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxuXG5cdHJldHVybiBfZ290byh1cmwsIG9wdHMsIDApO1xufVxuXG4vKipcbiAqIENhdXNlcyBhbnkgYGxvYWRgIGZ1bmN0aW9ucyBiZWxvbmdpbmcgdG8gdGhlIGN1cnJlbnRseSBhY3RpdmUgcGFnZSB0byByZS1ydW4gaWYgdGhleSBkZXBlbmQgb24gdGhlIGB1cmxgIGluIHF1ZXN0aW9uLCB2aWEgYGZldGNoYCBvciBgZGVwZW5kc2AuIFJldHVybnMgYSBgUHJvbWlzZWAgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBwYWdlIGlzIHN1YnNlcXVlbnRseSB1cGRhdGVkLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBnaXZlbiBhcyBhIGBzdHJpbmdgIG9yIGBVUkxgLCBpdCBtdXN0IHJlc29sdmUgdG8gdGhlIHNhbWUgVVJMIHRoYXQgd2FzIHBhc3NlZCB0byBgZmV0Y2hgIG9yIGBkZXBlbmRzYCAoaW5jbHVkaW5nIHF1ZXJ5IHBhcmFtZXRlcnMpLlxuICogVG8gY3JlYXRlIGEgY3VzdG9tIGlkZW50aWZpZXIsIHVzZSBhIHN0cmluZyBiZWdpbm5pbmcgd2l0aCBgW2Etel0rOmAgKGUuZy4gYGN1c3RvbTpzdGF0ZWApIOKAlCB0aGlzIGlzIGEgdmFsaWQgVVJMLlxuICpcbiAqIFRoZSBgZnVuY3Rpb25gIGFyZ3VtZW50IGNhbiBiZSB1c2VkIGRlZmluZSBhIGN1c3RvbSBwcmVkaWNhdGUuIEl0IHJlY2VpdmVzIHRoZSBmdWxsIGBVUkxgIGFuZCBjYXVzZXMgYGxvYWRgIHRvIHJlcnVuIGlmIGB0cnVlYCBpcyByZXR1cm5lZC5cbiAqIFRoaXMgY2FuIGJlIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byBpbnZhbGlkYXRlIGJhc2VkIG9uIGEgcGF0dGVybiBpbnN0ZWFkIG9mIGEgZXhhY3QgbWF0Y2guXG4gKlxuICogYGBgdHNcbiAqIC8vIEV4YW1wbGU6IE1hdGNoICcvcGF0aCcgcmVnYXJkbGVzcyBvZiB0aGUgcXVlcnkgcGFyYW1ldGVyc1xuICogaW1wb3J0IHsgaW52YWxpZGF0ZSB9IGZyb20gJyRhcHAvbmF2aWdhdGlvbic7XG4gKlxuICogaW52YWxpZGF0ZSgodXJsKSA9PiB1cmwucGF0aG5hbWUgPT09ICcvcGF0aCcpO1xuICogYGBgXG4gKiBAcGFyYW0ge3N0cmluZyB8IFVSTCB8ICgodXJsOiBVUkwpID0+IGJvb2xlYW4pfSByZXNvdXJjZSBUaGUgaW52YWxpZGF0ZWQgVVJMXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmFsaWRhdGUocmVzb3VyY2UpIHtcblx0aWYgKCFCUk9XU0VSKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsbCBpbnZhbGlkYXRlKC4uLikgb24gdGhlIHNlcnZlcicpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiByZXNvdXJjZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdGludmFsaWRhdGVkLnB1c2gocmVzb3VyY2UpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnN0IHsgaHJlZiB9ID0gbmV3IFVSTChyZXNvdXJjZSwgbG9jYXRpb24uaHJlZik7XG5cdFx0aW52YWxpZGF0ZWQucHVzaCgodXJsKSA9PiB1cmwuaHJlZiA9PT0gaHJlZik7XG5cdH1cblxuXHRyZXR1cm4gX2ludmFsaWRhdGUoKTtcbn1cblxuLyoqXG4gKiBDYXVzZXMgYWxsIGBsb2FkYCBmdW5jdGlvbnMgYmVsb25naW5nIHRvIHRoZSBjdXJyZW50bHkgYWN0aXZlIHBhZ2UgdG8gcmUtcnVuLiBSZXR1cm5zIGEgYFByb21pc2VgIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgcGFnZSBpcyBzdWJzZXF1ZW50bHkgdXBkYXRlZC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52YWxpZGF0ZUFsbCgpIHtcblx0aWYgKCFCUk9XU0VSKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsbCBpbnZhbGlkYXRlQWxsKCkgb24gdGhlIHNlcnZlcicpO1xuXHR9XG5cblx0Zm9yY2VfaW52YWxpZGF0aW9uID0gdHJ1ZTtcblx0cmV0dXJuIF9pbnZhbGlkYXRlKCk7XG59XG5cbi8qKlxuICogUHJvZ3JhbW1hdGljYWxseSBwcmVsb2FkcyB0aGUgZ2l2ZW4gcGFnZSwgd2hpY2ggbWVhbnNcbiAqICAxLiBlbnN1cmluZyB0aGF0IHRoZSBjb2RlIGZvciB0aGUgcGFnZSBpcyBsb2FkZWQsIGFuZFxuICogIDIuIGNhbGxpbmcgdGhlIHBhZ2UncyBsb2FkIGZ1bmN0aW9uIHdpdGggdGhlIGFwcHJvcHJpYXRlIG9wdGlvbnMuXG4gKlxuICogVGhpcyBpcyB0aGUgc2FtZSBiZWhhdmlvdXIgdGhhdCBTdmVsdGVLaXQgdHJpZ2dlcnMgd2hlbiB0aGUgdXNlciB0YXBzIG9yIG1vdXNlcyBvdmVyIGFuIGA8YT5gIGVsZW1lbnQgd2l0aCBgZGF0YS1zdmVsdGVraXQtcHJlbG9hZC1kYXRhYC5cbiAqIElmIHRoZSBuZXh0IG5hdmlnYXRpb24gaXMgdG8gYGhyZWZgLCB0aGUgdmFsdWVzIHJldHVybmVkIGZyb20gbG9hZCB3aWxsIGJlIHVzZWQsIG1ha2luZyBuYXZpZ2F0aW9uIGluc3RhbnRhbmVvdXMuXG4gKiBSZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHJlc3VsdCBvZiBydW5uaW5nIHRoZSBuZXcgcm91dGUncyBgbG9hZGAgZnVuY3Rpb25zIG9uY2UgdGhlIHByZWxvYWQgaXMgY29tcGxldGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGhyZWYgUGFnZSB0byBwcmVsb2FkXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx7IHR5cGU6ICdsb2FkZWQnOyBzdGF0dXM6IG51bWJlcjsgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiB9IHwgeyB0eXBlOiAncmVkaXJlY3QnOyBsb2NhdGlvbjogc3RyaW5nIH0+fVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJlbG9hZERhdGEoaHJlZikge1xuXHRpZiAoIUJST1dTRVIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxsIHByZWxvYWREYXRhKC4uLikgb24gdGhlIHNlcnZlcicpO1xuXHR9XG5cblx0Y29uc3QgdXJsID0gcmVzb2x2ZV91cmwoaHJlZik7XG5cdGNvbnN0IGludGVudCA9IGdldF9uYXZpZ2F0aW9uX2ludGVudCh1cmwsIGZhbHNlKTtcblxuXHRpZiAoIWludGVudCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihgQXR0ZW1wdGVkIHRvIHByZWxvYWQgYSBVUkwgdGhhdCBkb2VzIG5vdCBiZWxvbmcgdG8gdGhpcyBhcHA6ICR7dXJsfWApO1xuXHR9XG5cblx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgX3ByZWxvYWRfZGF0YShpbnRlbnQpO1xuXHRpZiAocmVzdWx0LnR5cGUgPT09ICdyZWRpcmVjdCcpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dHlwZTogcmVzdWx0LnR5cGUsXG5cdFx0XHRsb2NhdGlvbjogcmVzdWx0LmxvY2F0aW9uXG5cdFx0fTtcblx0fVxuXG5cdGNvbnN0IHsgc3RhdHVzLCBkYXRhIH0gPSByZXN1bHQucHJvcHMucGFnZSA/PyBwYWdlO1xuXHRyZXR1cm4geyB0eXBlOiByZXN1bHQudHlwZSwgc3RhdHVzLCBkYXRhIH07XG59XG5cbi8qKlxuICogUHJvZ3JhbW1hdGljYWxseSBpbXBvcnRzIHRoZSBjb2RlIGZvciByb3V0ZXMgdGhhdCBoYXZlbid0IHlldCBiZWVuIGZldGNoZWQuXG4gKiBUeXBpY2FsbHksIHlvdSBtaWdodCBjYWxsIHRoaXMgdG8gc3BlZWQgdXAgc3Vic2VxdWVudCBuYXZpZ2F0aW9uLlxuICpcbiAqIFlvdSBjYW4gc3BlY2lmeSByb3V0ZXMgYnkgYW55IG1hdGNoaW5nIHBhdGhuYW1lIHN1Y2ggYXMgYC9hYm91dGAgKHRvIG1hdGNoIGBzcmMvcm91dGVzL2Fib3V0LytwYWdlLnN2ZWx0ZWApIG9yIGAvYmxvZy8qYCAodG8gbWF0Y2ggYHNyYy9yb3V0ZXMvYmxvZy9bc2x1Z10vK3BhZ2Uuc3ZlbHRlYCkuXG4gKlxuICogVW5saWtlIGBwcmVsb2FkRGF0YWAsIHRoaXMgd29uJ3QgY2FsbCBgbG9hZGAgZnVuY3Rpb25zLlxuICogUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBtb2R1bGVzIGhhdmUgYmVlbiBpbXBvcnRlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aG5hbWVcbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlbG9hZENvZGUocGF0aG5hbWUpIHtcblx0aWYgKCFCUk9XU0VSKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsbCBwcmVsb2FkQ29kZSguLi4pIG9uIHRoZSBzZXJ2ZXInKTtcblx0fVxuXG5cdGlmIChERVYpIHtcblx0XHRpZiAoIXBhdGhuYW1lLnN0YXJ0c1dpdGgoYmFzZSkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0YHBhdGhuYW1lcyBwYXNzZWQgdG8gcHJlbG9hZENvZGUgbXVzdCBzdGFydCB3aXRoIFxcYHBhdGhzLmJhc2VcXGAgKGkuZS4gXCIke2Jhc2V9JHtwYXRobmFtZX1cIiByYXRoZXIgdGhhbiBcIiR7cGF0aG5hbWV9XCIpYFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRpZiAoIXJvdXRlcy5maW5kKChyb3V0ZSkgPT4gcm91dGUuZXhlYyhnZXRfdXJsX3BhdGgocGF0aG5hbWUpKSkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgJyR7cGF0aG5hbWV9JyBkaWQgbm90IG1hdGNoIGFueSByb3V0ZXNgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gX3ByZWxvYWRfY29kZShwYXRobmFtZSk7XG59XG5cbi8qKlxuICogUHJvZ3JhbW1hdGljYWxseSBjcmVhdGUgYSBuZXcgaGlzdG9yeSBlbnRyeSB3aXRoIHRoZSBnaXZlbiBgJHBhZ2Uuc3RhdGVgLiBUbyB1c2UgdGhlIGN1cnJlbnQgVVJMLCB5b3UgY2FuIHBhc3MgYCcnYCBhcyB0aGUgZmlyc3QgYXJndW1lbnQuIFVzZWQgZm9yIFtzaGFsbG93IHJvdXRpbmddKGh0dHBzOi8va2l0LnN2ZWx0ZS5kZXYvZG9jcy9zaGFsbG93LXJvdXRpbmcpLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nIHwgVVJMfSB1cmxcbiAqIEBwYXJhbSB7QXBwLlBhZ2VTdGF0ZX0gc3RhdGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHVzaFN0YXRlKHVybCwgc3RhdGUpIHtcblx0aWYgKCFCUk9XU0VSKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsbCBwdXNoU3RhdGUoLi4uKSBvbiB0aGUgc2VydmVyJyk7XG5cdH1cblxuXHRpZiAoREVWKSB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIHVzZSBgZGV2YWx1ZS5zdHJpbmdpZnlgIGFzIGEgY29udmVuaWVudCB3YXkgdG8gZW5zdXJlIHdlIGV4Y2x1ZGUgdmFsdWVzIHRoYXQgY2FuJ3QgYmUgcHJvcGVybHkgcmVoeWRyYXRlZCwgc3VjaCBhcyBjdXN0b20gY2xhc3MgaW5zdGFuY2VzXG5cdFx0XHRkZXZhbHVlLnN0cmluZ2lmeShzdGF0ZSk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRcdHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IHNlcmlhbGl6ZSBzdGF0ZSR7ZXJyb3IucGF0aH1gKTtcblx0XHR9XG5cdH1cblxuXHR1cGRhdGVfc2Nyb2xsX3Bvc2l0aW9ucyhjdXJyZW50X2hpc3RvcnlfaW5kZXgpO1xuXG5cdGNvbnN0IG9wdHMgPSB7XG5cdFx0W0hJU1RPUllfSU5ERVhdOiAoY3VycmVudF9oaXN0b3J5X2luZGV4ICs9IDEpLFxuXHRcdFtOQVZJR0FUSU9OX0lOREVYXTogY3VycmVudF9uYXZpZ2F0aW9uX2luZGV4LFxuXHRcdFtQQUdFX1VSTF9LRVldOiBwYWdlLnVybC5ocmVmLFxuXHRcdFtTVEFURVNfS0VZXTogc3RhdGVcblx0fTtcblxuXHRoaXN0b3J5LnB1c2hTdGF0ZShvcHRzLCAnJywgcmVzb2x2ZV91cmwodXJsKSk7XG5cdGhhc19uYXZpZ2F0ZWQgPSB0cnVlO1xuXG5cdHBhZ2UgPSB7IC4uLnBhZ2UsIHN0YXRlIH07XG5cdHJvb3QuJHNldCh7IHBhZ2UgfSk7XG5cblx0Y2xlYXJfb253YXJkX2hpc3RvcnkoY3VycmVudF9oaXN0b3J5X2luZGV4LCBjdXJyZW50X25hdmlnYXRpb25faW5kZXgpO1xufVxuXG4vKipcbiAqIFByb2dyYW1tYXRpY2FsbHkgcmVwbGFjZSB0aGUgY3VycmVudCBoaXN0b3J5IGVudHJ5IHdpdGggdGhlIGdpdmVuIGAkcGFnZS5zdGF0ZWAuIFRvIHVzZSB0aGUgY3VycmVudCBVUkwsIHlvdSBjYW4gcGFzcyBgJydgIGFzIHRoZSBmaXJzdCBhcmd1bWVudC4gVXNlZCBmb3IgW3NoYWxsb3cgcm91dGluZ10oaHR0cHM6Ly9raXQuc3ZlbHRlLmRldi9kb2NzL3NoYWxsb3ctcm91dGluZykuXG4gKlxuICogQHBhcmFtIHtzdHJpbmcgfCBVUkx9IHVybFxuICogQHBhcmFtIHtBcHAuUGFnZVN0YXRlfSBzdGF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlU3RhdGUodXJsLCBzdGF0ZSkge1xuXHRpZiAoIUJST1dTRVIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxsIHJlcGxhY2VTdGF0ZSguLi4pIG9uIHRoZSBzZXJ2ZXInKTtcblx0fVxuXG5cdGlmIChERVYpIHtcblx0XHR0cnkge1xuXHRcdFx0Ly8gdXNlIGBkZXZhbHVlLnN0cmluZ2lmeWAgYXMgYSBjb252ZW5pZW50IHdheSB0byBlbnN1cmUgd2UgZXhjbHVkZSB2YWx1ZXMgdGhhdCBjYW4ndCBiZSBwcm9wZXJseSByZWh5ZHJhdGVkLCBzdWNoIGFzIGN1c3RvbSBjbGFzcyBpbnN0YW5jZXNcblx0XHRcdGRldmFsdWUuc3RyaW5naWZ5KHN0YXRlKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3Qgc2VyaWFsaXplIHN0YXRlJHtlcnJvci5wYXRofWApO1xuXHRcdH1cblx0fVxuXG5cdGNvbnN0IG9wdHMgPSB7XG5cdFx0W0hJU1RPUllfSU5ERVhdOiBjdXJyZW50X2hpc3RvcnlfaW5kZXgsXG5cdFx0W05BVklHQVRJT05fSU5ERVhdOiBjdXJyZW50X25hdmlnYXRpb25faW5kZXgsXG5cdFx0W1BBR0VfVVJMX0tFWV06IHBhZ2UudXJsLmhyZWYsXG5cdFx0W1NUQVRFU19LRVldOiBzdGF0ZVxuXHR9O1xuXG5cdGhpc3RvcnkucmVwbGFjZVN0YXRlKG9wdHMsICcnLCByZXNvbHZlX3VybCh1cmwpKTtcblxuXHRwYWdlID0geyAuLi5wYWdlLCBzdGF0ZSB9O1xuXHRyb290LiRzZXQoeyBwYWdlIH0pO1xufVxuXG4vKipcbiAqIFRoaXMgYWN0aW9uIHVwZGF0ZXMgdGhlIGBmb3JtYCBwcm9wZXJ0eSBvZiB0aGUgY3VycmVudCBwYWdlIHdpdGggdGhlIGdpdmVuIGRhdGEgYW5kIHVwZGF0ZXMgYCRwYWdlLnN0YXR1c2AuXG4gKiBJbiBjYXNlIG9mIGFuIGVycm9yLCBpdCByZWRpcmVjdHMgdG8gdGhlIG5lYXJlc3QgZXJyb3IgcGFnZS5cbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCB1bmRlZmluZWR9IFN1Y2Nlc3NcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCB1bmRlZmluZWR9IEZhaWx1cmVcbiAqIEBwYXJhbSB7aW1wb3J0KCdAc3ZlbHRlanMva2l0JykuQWN0aW9uUmVzdWx0PFN1Y2Nlc3MsIEZhaWx1cmU+fSByZXN1bHRcbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXBwbHlBY3Rpb24ocmVzdWx0KSB7XG5cdGlmICghQlJPV1NFUikge1xuXHRcdHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGwgYXBwbHlBY3Rpb24oLi4uKSBvbiB0aGUgc2VydmVyJyk7XG5cdH1cblxuXHRpZiAocmVzdWx0LnR5cGUgPT09ICdlcnJvcicpIHtcblx0XHRjb25zdCB1cmwgPSBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpO1xuXG5cdFx0Y29uc3QgeyBicmFuY2gsIHJvdXRlIH0gPSBjdXJyZW50O1xuXHRcdGlmICghcm91dGUpIHJldHVybjtcblxuXHRcdGNvbnN0IGVycm9yX2xvYWQgPSBhd2FpdCBsb2FkX25lYXJlc3RfZXJyb3JfcGFnZShjdXJyZW50LmJyYW5jaC5sZW5ndGgsIGJyYW5jaCwgcm91dGUuZXJyb3JzKTtcblx0XHRpZiAoZXJyb3JfbG9hZCkge1xuXHRcdFx0Y29uc3QgbmF2aWdhdGlvbl9yZXN1bHQgPSBhd2FpdCBnZXRfbmF2aWdhdGlvbl9yZXN1bHRfZnJvbV9icmFuY2goe1xuXHRcdFx0XHR1cmwsXG5cdFx0XHRcdHBhcmFtczogY3VycmVudC5wYXJhbXMsXG5cdFx0XHRcdGJyYW5jaDogYnJhbmNoLnNsaWNlKDAsIGVycm9yX2xvYWQuaWR4KS5jb25jYXQoZXJyb3JfbG9hZC5ub2RlKSxcblx0XHRcdFx0c3RhdHVzOiByZXN1bHQuc3RhdHVzID8/IDUwMCxcblx0XHRcdFx0ZXJyb3I6IHJlc3VsdC5lcnJvcixcblx0XHRcdFx0cm91dGVcblx0XHRcdH0pO1xuXG5cdFx0XHRjdXJyZW50ID0gbmF2aWdhdGlvbl9yZXN1bHQuc3RhdGU7XG5cblx0XHRcdHJvb3QuJHNldChuYXZpZ2F0aW9uX3Jlc3VsdC5wcm9wcyk7XG5cblx0XHRcdHRpY2soKS50aGVuKHJlc2V0X2ZvY3VzKTtcblx0XHR9XG5cdH0gZWxzZSBpZiAocmVzdWx0LnR5cGUgPT09ICdyZWRpcmVjdCcpIHtcblx0XHRfZ290byhyZXN1bHQubG9jYXRpb24sIHsgaW52YWxpZGF0ZUFsbDogdHJ1ZSB9LCAwKTtcblx0fSBlbHNlIHtcblx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIGFueT59ICovXG5cdFx0cm9vdC4kc2V0KHtcblx0XHRcdC8vIHRoaXMgYnJpbmdzIFN2ZWx0ZSdzIHZpZXcgb2YgdGhlIHdvcmxkIGluIGxpbmUgd2l0aCBTdmVsdGVLaXQnc1xuXHRcdFx0Ly8gYWZ0ZXIgdXNlOmVuaGFuY2UgcmVzZXQgdGhlIGZvcm0uLi4uXG5cdFx0XHRmb3JtOiBudWxsLFxuXHRcdFx0cGFnZTogeyAuLi5wYWdlLCBmb3JtOiByZXN1bHQuZGF0YSwgc3RhdHVzOiByZXN1bHQuc3RhdHVzIH1cblx0XHR9KTtcblxuXHRcdC8vIC4uLnNvIHRoYXQgc2V0dGluZyB0aGUgYGZvcm1gIHByb3AgdGFrZXMgZWZmZWN0IGFuZCBpc24ndCBpZ25vcmVkXG5cdFx0YXdhaXQgdGljaygpO1xuXHRcdHJvb3QuJHNldCh7IGZvcm06IHJlc3VsdC5kYXRhIH0pO1xuXG5cdFx0aWYgKHJlc3VsdC50eXBlID09PSAnc3VjY2VzcycpIHtcblx0XHRcdHJlc2V0X2ZvY3VzKCk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIF9zdGFydF9yb3V0ZXIoKSB7XG5cdGhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSAnbWFudWFsJztcblxuXHQvLyBBZG9wdGVkIGZyb20gTnV4dC5qc1xuXHQvLyBSZXNldCBzY3JvbGxSZXN0b3JhdGlvbiB0byBhdXRvIHdoZW4gbGVhdmluZyBwYWdlLCBhbGxvd2luZyBwYWdlIHJlbG9hZFxuXHQvLyBhbmQgYmFjay1uYXZpZ2F0aW9uIGZyb20gb3RoZXIgcGFnZXMgdG8gdXNlIHRoZSBicm93c2VyIHRvIHJlc3RvcmUgdGhlXG5cdC8vIHNjcm9sbGluZyBwb3NpdGlvbi5cblx0YWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgKGUpID0+IHtcblx0XHRsZXQgc2hvdWxkX2Jsb2NrID0gZmFsc2U7XG5cblx0XHRwZXJzaXN0X3N0YXRlKCk7XG5cblx0XHRpZiAoIW5hdmlnYXRpbmcpIHtcblx0XHRcdGNvbnN0IG5hdiA9IGNyZWF0ZV9uYXZpZ2F0aW9uKGN1cnJlbnQsIHVuZGVmaW5lZCwgbnVsbCwgJ2xlYXZlJyk7XG5cblx0XHRcdC8vIElmIHdlJ3JlIG5hdmlnYXRpbmcsIGJlZm9yZU5hdmlnYXRlIHdhcyBhbHJlYWR5IGNhbGxlZC4gSWYgd2UgZW5kIHVwIGluIGhlcmUgZHVyaW5nIG5hdmlnYXRpb24sXG5cdFx0XHQvLyBpdCdzIGR1ZSB0byBhbiBleHRlcm5hbCBvciBmdWxsLXBhZ2UtcmVsb2FkIGxpbmssIGZvciB3aGljaCB3ZSBkb24ndCB3YW50IHRvIGNhbGwgdGhlIGhvb2sgYWdhaW4uXG5cdFx0XHQvKiogQHR5cGUge2ltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLkJlZm9yZU5hdmlnYXRlfSAqL1xuXHRcdFx0Y29uc3QgbmF2aWdhdGlvbiA9IHtcblx0XHRcdFx0Li4ubmF2Lm5hdmlnYXRpb24sXG5cdFx0XHRcdGNhbmNlbDogKCkgPT4ge1xuXHRcdFx0XHRcdHNob3VsZF9ibG9jayA9IHRydWU7XG5cdFx0XHRcdFx0bmF2LnJlamVjdChuZXcgRXJyb3IoJ25hdmlnYXRpb24gY2FuY2VsbGVkJykpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHRiZWZvcmVfbmF2aWdhdGVfY2FsbGJhY2tzLmZvckVhY2goKGZuKSA9PiBmbihuYXZpZ2F0aW9uKSk7XG5cdFx0fVxuXG5cdFx0aWYgKHNob3VsZF9ibG9jaykge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0ZS5yZXR1cm5WYWx1ZSA9ICcnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRoaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uID0gJ2F1dG8nO1xuXHRcdH1cblx0fSk7XG5cblx0YWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsICgpID0+IHtcblx0XHRpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAnaGlkZGVuJykge1xuXHRcdFx0cGVyc2lzdF9zdGF0ZSgpO1xuXHRcdH1cblx0fSk7XG5cblx0Ly8gQHRzLWV4cGVjdC1lcnJvciB0aGlzIGlzbid0IHN1cHBvcnRlZCBldmVyeXdoZXJlIHlldFxuXHRpZiAoIW5hdmlnYXRvci5jb25uZWN0aW9uPy5zYXZlRGF0YSkge1xuXHRcdHNldHVwX3ByZWxvYWQoKTtcblx0fVxuXG5cdC8qKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50ICovXG5cdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuXHRcdC8vIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vdmlzaW9ubWVkaWEvcGFnZS5qc1xuXHRcdC8vIE1JVCBsaWNlbnNlIGh0dHBzOi8vZ2l0aHViLmNvbS92aXNpb25tZWRpYS9wYWdlLmpzI2xpY2Vuc2Vcblx0XHRpZiAoZXZlbnQuYnV0dG9uIHx8IGV2ZW50LndoaWNoICE9PSAxKSByZXR1cm47XG5cdFx0aWYgKGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5zaGlmdEtleSB8fCBldmVudC5hbHRLZXkpIHJldHVybjtcblx0XHRpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgcmV0dXJuO1xuXG5cdFx0Y29uc3QgYSA9IGZpbmRfYW5jaG9yKC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKGV2ZW50LmNvbXBvc2VkUGF0aCgpWzBdKSwgY29udGFpbmVyKTtcblx0XHRpZiAoIWEpIHJldHVybjtcblxuXHRcdGNvbnN0IHsgdXJsLCBleHRlcm5hbCwgdGFyZ2V0LCBkb3dubG9hZCB9ID0gZ2V0X2xpbmtfaW5mbyhhLCBiYXNlKTtcblx0XHRpZiAoIXVybCkgcmV0dXJuO1xuXG5cdFx0Ly8gYmFpbCBvdXQgYmVmb3JlIGBiZWZvcmVOYXZpZ2F0ZWAgaWYgbGluayBvcGVucyBpbiBhIGRpZmZlcmVudCB0YWJcblx0XHRpZiAodGFyZ2V0ID09PSAnX3BhcmVudCcgfHwgdGFyZ2V0ID09PSAnX3RvcCcpIHtcblx0XHRcdGlmICh3aW5kb3cucGFyZW50ICE9PSB3aW5kb3cpIHJldHVybjtcblx0XHR9IGVsc2UgaWYgKHRhcmdldCAmJiB0YXJnZXQgIT09ICdfc2VsZicpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBvcHRpb25zID0gZ2V0X3JvdXRlcl9vcHRpb25zKGEpO1xuXHRcdGNvbnN0IGlzX3N2Z19hX2VsZW1lbnQgPSBhIGluc3RhbmNlb2YgU1ZHQUVsZW1lbnQ7XG5cblx0XHQvLyBJZ25vcmUgVVJMIHByb3RvY29scyB0aGF0IGRpZmZlciB0byB0aGUgY3VycmVudCBvbmUgYW5kIGFyZSBub3QgaHR0cChzKSAoZS5nLiBgbWFpbHRvOmAsIGB0ZWw6YCwgYG15YXBwOmAsIGV0Yy4pXG5cdFx0Ly8gVGhpcyBtYXkgYmUgd3Jvbmcgd2hlbiB0aGUgcHJvdG9jb2wgaXMgeDogYW5kIHRoZSBsaW5rIGdvZXMgdG8geTouLiB3aGljaCBzaG91bGQgYmUgdHJlYXRlZCBhcyBhbiBleHRlcm5hbFxuXHRcdC8vIG5hdmlnYXRpb24sIGJ1dCBpdCdzIG5vdCBjbGVhciBob3cgdG8gaGFuZGxlIHRoYXQgY2FzZSBhbmQgaXQncyBub3QgbGlrZWx5IHRvIGNvbWUgdXAgaW4gcHJhY3RpY2UuXG5cdFx0Ly8gTUVNTzogV2l0aG91dCB0aGlzIGNvbmRpdGlvbiwgZmlyZWZveCB3aWxsIG9wZW4gbWFpbGVyIHR3aWNlLlxuXHRcdC8vIFNlZTpcblx0XHQvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9raXQvaXNzdWVzLzQwNDVcblx0XHQvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9raXQvaXNzdWVzLzU3MjVcblx0XHQvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9raXQvaXNzdWVzLzY0OTZcblx0XHRpZiAoXG5cdFx0XHQhaXNfc3ZnX2FfZWxlbWVudCAmJlxuXHRcdFx0dXJsLnByb3RvY29sICE9PSBsb2NhdGlvbi5wcm90b2NvbCAmJlxuXHRcdFx0ISh1cmwucHJvdG9jb2wgPT09ICdodHRwczonIHx8IHVybC5wcm90b2NvbCA9PT0gJ2h0dHA6Jylcblx0XHQpXG5cdFx0XHRyZXR1cm47XG5cblx0XHRpZiAoZG93bmxvYWQpIHJldHVybjtcblxuXHRcdC8vIElnbm9yZSB0aGUgZm9sbG93aW5nIGJ1dCBmaXJlIGJlZm9yZU5hdmlnYXRlXG5cdFx0aWYgKGV4dGVybmFsIHx8IG9wdGlvbnMucmVsb2FkKSB7XG5cdFx0XHRpZiAoX2JlZm9yZV9uYXZpZ2F0ZSh7IHVybCwgdHlwZTogJ2xpbmsnIH0pKSB7XG5cdFx0XHRcdC8vIHNldCBgbmF2aWdhdGluZ2AgdG8gYHRydWVgIHRvIHByZXZlbnQgYGJlZm9yZU5hdmlnYXRlYCBjYWxsYmFja3Ncblx0XHRcdFx0Ly8gYmVpbmcgY2FsbGVkIHdoZW4gdGhlIHBhZ2UgdW5sb2Fkc1xuXHRcdFx0XHRuYXZpZ2F0aW5nID0gdHJ1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBpZiBuZXcgdXJsIG9ubHkgZGlmZmVycyBieSBoYXNoIGFuZCB1c2UgdGhlIGJyb3dzZXIgZGVmYXVsdCBiZWhhdmlvciBpbiB0aGF0IGNhc2Vcblx0XHQvLyBUaGlzIHdpbGwgZW5zdXJlIHRoZSBgaGFzaGNoYW5nZWAgZXZlbnQgaXMgZmlyZWRcblx0XHQvLyBSZW1vdmluZyB0aGUgaGFzaCBkb2VzIGEgZnVsbCBwYWdlIG5hdmlnYXRpb24gaW4gdGhlIGJyb3dzZXIsIHNvIG1ha2Ugc3VyZSBhIGhhc2ggaXMgcHJlc2VudFxuXHRcdGNvbnN0IFtub25oYXNoLCBoYXNoXSA9IHVybC5ocmVmLnNwbGl0KCcjJyk7XG5cdFx0aWYgKGhhc2ggIT09IHVuZGVmaW5lZCAmJiBub25oYXNoID09PSBzdHJpcF9oYXNoKGxvY2F0aW9uKSkge1xuXHRcdFx0Ly8gSWYgd2UgYXJlIHRyeWluZyB0byBuYXZpZ2F0ZSB0byB0aGUgc2FtZSBoYXNoLCB3ZSBzaG91bGQgb25seVxuXHRcdFx0Ly8gYXR0ZW1wdCB0byBzY3JvbGwgdG8gdGhhdCBlbGVtZW50IGFuZCBhdm9pZCBhbnkgaGlzdG9yeSBjaGFuZ2VzLlxuXHRcdFx0Ly8gT3RoZXJ3aXNlLCB0aGlzIGNhbiBjYXVzZSBGaXJlZm94IHRvIGluY29ycmVjdGx5IGFzc2lnbiBhIG51bGxcblx0XHRcdC8vIGhpc3Rvcnkgc3RhdGUgdmFsdWUgd2l0aG91dCBhbnkgc2lnbmFsIHRoYXQgd2UgY2FuIGRldGVjdC5cblx0XHRcdGNvbnN0IFssIGN1cnJlbnRfaGFzaF0gPSBjdXJyZW50LnVybC5ocmVmLnNwbGl0KCcjJyk7XG5cdFx0XHRpZiAoY3VycmVudF9oYXNoID09PSBoYXNoKSB7XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0Ly8gV2UncmUgYWxyZWFkeSBvbiAvIyBhbmQgY2xpY2sgb24gYSBsaW5rIHRoYXQgZ29lcyB0byAvIywgb3Igd2UncmUgb25cblx0XHRcdFx0Ly8gLyN0b3AgYW5kIGNsaWNrIG9uIGEgbGluayB0aGF0IGdvZXMgdG8gLyN0b3AuIEluIHRob3NlIGNhc2VzIGp1c3QgZ28gdG9cblx0XHRcdFx0Ly8gdGhlIHRvcCBvZiB0aGUgcGFnZSwgYW5kIGF2b2lkIGEgaGlzdG9yeSBjaGFuZ2UuXG5cdFx0XHRcdGlmIChoYXNoID09PSAnJyB8fCAoaGFzaCA9PT0gJ3RvcCcgJiYgYS5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3AnKSA9PT0gbnVsbCkpIHtcblx0XHRcdFx0XHR3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IDAgfSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YS5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhhc2gpPy5zY3JvbGxJbnRvVmlldygpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Ly8gc2V0IHRoaXMgZmxhZyB0byBkaXN0aW5ndWlzaCBiZXR3ZWVuIG5hdmlnYXRpb25zIHRyaWdnZXJlZCBieVxuXHRcdFx0Ly8gY2xpY2tpbmcgYSBoYXNoIGxpbmsgYW5kIHRob3NlIHRyaWdnZXJlZCBieSBwb3BzdGF0ZVxuXHRcdFx0aGFzaF9uYXZpZ2F0aW5nID0gdHJ1ZTtcblxuXHRcdFx0dXBkYXRlX3Njcm9sbF9wb3NpdGlvbnMoY3VycmVudF9oaXN0b3J5X2luZGV4KTtcblxuXHRcdFx0dXBkYXRlX3VybCh1cmwpO1xuXG5cdFx0XHRpZiAoIW9wdGlvbnMucmVwbGFjZV9zdGF0ZSkgcmV0dXJuO1xuXG5cdFx0XHQvLyBoYXNoY2hhbmdlIGV2ZW50IHNob3VsZG4ndCBvY2N1ciBpZiB0aGUgcm91dGVyIGlzIHJlcGxhY2luZyBzdGF0ZS5cblx0XHRcdGhhc2hfbmF2aWdhdGluZyA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRuYXZpZ2F0ZSh7XG5cdFx0XHR0eXBlOiAnbGluaycsXG5cdFx0XHR1cmwsXG5cdFx0XHRrZWVwZm9jdXM6IG9wdGlvbnMua2VlcGZvY3VzLFxuXHRcdFx0bm9zY3JvbGw6IG9wdGlvbnMubm9zY3JvbGwsXG5cdFx0XHRyZXBsYWNlX3N0YXRlOiBvcHRpb25zLnJlcGxhY2Vfc3RhdGUgPz8gdXJsLmhyZWYgPT09IGxvY2F0aW9uLmhyZWZcblx0XHR9KTtcblx0fSk7XG5cblx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xuXHRcdGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47XG5cblx0XHRjb25zdCBmb3JtID0gLyoqIEB0eXBlIHtIVE1MRm9ybUVsZW1lbnR9ICovIChcblx0XHRcdEhUTUxGb3JtRWxlbWVudC5wcm90b3R5cGUuY2xvbmVOb2RlLmNhbGwoZXZlbnQudGFyZ2V0KVxuXHRcdCk7XG5cblx0XHRjb25zdCBzdWJtaXR0ZXIgPSAvKiogQHR5cGUge0hUTUxCdXR0b25FbGVtZW50IHwgSFRNTElucHV0RWxlbWVudCB8IG51bGx9ICovIChldmVudC5zdWJtaXR0ZXIpO1xuXG5cdFx0Y29uc3QgbWV0aG9kID0gc3VibWl0dGVyPy5mb3JtTWV0aG9kIHx8IGZvcm0ubWV0aG9kO1xuXG5cdFx0aWYgKG1ldGhvZCAhPT0gJ2dldCcpIHJldHVybjtcblxuXHRcdGNvbnN0IHVybCA9IG5ldyBVUkwoXG5cdFx0XHQoc3VibWl0dGVyPy5oYXNBdHRyaWJ1dGUoJ2Zvcm1hY3Rpb24nKSAmJiBzdWJtaXR0ZXI/LmZvcm1BY3Rpb24pIHx8IGZvcm0uYWN0aW9uXG5cdFx0KTtcblxuXHRcdGlmIChpc19leHRlcm5hbF91cmwodXJsLCBiYXNlKSkgcmV0dXJuO1xuXG5cdFx0Y29uc3QgZXZlbnRfZm9ybSA9IC8qKiBAdHlwZSB7SFRNTEZvcm1FbGVtZW50fSAqLyAoZXZlbnQudGFyZ2V0KTtcblxuXHRcdGNvbnN0IG9wdGlvbnMgPSBnZXRfcm91dGVyX29wdGlvbnMoZXZlbnRfZm9ybSk7XG5cdFx0aWYgKG9wdGlvbnMucmVsb2FkKSByZXR1cm47XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG5cdFx0Y29uc3QgZGF0YSA9IG5ldyBGb3JtRGF0YShldmVudF9mb3JtKTtcblxuXHRcdGNvbnN0IHN1Ym1pdHRlcl9uYW1lID0gc3VibWl0dGVyPy5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcblx0XHRpZiAoc3VibWl0dGVyX25hbWUpIHtcblx0XHRcdGRhdGEuYXBwZW5kKHN1Ym1pdHRlcl9uYW1lLCBzdWJtaXR0ZXI/LmdldEF0dHJpYnV0ZSgndmFsdWUnKSA/PyAnJyk7XG5cdFx0fVxuXG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciBgVVJMU2VhcmNoUGFyYW1zKGZkKWAgaXMga29zaGVyLCBidXQgdHlwZXNjcmlwdCBkb2Vzbid0IGtub3cgdGhhdFxuXHRcdHVybC5zZWFyY2ggPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGRhdGEpLnRvU3RyaW5nKCk7XG5cblx0XHRuYXZpZ2F0ZSh7XG5cdFx0XHR0eXBlOiAnZm9ybScsXG5cdFx0XHR1cmwsXG5cdFx0XHRrZWVwZm9jdXM6IG9wdGlvbnMua2VlcGZvY3VzLFxuXHRcdFx0bm9zY3JvbGw6IG9wdGlvbnMubm9zY3JvbGwsXG5cdFx0XHRyZXBsYWNlX3N0YXRlOiBvcHRpb25zLnJlcGxhY2Vfc3RhdGUgPz8gdXJsLmhyZWYgPT09IGxvY2F0aW9uLmhyZWZcblx0XHR9KTtcblx0fSk7XG5cblx0YWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBhc3luYyAoZXZlbnQpID0+IHtcblx0XHRpZiAoZXZlbnQuc3RhdGU/LltISVNUT1JZX0lOREVYXSkge1xuXHRcdFx0Y29uc3QgaGlzdG9yeV9pbmRleCA9IGV2ZW50LnN0YXRlW0hJU1RPUllfSU5ERVhdO1xuXHRcdFx0dG9rZW4gPSB7fTtcblxuXHRcdFx0Ly8gaWYgYSBwb3BzdGF0ZS1kcml2ZW4gbmF2aWdhdGlvbiBpcyBjYW5jZWxsZWQsIHdlIG5lZWQgdG8gY291bnRlcmFjdCBpdFxuXHRcdFx0Ly8gd2l0aCBoaXN0b3J5LmdvLCB3aGljaCBtZWFucyB3ZSBlbmQgdXAgYmFjayBoZXJlLCBoZW5jZSB0aGlzIGNoZWNrXG5cdFx0XHRpZiAoaGlzdG9yeV9pbmRleCA9PT0gY3VycmVudF9oaXN0b3J5X2luZGV4KSByZXR1cm47XG5cblx0XHRcdGNvbnN0IHNjcm9sbCA9IHNjcm9sbF9wb3NpdGlvbnNbaGlzdG9yeV9pbmRleF07XG5cdFx0XHRjb25zdCBzdGF0ZSA9IGV2ZW50LnN0YXRlW1NUQVRFU19LRVldID8/IHt9O1xuXHRcdFx0Y29uc3QgdXJsID0gbmV3IFVSTChldmVudC5zdGF0ZVtQQUdFX1VSTF9LRVldID8/IGxvY2F0aW9uLmhyZWYpO1xuXHRcdFx0Y29uc3QgbmF2aWdhdGlvbl9pbmRleCA9IGV2ZW50LnN0YXRlW05BVklHQVRJT05fSU5ERVhdO1xuXHRcdFx0Y29uc3QgaXNfaGFzaF9jaGFuZ2UgPSBzdHJpcF9oYXNoKGxvY2F0aW9uKSA9PT0gc3RyaXBfaGFzaChjdXJyZW50LnVybCk7XG5cdFx0XHRjb25zdCBzaGFsbG93ID1cblx0XHRcdFx0bmF2aWdhdGlvbl9pbmRleCA9PT0gY3VycmVudF9uYXZpZ2F0aW9uX2luZGV4ICYmIChoYXNfbmF2aWdhdGVkIHx8IGlzX2hhc2hfY2hhbmdlKTtcblxuXHRcdFx0aWYgKHNoYWxsb3cpIHtcblx0XHRcdFx0Ly8gV2UgZG9uJ3QgbmVlZCB0byBuYXZpZ2F0ZSwgd2UganVzdCBuZWVkIHRvIHVwZGF0ZSBzY3JvbGwgYW5kL29yIHN0YXRlLlxuXHRcdFx0XHQvLyBUaGlzIGhhcHBlbnMgd2l0aCBoYXNoIGxpbmtzIGFuZCBgcHVzaFN0YXRlYC9gcmVwbGFjZVN0YXRlYC4gVGhlXG5cdFx0XHRcdC8vIGV4Y2VwdGlvbiBpcyBpZiB3ZSBoYXZlbid0IG5hdmlnYXRlZCB5ZXQsIHNpbmNlIHdlIGNvdWxkIGhhdmVcblx0XHRcdFx0Ly8gZ290IGhlcmUgYWZ0ZXIgYSBtb2RhbCBuYXZpZ2F0aW9uIHRoZW4gYSByZWxvYWRcblx0XHRcdFx0dXBkYXRlX3VybCh1cmwpO1xuXG5cdFx0XHRcdHNjcm9sbF9wb3NpdGlvbnNbY3VycmVudF9oaXN0b3J5X2luZGV4XSA9IHNjcm9sbF9zdGF0ZSgpO1xuXHRcdFx0XHRpZiAoc2Nyb2xsKSBzY3JvbGxUbyhzY3JvbGwueCwgc2Nyb2xsLnkpO1xuXG5cdFx0XHRcdGlmIChzdGF0ZSAhPT0gcGFnZS5zdGF0ZSkge1xuXHRcdFx0XHRcdHBhZ2UgPSB7IC4uLnBhZ2UsIHN0YXRlIH07XG5cdFx0XHRcdFx0cm9vdC4kc2V0KHsgcGFnZSB9KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGN1cnJlbnRfaGlzdG9yeV9pbmRleCA9IGhpc3RvcnlfaW5kZXg7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgZGVsdGEgPSBoaXN0b3J5X2luZGV4IC0gY3VycmVudF9oaXN0b3J5X2luZGV4O1xuXG5cdFx0XHRhd2FpdCBuYXZpZ2F0ZSh7XG5cdFx0XHRcdHR5cGU6ICdwb3BzdGF0ZScsXG5cdFx0XHRcdHVybCxcblx0XHRcdFx0cG9wcGVkOiB7XG5cdFx0XHRcdFx0c3RhdGUsXG5cdFx0XHRcdFx0c2Nyb2xsLFxuXHRcdFx0XHRcdGRlbHRhXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGFjY2VwdDogKCkgPT4ge1xuXHRcdFx0XHRcdGN1cnJlbnRfaGlzdG9yeV9pbmRleCA9IGhpc3RvcnlfaW5kZXg7XG5cdFx0XHRcdFx0Y3VycmVudF9uYXZpZ2F0aW9uX2luZGV4ID0gbmF2aWdhdGlvbl9pbmRleDtcblx0XHRcdFx0fSxcblx0XHRcdFx0YmxvY2s6ICgpID0+IHtcblx0XHRcdFx0XHRoaXN0b3J5LmdvKC1kZWx0YSk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdG5hdl90b2tlbjogdG9rZW5cblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBzaW5jZSBwb3BzdGF0ZSBldmVudCBpcyBhbHNvIGVtaXR0ZWQgd2hlbiBhbiBhbmNob3IgcmVmZXJlbmNpbmcgdGhlIHNhbWVcblx0XHRcdC8vIGRvY3VtZW50IGlzIGNsaWNrZWQsIHdlIGhhdmUgdG8gY2hlY2sgdGhhdCB0aGUgcm91dGVyIGlzbid0IGFscmVhZHkgaGFuZGxpbmdcblx0XHRcdC8vIHRoZSBuYXZpZ2F0aW9uLiBvdGhlcndpc2Ugd2Ugd291bGQgYmUgdXBkYXRpbmcgdGhlIHBhZ2Ugc3RvcmUgdHdpY2UuXG5cdFx0XHRpZiAoIWhhc2hfbmF2aWdhdGluZykge1xuXHRcdFx0XHRjb25zdCB1cmwgPSBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpO1xuXHRcdFx0XHR1cGRhdGVfdXJsKHVybCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHRhZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgKCkgPT4ge1xuXHRcdC8vIGlmIHRoZSBoYXNoY2hhbmdlIGhhcHBlbmVkIGFzIGEgcmVzdWx0IG9mIGNsaWNraW5nIG9uIGEgbGluayxcblx0XHQvLyB3ZSBuZWVkIHRvIHVwZGF0ZSBoaXN0b3J5LCBvdGhlcndpc2Ugd2UgaGF2ZSB0byBsZWF2ZSBpdCBhbG9uZVxuXHRcdGlmIChoYXNoX25hdmlnYXRpbmcpIHtcblx0XHRcdGhhc2hfbmF2aWdhdGluZyA9IGZhbHNlO1xuXHRcdFx0aGlzdG9yeS5yZXBsYWNlU3RhdGUoXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQuLi5oaXN0b3J5LnN0YXRlLFxuXHRcdFx0XHRcdFtISVNUT1JZX0lOREVYXTogKytjdXJyZW50X2hpc3RvcnlfaW5kZXgsXG5cdFx0XHRcdFx0W05BVklHQVRJT05fSU5ERVhdOiBjdXJyZW50X25hdmlnYXRpb25faW5kZXhcblx0XHRcdFx0fSxcblx0XHRcdFx0JycsXG5cdFx0XHRcdGxvY2F0aW9uLmhyZWZcblx0XHRcdCk7XG5cdFx0fVxuXHR9KTtcblxuXHQvLyBmaXggbGlua1tyZWw9aWNvbl0sIGJlY2F1c2UgYnJvd3NlcnMgd2lsbCBvY2Nhc2lvbmFsbHkgdHJ5IHRvIGxvYWQgcmVsYXRpdmVcblx0Ly8gVVJMcyBhZnRlciBhIHB1c2hTdGF0ZS9yZXBsYWNlU3RhdGUsIHJlc3VsdGluZyBpbiBhIDQwNCDigJQgc2VlXG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9raXQvaXNzdWVzLzM3NDgjaXNzdWVjb21tZW50LTExMjU5ODA4OTdcblx0Zm9yIChjb25zdCBsaW5rIG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpbmsnKSkge1xuXHRcdGlmIChsaW5rLnJlbCA9PT0gJ2ljb24nKSBsaW5rLmhyZWYgPSBsaW5rLmhyZWY7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblx0fVxuXG5cdGFkZEV2ZW50TGlzdGVuZXIoJ3BhZ2VzaG93JywgKGV2ZW50KSA9PiB7XG5cdFx0Ly8gSWYgdGhlIHVzZXIgbmF2aWdhdGVzIHRvIGFub3RoZXIgc2l0ZSBhbmQgdGhlbiB1c2VzIHRoZSBiYWNrIGJ1dHRvbiBhbmRcblx0XHQvLyBiZmNhY2hlIGhpdHMsIHdlIG5lZWQgdG8gc2V0IG5hdmlnYXRpbmcgdG8gbnVsbCwgdGhlIHNpdGUgZG9lc24ndCBrbm93XG5cdFx0Ly8gdGhlIG5hdmlnYXRpb24gYXdheSBmcm9tIGl0IHdhcyBzdWNjZXNzZnVsLlxuXHRcdC8vIEluZm8gYWJvdXQgYmZjYWNoZSBoZXJlOiBodHRwczovL3dlYi5kZXYvYmZjYWNoZVxuXHRcdGlmIChldmVudC5wZXJzaXN0ZWQpIHtcblx0XHRcdHN0b3Jlcy5uYXZpZ2F0aW5nLnNldChudWxsKTtcblx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1VSTH0gdXJsXG5cdCAqL1xuXHRmdW5jdGlvbiB1cGRhdGVfdXJsKHVybCkge1xuXHRcdGN1cnJlbnQudXJsID0gdXJsO1xuXHRcdHN0b3Jlcy5wYWdlLnNldCh7IC4uLnBhZ2UsIHVybCB9KTtcblx0XHRzdG9yZXMucGFnZS5ub3RpZnkoKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldFxuICogQHBhcmFtIHt7XG4gKiAgIHN0YXR1czogbnVtYmVyO1xuICogICBlcnJvcjogQXBwLkVycm9yIHwgbnVsbDtcbiAqICAgbm9kZV9pZHM6IG51bWJlcltdO1xuICogICBwYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gKiAgIHJvdXRlOiB7IGlkOiBzdHJpbmcgfCBudWxsIH07XG4gKiAgIGRhdGE6IEFycmF5PGltcG9ydCgndHlwZXMnKS5TZXJ2ZXJEYXRhTm9kZSB8IG51bGw+O1xuICogICBmb3JtOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgbnVsbDtcbiAqIH19IG9wdHNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gX2h5ZHJhdGUoXG5cdHRhcmdldCxcblx0eyBzdGF0dXMgPSAyMDAsIGVycm9yLCBub2RlX2lkcywgcGFyYW1zLCByb3V0ZSwgZGF0YTogc2VydmVyX2RhdGFfbm9kZXMsIGZvcm0gfVxuKSB7XG5cdGh5ZHJhdGVkID0gdHJ1ZTtcblxuXHRjb25zdCB1cmwgPSBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpO1xuXG5cdGlmICghX19TVkVMVEVLSVRfRU1CRURERURfXykge1xuXHRcdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMva2l0L3B1bGwvNDkzNSNpc3N1ZWNvbW1lbnQtMTMyODA5MzM1OCBmb3Igb25lIG1vdGl2YXRpb25cblx0XHQvLyBvZiBkZXRlcm1pbmluZyB0aGUgcGFyYW1zIG9uIHRoZSBjbGllbnQgc2lkZS5cblx0XHQoeyBwYXJhbXMgPSB7fSwgcm91dGUgPSB7IGlkOiBudWxsIH0gfSA9IGdldF9uYXZpZ2F0aW9uX2ludGVudCh1cmwsIGZhbHNlKSB8fCB7fSk7XG5cdH1cblxuXHQvKiogQHR5cGUge2ltcG9ydCgnLi90eXBlcy5qcycpLk5hdmlnYXRpb25GaW5pc2hlZCB8IHVuZGVmaW5lZH0gKi9cblx0bGV0IHJlc3VsdDtcblxuXHR0cnkge1xuXHRcdGNvbnN0IGJyYW5jaF9wcm9taXNlcyA9IG5vZGVfaWRzLm1hcChhc3luYyAobiwgaSkgPT4ge1xuXHRcdFx0Y29uc3Qgc2VydmVyX2RhdGFfbm9kZSA9IHNlcnZlcl9kYXRhX25vZGVzW2ldO1xuXHRcdFx0Ly8gVHlwZSBpc24ndCBjb21wbGV0ZWx5IGFjY3VyYXRlLCB3ZSBzdGlsbCBuZWVkIHRvIGRlc2VyaWFsaXplIHVzZXNcblx0XHRcdGlmIChzZXJ2ZXJfZGF0YV9ub2RlPy51c2VzKSB7XG5cdFx0XHRcdHNlcnZlcl9kYXRhX25vZGUudXNlcyA9IGRlc2VyaWFsaXplX3VzZXMoc2VydmVyX2RhdGFfbm9kZS51c2VzKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGxvYWRfbm9kZSh7XG5cdFx0XHRcdGxvYWRlcjogYXBwLm5vZGVzW25dLFxuXHRcdFx0XHR1cmwsXG5cdFx0XHRcdHBhcmFtcyxcblx0XHRcdFx0cm91dGUsXG5cdFx0XHRcdHBhcmVudDogYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGRhdGEgPSB7fTtcblx0XHRcdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGk7IGogKz0gMSkge1xuXHRcdFx0XHRcdFx0T2JqZWN0LmFzc2lnbihkYXRhLCAoYXdhaXQgYnJhbmNoX3Byb21pc2VzW2pdKS5kYXRhKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHNlcnZlcl9kYXRhX25vZGU6IGNyZWF0ZV9kYXRhX25vZGUoc2VydmVyX2RhdGFfbm9kZSlcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0LyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoJy4vdHlwZXMuanMnKS5CcmFuY2hOb2RlIHwgdW5kZWZpbmVkPn0gKi9cblx0XHRjb25zdCBicmFuY2ggPSBhd2FpdCBQcm9taXNlLmFsbChicmFuY2hfcHJvbWlzZXMpO1xuXG5cdFx0Y29uc3QgcGFyc2VkX3JvdXRlID0gcm91dGVzLmZpbmQoKHsgaWQgfSkgPT4gaWQgPT09IHJvdXRlLmlkKTtcblxuXHRcdC8vIHNlcnZlci1zaWRlIHdpbGwgaGF2ZSBjb21wYWN0ZWQgdGhlIGJyYW5jaCwgcmVpbnN0YXRlIGVtcHR5IHNsb3RzXG5cdFx0Ly8gc28gdGhhdCBlcnJvciBib3VuZGFyaWVzIGNhbiBiZSBsaW5lZCB1cCBjb3JyZWN0bHlcblx0XHRpZiAocGFyc2VkX3JvdXRlKSB7XG5cdFx0XHRjb25zdCBsYXlvdXRzID0gcGFyc2VkX3JvdXRlLmxheW91dHM7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxheW91dHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKCFsYXlvdXRzW2ldKSB7XG5cdFx0XHRcdFx0YnJhbmNoLnNwbGljZShpLCAwLCB1bmRlZmluZWQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmVzdWx0ID0gYXdhaXQgZ2V0X25hdmlnYXRpb25fcmVzdWx0X2Zyb21fYnJhbmNoKHtcblx0XHRcdHVybCxcblx0XHRcdHBhcmFtcyxcblx0XHRcdGJyYW5jaCxcblx0XHRcdHN0YXR1cyxcblx0XHRcdGVycm9yLFxuXHRcdFx0Zm9ybSxcblx0XHRcdHJvdXRlOiBwYXJzZWRfcm91dGUgPz8gbnVsbFxuXHRcdH0pO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGlmIChlcnJvciBpbnN0YW5jZW9mIFJlZGlyZWN0KSB7XG5cdFx0XHQvLyB0aGlzIGlzIGEgcmVhbCBlZGdlIGNhc2Ug4oCUIGBsb2FkYCB3b3VsZCBuZWVkIHRvIHJldHVyblxuXHRcdFx0Ly8gYSByZWRpcmVjdCBidXQgb25seSBpbiB0aGUgYnJvd3NlclxuXHRcdFx0YXdhaXQgbmF0aXZlX25hdmlnYXRpb24obmV3IFVSTChlcnJvci5sb2NhdGlvbiwgbG9jYXRpb24uaHJlZikpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHJlc3VsdCA9IGF3YWl0IGxvYWRfcm9vdF9lcnJvcl9wYWdlKHtcblx0XHRcdHN0YXR1czogZ2V0X3N0YXR1cyhlcnJvciksXG5cdFx0XHRlcnJvcjogYXdhaXQgaGFuZGxlX2Vycm9yKGVycm9yLCB7IHVybCwgcGFyYW1zLCByb3V0ZSB9KSxcblx0XHRcdHVybCxcblx0XHRcdHJvdXRlXG5cdFx0fSk7XG5cdH1cblxuXHRpZiAocmVzdWx0LnByb3BzLnBhZ2UpIHtcblx0XHRyZXN1bHQucHJvcHMucGFnZS5zdGF0ZSA9IHt9O1xuXHR9XG5cblx0aW5pdGlhbGl6ZShyZXN1bHQsIHRhcmdldCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtVUkx9IHVybFxuICogQHBhcmFtIHtib29sZWFuW119IGludmFsaWRcbiAqIEByZXR1cm5zIHtQcm9taXNlPGltcG9ydCgndHlwZXMnKS5TZXJ2ZXJOb2Rlc1Jlc3BvbnNlIHwgaW1wb3J0KCd0eXBlcycpLlNlcnZlclJlZGlyZWN0Tm9kZT59XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxvYWRfZGF0YSh1cmwsIGludmFsaWQpIHtcblx0Y29uc3QgZGF0YV91cmwgPSBuZXcgVVJMKHVybCk7XG5cdGRhdGFfdXJsLnBhdGhuYW1lID0gYWRkX2RhdGFfc3VmZml4KHVybC5wYXRobmFtZSk7XG5cdGlmICh1cmwucGF0aG5hbWUuZW5kc1dpdGgoJy8nKSkge1xuXHRcdGRhdGFfdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoVFJBSUxJTkdfU0xBU0hfUEFSQU0sICcxJyk7XG5cdH1cblx0aWYgKERFViAmJiB1cmwuc2VhcmNoUGFyYW1zLmhhcyhJTlZBTElEQVRFRF9QQVJBTSkpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCB1c2VkIHJlc2VydmVkIHF1ZXJ5IHBhcmFtZXRlciBcIiR7SU5WQUxJREFURURfUEFSQU19XCJgKTtcblx0fVxuXHRkYXRhX3VybC5zZWFyY2hQYXJhbXMuYXBwZW5kKElOVkFMSURBVEVEX1BBUkFNLCBpbnZhbGlkLm1hcCgoaSkgPT4gKGkgPyAnMScgOiAnMCcpKS5qb2luKCcnKSk7XG5cblx0Y29uc3QgcmVzID0gYXdhaXQgbmF0aXZlX2ZldGNoKGRhdGFfdXJsLmhyZWYpO1xuXG5cdGlmICghcmVzLm9rKSB7XG5cdFx0Ly8gZXJyb3IgbWVzc2FnZSBpcyBhIEpTT04tc3RyaW5naWZpZWQgc3RyaW5nIHdoaWNoIGRldmFsdWUgY2FuJ3QgaGFuZGxlIGF0IHRoZSB0b3AgbGV2ZWxcblx0XHQvLyB0dXJuIGl0IGludG8gYSBIdHRwRXJyb3IgdG8gbm90IGNhbGwgaGFuZGxlRXJyb3Igb24gdGhlIGNsaWVudCBhZ2FpbiAod2FzIGFscmVhZHkgaGFuZGxlZCBvbiB0aGUgc2VydmVyKVxuXHRcdC8vIGlmIGBfX2RhdGEuanNvbmAgZG9lc24ndCBleGlzdCBvciB0aGUgc2VydmVyIGhhcyBhbiBpbnRlcm5hbCBlcnJvcixcblx0XHQvLyBhdm9pZCBwYXJzaW5nIHRoZSBIVE1MIGVycm9yIHBhZ2UgYXMgYSBKU09OXG5cdFx0LyoqIEB0eXBlIHtzdHJpbmcgfCB1bmRlZmluZWR9ICovXG5cdFx0bGV0IG1lc3NhZ2U7XG5cdFx0aWYgKHJlcy5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk/LmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJykpIHtcblx0XHRcdG1lc3NhZ2UgPSBhd2FpdCByZXMuanNvbigpO1xuXHRcdH0gZWxzZSBpZiAocmVzLnN0YXR1cyA9PT0gNDA0KSB7XG5cdFx0XHRtZXNzYWdlID0gJ05vdCBGb3VuZCc7XG5cdFx0fSBlbHNlIGlmIChyZXMuc3RhdHVzID09PSA1MDApIHtcblx0XHRcdG1lc3NhZ2UgPSAnSW50ZXJuYWwgRXJyb3InO1xuXHRcdH1cblx0XHR0aHJvdyBuZXcgSHR0cEVycm9yKHJlcy5zdGF0dXMsIG1lc3NhZ2UpO1xuXHR9XG5cblx0Ly8gVE9ETzogZml4IGVzbGludCBlcnJvciAvIGZpZ3VyZSBvdXQgaWYgaXQgYWN0dWFsbHkgYXBwbGllcyB0byBvdXIgc2l0dWF0aW9uXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXHRyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUpID0+IHtcblx0XHQvKipcblx0XHQgKiBNYXAgb2YgZGVmZXJyZWQgcHJvbWlzZXMgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGJ5IGEgc3Vic2VxdWVudCBjaHVuayBvZiBkYXRhXG5cdFx0ICogQHR5cGUge01hcDxzdHJpbmcsIGltcG9ydCgndHlwZXMnKS5EZWZlcnJlZD59XG5cdFx0ICovXG5cdFx0Y29uc3QgZGVmZXJyZWRzID0gbmV3IE1hcCgpO1xuXHRcdGNvbnN0IHJlYWRlciA9IC8qKiBAdHlwZSB7UmVhZGFibGVTdHJlYW08VWludDhBcnJheT59ICovIChyZXMuYm9keSkuZ2V0UmVhZGVyKCk7XG5cdFx0Y29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuXG5cdFx0LyoqXG5cdFx0ICogQHBhcmFtIHthbnl9IGRhdGFcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBkZXNlcmlhbGl6ZShkYXRhKSB7XG5cdFx0XHRyZXR1cm4gZGV2YWx1ZS51bmZsYXR0ZW4oZGF0YSwge1xuXHRcdFx0XHRQcm9taXNlOiAoaWQpID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKGZ1bGZpbCwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdFx0XHRkZWZlcnJlZHMuc2V0KGlkLCB7IGZ1bGZpbCwgcmVqZWN0IH0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRsZXQgdGV4dCA9ICcnO1xuXG5cdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdC8vIEZvcm1hdCBmb2xsb3dzIG5kanNvbiAoZWFjaCBsaW5lIGlzIGEgSlNPTiBvYmplY3QpIG9yIHJlZ3VsYXIgSlNPTiBzcGVjXG5cdFx0XHRjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuXHRcdFx0aWYgKGRvbmUgJiYgIXRleHQpIGJyZWFrO1xuXG5cdFx0XHR0ZXh0ICs9ICF2YWx1ZSAmJiB0ZXh0ID8gJ1xcbicgOiBkZWNvZGVyLmRlY29kZSh2YWx1ZSwgeyBzdHJlYW06IHRydWUgfSk7IC8vIG5vIHZhbHVlIC0+IGZpbmFsIGNodW5rIC0+IGFkZCBhIG5ldyBsaW5lIHRvIHRyaWdnZXIgdGhlIGxhc3QgcGFyc2VcblxuXHRcdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdFx0Y29uc3Qgc3BsaXQgPSB0ZXh0LmluZGV4T2YoJ1xcbicpO1xuXHRcdFx0XHRpZiAoc3BsaXQgPT09IC0xKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBub2RlID0gSlNPTi5wYXJzZSh0ZXh0LnNsaWNlKDAsIHNwbGl0KSk7XG5cdFx0XHRcdHRleHQgPSB0ZXh0LnNsaWNlKHNwbGl0ICsgMSk7XG5cblx0XHRcdFx0aWYgKG5vZGUudHlwZSA9PT0gJ3JlZGlyZWN0Jykge1xuXHRcdFx0XHRcdHJldHVybiByZXNvbHZlKG5vZGUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKG5vZGUudHlwZSA9PT0gJ2RhdGEnKSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyBpcyB0aGUgZmlyc3QgKGFuZCBwb3NzaWJseSBvbmx5LCBpZiBubyBwZW5kaW5nIHByb21pc2VzKSBjaHVua1xuXHRcdFx0XHRcdG5vZGUubm9kZXM/LmZvckVhY2goKC8qKiBAdHlwZSB7YW55fSAqLyBub2RlKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAobm9kZT8udHlwZSA9PT0gJ2RhdGEnKSB7XG5cdFx0XHRcdFx0XHRcdG5vZGUudXNlcyA9IGRlc2VyaWFsaXplX3VzZXMobm9kZS51c2VzKTtcblx0XHRcdFx0XHRcdFx0bm9kZS5kYXRhID0gZGVzZXJpYWxpemUobm9kZS5kYXRhKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdHJlc29sdmUobm9kZSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAobm9kZS50eXBlID09PSAnY2h1bmsnKSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyBpcyBhIHN1YnNlcXVlbnQgY2h1bmsgY29udGFpbmluZyBkZWZlcnJlZCBkYXRhXG5cdFx0XHRcdFx0Y29uc3QgeyBpZCwgZGF0YSwgZXJyb3IgfSA9IG5vZGU7XG5cdFx0XHRcdFx0Y29uc3QgZGVmZXJyZWQgPSAvKiogQHR5cGUge2ltcG9ydCgndHlwZXMnKS5EZWZlcnJlZH0gKi8gKGRlZmVycmVkcy5nZXQoaWQpKTtcblx0XHRcdFx0XHRkZWZlcnJlZHMuZGVsZXRlKGlkKTtcblxuXHRcdFx0XHRcdGlmIChlcnJvcikge1xuXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGRlc2VyaWFsaXplKGVycm9yKSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGRlZmVycmVkLmZ1bGZpbChkZXNlcmlhbGl6ZShkYXRhKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHQvLyBUT0RPIGVkZ2UgY2FzZSBoYW5kbGluZyBuZWNlc3Nhcnk/IHN0cmVhbSgpIHJlYWQgZmFpbHM/XG59XG5cbi8qKlxuICogQHBhcmFtIHthbnl9IHVzZXNcbiAqIEByZXR1cm4ge2ltcG9ydCgndHlwZXMnKS5Vc2VzfVxuICovXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZV91c2VzKHVzZXMpIHtcblx0cmV0dXJuIHtcblx0XHRkZXBlbmRlbmNpZXM6IG5ldyBTZXQodXNlcz8uZGVwZW5kZW5jaWVzID8/IFtdKSxcblx0XHRwYXJhbXM6IG5ldyBTZXQodXNlcz8ucGFyYW1zID8/IFtdKSxcblx0XHRwYXJlbnQ6ICEhdXNlcz8ucGFyZW50LFxuXHRcdHJvdXRlOiAhIXVzZXM/LnJvdXRlLFxuXHRcdHVybDogISF1c2VzPy51cmwsXG5cdFx0c2VhcmNoX3BhcmFtczogbmV3IFNldCh1c2VzPy5zZWFyY2hfcGFyYW1zID8/IFtdKVxuXHR9O1xufVxuXG5mdW5jdGlvbiByZXNldF9mb2N1cygpIHtcblx0Y29uc3QgYXV0b2ZvY3VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2F1dG9mb2N1c10nKTtcblx0aWYgKGF1dG9mb2N1cykge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRhdXRvZm9jdXMuZm9jdXMoKTtcblx0fSBlbHNlIHtcblx0XHQvLyBSZXNldCBwYWdlIHNlbGVjdGlvbiBhbmQgZm9jdXNcblx0XHQvLyBXZSB0cnkgdG8gbWltaWMgYnJvd3NlcnMnIGJlaGF2aW91ciBhcyBjbG9zZWx5IGFzIHBvc3NpYmxlIGJ5IHRhcmdldGluZyB0aGVcblx0XHQvLyBmaXJzdCBzY3JvbGxhYmxlIHJlZ2lvbiwgYnV0IHVuZm9ydHVuYXRlbHkgaXQncyBub3QgYSBwZXJmZWN0IG1hdGNoIOKAlCBlLmcuXG5cdFx0Ly8gc2hpZnQtdGFiYmluZyB3b24ndCBpbW1lZGlhdGVseSBjeWNsZSB1cCBmcm9tIHRoZSBlbmQgb2YgdGhlIHBhZ2Ugb24gQ2hyb21pdW1cblx0XHQvLyBTZWUgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW50ZXJhY3Rpb24uaHRtbCNnZXQtdGhlLWZvY3VzYWJsZS1hcmVhXG5cdFx0Y29uc3Qgcm9vdCA9IGRvY3VtZW50LmJvZHk7XG5cdFx0Y29uc3QgdGFiaW5kZXggPSByb290LmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcblxuXHRcdHJvb3QudGFiSW5kZXggPSAtMTtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0cm9vdC5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUsIGZvY3VzVmlzaWJsZTogZmFsc2UgfSk7XG5cblx0XHQvLyByZXN0b3JlIGB0YWJpbmRleGAgYXMgdG8gcHJldmVudCBgcm9vdGAgZnJvbSBzdGVhbGluZyBpbnB1dCBmcm9tIGVsZW1lbnRzXG5cdFx0aWYgKHRhYmluZGV4ICE9PSBudWxsKSB7XG5cdFx0XHRyb290LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCB0YWJpbmRleCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJvb3QucmVtb3ZlQXR0cmlidXRlKCd0YWJpbmRleCcpO1xuXHRcdH1cblxuXHRcdC8vIGNhcHR1cmUgY3VycmVudCBzZWxlY3Rpb24sIHNvIHdlIGNhbiBjb21wYXJlIHRoZSBzdGF0ZSBhZnRlclxuXHRcdC8vIHNuYXBzaG90IHJlc3RvcmF0aW9uIGFuZCBhZnRlck5hdmlnYXRlIGNhbGxiYWNrcyBoYXZlIHJ1blxuXHRcdGNvbnN0IHNlbGVjdGlvbiA9IGdldFNlbGVjdGlvbigpO1xuXG5cdFx0aWYgKHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24udHlwZSAhPT0gJ05vbmUnKSB7XG5cdFx0XHQvKiogQHR5cGUge1JhbmdlW119ICovXG5cdFx0XHRjb25zdCByYW5nZXMgPSBbXTtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Rpb24ucmFuZ2VDb3VudDsgaSArPSAxKSB7XG5cdFx0XHRcdHJhbmdlcy5wdXNoKHNlbGVjdGlvbi5nZXRSYW5nZUF0KGkpKTtcblx0XHRcdH1cblxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdGlmIChzZWxlY3Rpb24ucmFuZ2VDb3VudCAhPT0gcmFuZ2VzLmxlbmd0aCkgcmV0dXJuO1xuXG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0aW9uLnJhbmdlQ291bnQ7IGkgKz0gMSkge1xuXHRcdFx0XHRcdGNvbnN0IGEgPSByYW5nZXNbaV07XG5cdFx0XHRcdFx0Y29uc3QgYiA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KGkpO1xuXG5cdFx0XHRcdFx0Ly8gd2UgbmVlZCB0byBkbyBhIGRlZXAgY29tcGFyaXNvbiByYXRoZXIgdGhhbiBqdXN0IGBhICE9PSBiYCBiZWNhdXNlXG5cdFx0XHRcdFx0Ly8gU2FmYXJpIGJlaGF2ZXMgZGlmZmVyZW50bHkgdG8gb3RoZXIgYnJvd3NlcnNcblx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRhLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyICE9PSBiLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIHx8XG5cdFx0XHRcdFx0XHRhLnN0YXJ0Q29udGFpbmVyICE9PSBiLnN0YXJ0Q29udGFpbmVyIHx8XG5cdFx0XHRcdFx0XHRhLmVuZENvbnRhaW5lciAhPT0gYi5lbmRDb250YWluZXIgfHxcblx0XHRcdFx0XHRcdGEuc3RhcnRPZmZzZXQgIT09IGIuc3RhcnRPZmZzZXQgfHxcblx0XHRcdFx0XHRcdGEuZW5kT2Zmc2V0ICE9PSBiLmVuZE9mZnNldFxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGlmIHRoZSBzZWxlY3Rpb24gaGFzbid0IGNoYW5nZWQgKGFzIGEgcmVzdWx0IG9mIGFuIGVsZW1lbnQgYmVpbmcgKGF1dG8pZm9jdXNlZCxcblx0XHRcdFx0Ly8gb3IgYSBwcm9ncmFtbWF0aWMgc2VsZWN0aW9uLCB3ZSByZXNldCBldmVyeXRoaW5nIGFzIHBhcnQgb2YgdGhlIG5hdmlnYXRpb24pXG5cdFx0XHRcdC8vIGZpeGVzIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9raXQvaXNzdWVzLzg0Mzlcblx0XHRcdFx0c2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vdHlwZXMuanMnKS5OYXZpZ2F0aW9uU3RhdGV9IGN1cnJlbnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3R5cGVzLmpzJykuTmF2aWdhdGlvbkludGVudCB8IHVuZGVmaW5lZH0gaW50ZW50XG4gKiBAcGFyYW0ge1VSTCB8IG51bGx9IHVybFxuICogQHBhcmFtIHtFeGNsdWRlPGltcG9ydCgnQHN2ZWx0ZWpzL2tpdCcpLk5hdmlnYXRpb25UeXBlLCAnZW50ZXInPn0gdHlwZVxuICovXG5mdW5jdGlvbiBjcmVhdGVfbmF2aWdhdGlvbihjdXJyZW50LCBpbnRlbnQsIHVybCwgdHlwZSkge1xuXHQvKiogQHR5cGUgeyh2YWx1ZTogYW55KSA9PiB2b2lkfSAqL1xuXHRsZXQgZnVsZmlsO1xuXG5cdC8qKiBAdHlwZSB7KGVycm9yOiBhbnkpID0+IHZvaWR9ICovXG5cdGxldCByZWplY3Q7XG5cblx0Y29uc3QgY29tcGxldGUgPSBuZXcgUHJvbWlzZSgoZiwgcikgPT4ge1xuXHRcdGZ1bGZpbCA9IGY7XG5cdFx0cmVqZWN0ID0gcjtcblx0fSk7XG5cblx0Ly8gSGFuZGxlIGFueSBlcnJvcnMgb2ZmLWNoYWluIHNvIHRoYXQgaXQgZG9lc24ndCBzaG93IHVwIGFzIGFuIHVuaGFuZGxlZCByZWplY3Rpb25cblx0Y29tcGxldGUuY2F0Y2goKCkgPT4ge30pO1xuXG5cdC8qKiBAdHlwZSB7aW1wb3J0KCdAc3ZlbHRlanMva2l0JykuTmF2aWdhdGlvbn0gKi9cblx0Y29uc3QgbmF2aWdhdGlvbiA9IHtcblx0XHRmcm9tOiB7XG5cdFx0XHRwYXJhbXM6IGN1cnJlbnQucGFyYW1zLFxuXHRcdFx0cm91dGU6IHsgaWQ6IGN1cnJlbnQucm91dGU/LmlkID8/IG51bGwgfSxcblx0XHRcdHVybDogY3VycmVudC51cmxcblx0XHR9LFxuXHRcdHRvOiB1cmwgJiYge1xuXHRcdFx0cGFyYW1zOiBpbnRlbnQ/LnBhcmFtcyA/PyBudWxsLFxuXHRcdFx0cm91dGU6IHsgaWQ6IGludGVudD8ucm91dGU/LmlkID8/IG51bGwgfSxcblx0XHRcdHVybFxuXHRcdH0sXG5cdFx0d2lsbFVubG9hZDogIWludGVudCxcblx0XHR0eXBlLFxuXHRcdGNvbXBsZXRlXG5cdH07XG5cblx0cmV0dXJuIHtcblx0XHRuYXZpZ2F0aW9uLFxuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRmdWxmaWwsXG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdHJlamVjdFxuXHR9O1xufVxuXG5pZiAoREVWKSB7XG5cdC8vIE5hc3R5IGhhY2sgdG8gc2lsZW5jZSBoYXJtbGVzcyB3YXJuaW5ncyB0aGUgdXNlciBjYW4gZG8gbm90aGluZyBhYm91dFxuXHRjb25zdCBjb25zb2xlX3dhcm4gPSBjb25zb2xlLndhcm47XG5cdGNvbnNvbGUud2FybiA9IGZ1bmN0aW9uIHdhcm4oLi4uYXJncykge1xuXHRcdGlmIChcblx0XHRcdGFyZ3MubGVuZ3RoID09PSAxICYmXG5cdFx0XHQvPChMYXlvdXR8UGFnZXxFcnJvcikoX1tcXHckXSspPz4gd2FzIGNyZWF0ZWQgKHdpdGggdW5rbm93bnx3aXRob3V0IGV4cGVjdGVkKSBwcm9wICcoZGF0YXxmb3JtKScvLnRlc3QoXG5cdFx0XHRcdGFyZ3NbMF1cblx0XHRcdClcblx0XHQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc29sZV93YXJuKC4uLmFyZ3MpO1xuXHR9O1xuXG5cdGlmIChpbXBvcnQubWV0YS5ob3QpIHtcblx0XHRpbXBvcnQubWV0YS5ob3Qub24oJ3ZpdGU6YmVmb3JlVXBkYXRlJywgKCkgPT4ge1xuXHRcdFx0aWYgKGVycm9yZWQpIHtcblx0XHRcdFx0bG9jYXRpb24ucmVsb2FkKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cbiJdLCJuYW1lcyI6WyJub3JtYWxpemVfcGF0aCIsInBhdGgiLCJ0cmFpbGluZ19zbGFzaCIsImRlY29kZV9wYXRobmFtZSIsInBhdGhuYW1lIiwiZGVjb2RlX3BhcmFtcyIsInBhcmFtcyIsImtleSIsInN0cmlwX2hhc2giLCJocmVmIiwidHJhY2tlZF91cmxfcHJvcGVydGllcyIsIm1ha2VfdHJhY2thYmxlIiwidXJsIiwiY2FsbGJhY2siLCJzZWFyY2hfcGFyYW1zX2NhbGxiYWNrIiwidHJhY2tlZCIsIm9iaiIsInBhcmFtIiwidmFsdWUiLCJwcm9wZXJ0eSIsIkRBVEFfU1VGRklYIiwiSFRNTF9EQVRBX1NVRkZJWCIsImFkZF9kYXRhX3N1ZmZpeCIsImhhc2giLCJ2YWx1ZXMiLCJpIiwiYnVmZmVyIiwiYjY0X2RlY29kZSIsInRleHQiLCJkIiwidTgiLCJuYXRpdmVfZmV0Y2giLCJpbnB1dCIsImluaXQiLCJjYWNoZSIsImJ1aWxkX3NlbGVjdG9yIiwiaW5pdGlhbF9mZXRjaCIsInJlc291cmNlIiwib3B0cyIsInNlbGVjdG9yIiwic2NyaXB0IiwiYm9keSIsInR0bCIsInN1YnNlcXVlbnRfZmV0Y2giLCJyZXNvbHZlZCIsImNhY2hlZCIsInBhcmFtX3BhdHRlcm4iLCJwYXJzZV9yb3V0ZV9pZCIsImlkIiwiZ2V0X3JvdXRlX3NlZ21lbnRzIiwic2VnbWVudCIsInJlc3RfbWF0Y2giLCJvcHRpb25hbF9tYXRjaCIsInBhcnRzIiwiY29udGVudCIsImVzY2FwZSIsImNvZGUiLCJtYXRjaCIsImlzX29wdGlvbmFsIiwiaXNfcmVzdCIsIm5hbWUiLCJtYXRjaGVyIiwiYWZmZWN0c19wYXRoIiwicm91dGUiLCJleGVjIiwibWF0Y2hlcnMiLCJyZXN1bHQiLCJ2YWx1ZXNfbmVlZGluZ19tYXRjaCIsImJ1ZmZlcmVkIiwicyIsIm5leHRfcGFyYW0iLCJuZXh0X3ZhbHVlIiwic3RyIiwicGFyc2UiLCJub2RlcyIsInNlcnZlcl9sb2FkcyIsImRpY3Rpb25hcnkiLCJsYXlvdXRzX3dpdGhfc2VydmVyX2xvYWQiLCJsZWFmIiwibGF5b3V0cyIsImVycm9ycyIsInBhdHRlcm4iLCJuIiwiY3JlYXRlX2xheW91dF9sb2FkZXIiLCJjcmVhdGVfbGVhZl9sb2FkZXIiLCJ1c2VzX3NlcnZlcl9kYXRhIiwiZ2V0Iiwic2V0Iiwic3RyaW5naWZ5IiwiZGF0YSIsInN1YnNjcmliZXJfcXVldWUiLCJ3cml0YWJsZSIsInN0YXJ0Iiwibm9vcCIsInN0b3AiLCJzdWJzY3JpYmVycyIsIm5ld192YWx1ZSIsInNhZmVfbm90X2VxdWFsIiwicnVuX3F1ZXVlIiwic3Vic2NyaWJlciIsInVwZGF0ZSIsImZuIiwic3Vic2NyaWJlIiwicnVuIiwiaW52YWxpZGF0ZSIsIlNOQVBTSE9UX0tFWSIsIlNDUk9MTF9LRVkiLCJTVEFURVNfS0VZIiwiUEFHRV9VUkxfS0VZIiwiSElTVE9SWV9JTkRFWCIsIk5BVklHQVRJT05fSU5ERVgiLCJQUkVMT0FEX1BSSU9SSVRJRVMiLCJvcmlnaW4iLCJyZXNvbHZlX3VybCIsImJhc2VVUkkiLCJiYXNlVGFncyIsInNjcm9sbF9zdGF0ZSIsImxpbmtfb3B0aW9uIiwiZWxlbWVudCIsImxldmVscyIsInBhcmVudF9lbGVtZW50IiwicGFyZW50IiwiZmluZF9hbmNob3IiLCJ0YXJnZXQiLCJnZXRfbGlua19pbmZvIiwiYSIsImJhc2UiLCJleHRlcm5hbCIsImlzX2V4dGVybmFsX3VybCIsImRvd25sb2FkIiwiZ2V0X3JvdXRlcl9vcHRpb25zIiwia2VlcGZvY3VzIiwibm9zY3JvbGwiLCJwcmVsb2FkX2NvZGUiLCJwcmVsb2FkX2RhdGEiLCJyZWxvYWQiLCJyZXBsYWNlX3N0YXRlIiwiZWwiLCJnZXRfb3B0aW9uX3N0YXRlIiwibm90aWZpYWJsZV9zdG9yZSIsInN0b3JlIiwicmVhZHkiLCJub3RpZnkiLCJ2YWwiLCJvbGRfdmFsdWUiLCJjcmVhdGVfdXBkYXRlZF9zdG9yZSIsInRpbWVvdXQiLCJjaGVjayIsInJlcyIsImFzc2V0cyIsInVwZGF0ZWQiLCJ2ZXJzaW9uIiwiVU5ERUZJTkVEIiwiSE9MRSIsIk5BTiIsIlBPU0lUSVZFX0lORklOSVRZIiwiTkVHQVRJVkVfSU5GSU5JVFkiLCJORUdBVElWRV9aRVJPIiwidW5mbGF0dGVuIiwicGFyc2VkIiwicmV2aXZlcnMiLCJoeWRyYXRlIiwiaHlkcmF0ZWQiLCJpbmRleCIsInN0YW5kYWxvbmUiLCJ0eXBlIiwicmV2aXZlciIsIm1hcCIsImFycmF5Iiwib2JqZWN0IiwidmFsaWRfbGF5b3V0X2V4cG9ydHMiLCJ2YWxpZF9sYXlvdXRfc2VydmVyX2V4cG9ydHMiLCJjb21wYWN0IiwiYXJyIiwiSHR0cEVycm9yIiwic3RhdHVzIiwiUmVkaXJlY3QiLCJsb2NhdGlvbiIsIlN2ZWx0ZUtpdEVycm9yIiwibWVzc2FnZSIsIklOVkFMSURBVEVEX1BBUkFNIiwiVFJBSUxJTkdfU0xBU0hfUEFSQU0iLCJnZXRfc3RhdHVzIiwiZXJyb3IiLCJnZXRfbWVzc2FnZSIsInNjcm9sbF9wb3NpdGlvbnMiLCJzdG9yYWdlLmdldCIsInNuYXBzaG90cyIsInN0b3JlcyIsInVwZGF0ZV9zY3JvbGxfcG9zaXRpb25zIiwiY2xlYXJfb253YXJkX2hpc3RvcnkiLCJjdXJyZW50X2hpc3RvcnlfaW5kZXgiLCJjdXJyZW50X25hdmlnYXRpb25faW5kZXgiLCJuYXRpdmVfbmF2aWdhdGlvbiIsInJvdXRlcyIsImRlZmF1bHRfbGF5b3V0X2xvYWRlciIsImRlZmF1bHRfZXJyb3JfbG9hZGVyIiwiY29udGFpbmVyIiwiYXBwIiwiaW52YWxpZGF0ZWQiLCJjb21wb25lbnRzIiwibG9hZF9jYWNoZSIsImJlZm9yZV9uYXZpZ2F0ZV9jYWxsYmFja3MiLCJvbl9uYXZpZ2F0ZV9jYWxsYmFja3MiLCJhZnRlcl9uYXZpZ2F0ZV9jYWxsYmFja3MiLCJjdXJyZW50Iiwic3RhcnRlZCIsImF1dG9zY3JvbGwiLCJuYXZpZ2F0aW5nIiwiaGFzaF9uYXZpZ2F0aW5nIiwiaGFzX25hdmlnYXRlZCIsImZvcmNlX2ludmFsaWRhdGlvbiIsInJvb3QiLCJwYWdlIiwidG9rZW4iLCJfYXBwIiwiX3RhcmdldCIsIl9hIiwiX2IiLCJzY3JvbGwiLCJfaHlkcmF0ZSIsImdvdG8iLCJfc3RhcnRfcm91dGVyIiwicmVzZXRfaW52YWxpZGF0aW9uIiwiY2FwdHVyZV9zbmFwc2hvdCIsImMiLCJyZXN0b3JlX3NuYXBzaG90IiwicGVyc2lzdF9zdGF0ZSIsInN0b3JhZ2Uuc2V0IiwiX2dvdG8iLCJvcHRpb25zIiwicmVkaXJlY3RfY291bnQiLCJuYXZfdG9rZW4iLCJuYXZpZ2F0ZSIsIl9wcmVsb2FkX2RhdGEiLCJpbnRlbnQiLCJsb2FkX3JvdXRlIiwiX3ByZWxvYWRfY29kZSIsImdldF91cmxfcGF0aCIsImxvYWQiLCJpbml0aWFsaXplIiwic3R5bGUiLCJuYXZpZ2F0aW9uIiwiZ2V0X25hdmlnYXRpb25fcmVzdWx0X2Zyb21fYnJhbmNoIiwiYnJhbmNoIiwiZm9ybSIsInNsYXNoIiwibm9kZSIsImJyYW5jaF9ub2RlIiwiZGF0YV9jaGFuZ2VkIiwicCIsInByZXYiLCJsb2FkX25vZGUiLCJsb2FkZXIiLCJzZXJ2ZXJfZGF0YV9ub2RlIiwiaXNfdHJhY2tpbmciLCJ1c2VzIiwiZGVwZW5kcyIsImRlcHMiLCJkZXAiLCJsb2FkX2lucHV0IiwicmVxdWVzdGVkIiwiX2MiLCJoYXNfY2hhbmdlZCIsInBhcmVudF9jaGFuZ2VkIiwicm91dGVfY2hhbmdlZCIsInVybF9jaGFuZ2VkIiwic2VhcmNoX3BhcmFtc19jaGFuZ2VkIiwidHJhY2tlZF9wYXJhbXMiLCJjcmVhdGVfZGF0YV9ub2RlIiwicHJldmlvdXMiLCJkaWZmX3NlYXJjaF9wYXJhbXMiLCJvbGRfdXJsIiwibmV3X3VybCIsImNoYW5nZWQiLCJvbGRfdmFsdWVzIiwibmV3X3ZhbHVlcyIsImludmFsaWRhdGluZyIsImxvYWRlcnMiLCJzZXJ2ZXJfZGF0YSIsInBhcmVudF9pbnZhbGlkIiwiaW52YWxpZF9zZXJ2ZXJfbm9kZXMiLCJpbnZhbGlkIiwibG9hZF9kYXRhIiwibG9hZF9yb290X2Vycm9yX3BhZ2UiLCJoYW5kbGVfZXJyb3IiLCJzZXJ2ZXJfZGF0YV9ub2RlcyIsImJyYW5jaF9wcm9taXNlcyIsImoiLCJlcnIiLCJlcnJvcl9sb2FkIiwibG9hZF9uZWFyZXN0X2Vycm9yX3BhZ2UiLCJzZXJ2ZXJfZmFsbGJhY2siLCJyb290X2xheW91dCIsInJvb3RfZXJyb3IiLCJnZXRfbmF2aWdhdGlvbl9pbnRlbnQiLCJyZXJvdXRlZCIsIl9iZWZvcmVfbmF2aWdhdGUiLCJkZWx0YSIsInNob3VsZF9ibG9jayIsIm5hdiIsImNyZWF0ZV9uYXZpZ2F0aW9uIiwiY2FuY2VsbGFibGUiLCJwb3BwZWQiLCJzdGF0ZSIsImFjY2VwdCIsImJsb2NrIiwicHJldmlvdXNfaGlzdG9yeV9pbmRleCIsInByZXZpb3VzX25hdmlnYXRpb25faW5kZXgiLCJuYXZpZ2F0aW9uX3Jlc3VsdCIsImNoYW5nZSIsImVudHJ5IiwiYWZ0ZXJfbmF2aWdhdGUiLCJjbGVhbnVwIiwiYWN0aXZlRWxlbWVudCIsInRpY2siLCJkZWVwX2xpbmtlZCIsImNoYW5nZWRfZm9jdXMiLCJyZXNldF9mb2N1cyIsInNldHVwX3ByZWxvYWQiLCJtb3VzZW1vdmVfdGltZW91dCIsImV2ZW50IiwicHJlbG9hZCIsInRhcCIsIm9ic2VydmVyIiwiZW50cmllcyIsInByaW9yaXR5Iiwibm9uaGFzaCIsImN1cnJlbnRfaGFzaCIsInVwZGF0ZV91cmwiLCJzdWJtaXR0ZXIiLCJldmVudF9mb3JtIiwic3VibWl0dGVyX25hbWUiLCJoaXN0b3J5X2luZGV4IiwibmF2aWdhdGlvbl9pbmRleCIsImlzX2hhc2hfY2hhbmdlIiwibGluayIsIm5vZGVfaWRzIiwiZGVzZXJpYWxpemVfdXNlcyIsInBhcnNlZF9yb3V0ZSIsImRhdGFfdXJsIiwicmVzb2x2ZSIsImRlZmVycmVkcyIsInJlYWRlciIsImRlY29kZXIiLCJkZXNlcmlhbGl6ZSIsImRldmFsdWUudW5mbGF0dGVuIiwiZnVsZmlsIiwicmVqZWN0IiwiZG9uZSIsInNwbGl0IiwiZGVmZXJyZWQiLCJhdXRvZm9jdXMiLCJ0YWJpbmRleCIsInNlbGVjdGlvbiIsInJhbmdlcyIsImIiLCJjb21wbGV0ZSIsImYiLCJyIl0sIm1hcHBpbmdzIjoiNkRBUWlCLElBQUksSUFBSSx1QkFBdUIsRUF5QnpDLFNBQVNBLEdBQWVDLEVBQU1DLEVBQWdCLENBQ3BELE9BQUlELElBQVMsS0FBT0MsSUFBbUIsU0FBaUJELEVBRXBEQyxJQUFtQixRQUNmRCxFQUFLLFNBQVMsR0FBRyxFQUFJQSxFQUFLLE1BQU0sRUFBRyxFQUFFLEVBQUlBLEVBQ3RDQyxJQUFtQixVQUFZLENBQUNELEVBQUssU0FBUyxHQUFHLEVBQ3BEQSxFQUFPLElBR1JBLENBQ1IsQ0FNTyxTQUFTRSxHQUFnQkMsRUFBVSxDQUN6QyxPQUFPQSxFQUFTLE1BQU0sS0FBSyxFQUFFLElBQUksU0FBUyxFQUFFLEtBQUssS0FBSyxDQUN2RCxDQUdPLFNBQVNDLEdBQWNDLEVBQVEsQ0FDckMsVUFBV0MsS0FBT0QsRUFHakJBLEVBQU9DLENBQUcsRUFBSSxtQkFBbUJELEVBQU9DLENBQUcsQ0FBQyxFQUc3QyxPQUFPRCxDQUNSLENBcUJPLFNBQVNFLEdBQVcsQ0FBRSxLQUFBQyxHQUFRLENBQ3BDLE9BQU9BLEVBQUssTUFBTSxHQUFHLEVBQUUsQ0FBQyxDQUN6QixDQU1BLE1BQU1DLEdBQStDLENBQ3BELE9BQ0EsV0FDQSxTQUNBLFdBQ0EsUUFDRCxFQU9PLFNBQVNDLEdBQWVDLEVBQUtDLEVBQVVDLEVBQXdCLENBQ3JFLE1BQU1DLEVBQVUsSUFBSSxJQUFJSCxDQUFHLEVBRTNCLE9BQU8sZUFBZUcsRUFBUyxlQUFnQixDQUM5QyxNQUFPLElBQUksTUFBTUEsRUFBUSxhQUFjLENB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VixDQU1OLE1BQU01SSxFQUFPLFNBQVMsS0FDaEI2SSxFQUFXN0ksRUFBSyxhQUFhLFVBQVUsRUFFN0NBLEVBQUssU0FBVyxHQUVoQkEsRUFBSyxNQUFNLENBQUUsY0FBZSxHQUFNLGFBQWMsR0FBTyxFQUduRDZJLElBQWEsS0FDaEI3SSxFQUFLLGFBQWEsV0FBWTZJLENBQVEsRUFFdEM3SSxFQUFLLGdCQUFnQixVQUFVLEVBS2hDLE1BQU04SSxFQUFZLGVBRWQsR0FBQUEsR0FBYUEsRUFBVSxPQUFTLE9BQVEsQ0FFM0MsTUFBTUMsRUFBUyxDQUFBLEVBRWYsUUFBUzFVLEVBQUksRUFBR0EsRUFBSXlVLEVBQVUsV0FBWXpVLEdBQUssRUFDOUMwVSxFQUFPLEtBQUtELEVBQVUsV0FBV3pVLENBQUMsQ0FBQyxFQUdwQyxXQUFXLElBQU0sQ0FDWixHQUFBeVUsRUFBVSxhQUFlQyxFQUFPLE9BRXBDLFNBQVMxVSxFQUFJLEVBQUdBLEVBQUl5VSxFQUFVLFdBQVl6VSxHQUFLLEVBQUcsQ0FDM0MsTUFBQW9HLEVBQUlzTyxFQUFPMVUsQ0FBQyxFQUNaMlUsRUFBSUYsRUFBVSxXQUFXelUsQ0FBQyxFQUloQyxHQUNDb0csRUFBRSwwQkFBNEJ1TyxFQUFFLHlCQUNoQ3ZPLEVBQUUsaUJBQW1CdU8sRUFBRSxnQkFDdkJ2TyxFQUFFLGVBQWlCdU8sRUFBRSxjQUNyQnZPLEVBQUUsY0FBZ0J1TyxFQUFFLGFBQ3BCdk8sRUFBRSxZQUFjdU8sRUFBRSxVQUVsQixNQUVGLENBS0FGLEVBQVUsZ0JBQWdCLEVBQUEsQ0FDMUIsQ0FDRixDQUNELENBQ0QsQ0FRQSxTQUFTckQsR0FBa0JoRyxFQUFTOEIsRUFBUS9OLEVBQUt5SixFQUFNLFNBRWxELElBQUFzTCxFQUdBQyxFQUVKLE1BQU1TLEVBQVcsSUFBSSxRQUFRLENBQUNDLEVBQUdDLElBQU0sQ0FDN0JaLEVBQUFXLEVBQ0FWLEVBQUFXLENBQUEsQ0FDVCxFQUdELE9BQUFGLEVBQVMsTUFBTSxJQUFNLENBQUEsQ0FBRSxFQW1CaEIsQ0FDTixXQWpCa0IsQ0FDbEIsS0FBTSxDQUNMLE9BQVF4SixFQUFRLE9BQ2hCLE1BQU8sQ0FBRSxLQUFJQSxFQUFBQSxFQUFRLFFBQVJBLFlBQUFBLEVBQWUsS0FBTSxJQUFLLEVBQ3ZDLElBQUtBLEVBQVEsR0FDZCxFQUNBLEdBQUlqTSxHQUFPLENBQ1YsUUFBUStOLEdBQUEsWUFBQUEsRUFBUSxTQUFVLEtBQzFCLE1BQU8sQ0FBRSxLQUFJakIsRUFBQWlCLEdBQUEsWUFBQUEsRUFBUSxRQUFSLFlBQUFqQixFQUFlLEtBQU0sSUFBSyxFQUN2QyxJQUFBOU0sQ0FDRCxFQUNBLFdBQVksQ0FBQytOLEVBQ2IsS0FBQXRFLEVBQ0EsU0FBQWdNLENBQUEsRUFNQSxPQUFBVixFQUVBLE9BQUFDLENBQUEsQ0FFRiIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswLDEsMiwzLDQsNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3XX0=
